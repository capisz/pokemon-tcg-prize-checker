{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<\"textarea\">>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,2KAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,6QACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/deck-import.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Card } from \"@/components/ui/card\"\nimport { cn } from \"@/lib/utils\"\nimport { MusicControls } from \"@/components/music-controls\" // ⬅️ NEW\n\ntype ImportedCard = {\n  id: string\n  name: string\n  image?: string\n  set: string\n  number: string | number\n}\n\ninterface DeckImportProps {\n  onDeckImported?: (cards: ImportedCard[]) => void\n  onImportComplete?: (cards: ImportedCard[]) => void\n  initialText?: string\n  onTextChange?: (value: string) => void\n  onStartGame?: () => void\n  canStartGame?: boolean\n}\n\nexport function DeckImport(props: DeckImportProps) {\n  const {\n    onDeckImported,\n    onImportComplete,\n    initialText,\n    onTextChange,\n    onStartGame,\n    canStartGame,\n  } = props\n\n  const [rawText, setRawText] = useState(initialText ?? \"\")\n  const [previewCards, setPreviewCards] = useState<ImportedCard[]>([])\n  const [cardCounts, setCardCounts] = useState<Record<string, number>>({})\n  const [hoveredCard, setHoveredCard] = useState<ImportedCard | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    setRawText(initialText ?? \"\")\n  }, [initialText])\n\n  function parseIdsFromText(text: string) {\n    const fullIds: string[] = []\n    const counts = new Map<string, number>()\n\n    const lines = text.split(/\\r?\\n/)\n\n    for (const line of lines) {\n      const trimmed = line.trim()\n      if (!trimmed) continue\n\n      const lineMatch = trimmed.match(\n        /^\\s*(\\d+)\\s+.+\\b([A-Z]{2,4})\\s+(\\d{1,3}[A-Z]?)\\b/,\n      )\n\n      if (lineMatch) {\n        const count = Number(lineMatch[1]) || 1\n        const setCode = lineMatch[2].toLowerCase()\n        const num = lineMatch[3].toLowerCase()\n        const cardId = `${setCode}-${num}`\n\n        for (let i = 0; i < count; i++) {\n          fullIds.push(cardId)\n        }\n        counts.set(cardId, (counts.get(cardId) || 0) + count)\n        continue\n      }\n\n      const fallbackMatch = trimmed.match(\n        /\\b([A-Z]{2,4})\\s+(\\d{1,3}[A-Z]?)\\b/,\n      )\n\n      if (fallbackMatch) {\n        const setCode = fallbackMatch[1].toLowerCase()\n        const num = fallbackMatch[2].toLowerCase()\n        const cardId = `${setCode}-${num}`\n        fullIds.push(cardId)\n        counts.set(cardId, (counts.get(cardId) || 0) + 1)\n      }\n    }\n\n    const uniqueIds = Array.from(new Set(fullIds))\n\n    return {\n      fullIds,\n      uniqueIds,\n      counts,\n    }\n  }\n\n  async function handleImport() {\n    setError(null)\n\n    const { fullIds, uniqueIds, counts } = parseIdsFromText(rawText)\n\n    if (!uniqueIds.length) {\n      setPreviewCards([])\n      setCardCounts({})\n      setError(\n        \"Couldn't find any card IDs like PAF 7 / OBF 162 in the text. Make sure lines look like '4 Charmander PAF 7'.\",\n      )\n      return\n    }\n\n    setIsLoading(true)\n\n    try {\n      const response = await fetch(\"/api/cards\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ ids: uniqueIds }),\n      })\n\n      if (!response.ok) throw new Error(\"Failed to fetch cards\")\n\n      const data = await response.json()\n      const fetchedCards: ImportedCard[] = Array.isArray(data.cards)\n        ? data.cards\n        : []\n\n      const cardById = new Map<string, ImportedCard>()\n      for (const card of fetchedCards) {\n        cardById.set(card.id.toLowerCase(), card)\n      }\n\n      const expandedDeck: ImportedCard[] = fullIds.map((id, index) => {\n        const base = cardById.get(id.toLowerCase())\n        if (base) {\n          return {\n            ...base,\n            id: `${base.id}#${index}`,\n          }\n        }\n\n        const [setCode, num] = id.split(\"-\")\n        return {\n          id: `${id}#${index}`,\n          name: `Card ${setCode.toUpperCase()} ${num.toUpperCase()}`,\n          set: setCode.toUpperCase(),\n          number: num.toUpperCase(),\n        }\n      })\n\n      setPreviewCards(fetchedCards)\n      setCardCounts(Object.fromEntries(counts))\n      setHoveredCard(fetchedCards[0] ?? null)\n\n      if (onDeckImported) onDeckImported(expandedDeck)\n      if (onImportComplete) onImportComplete(expandedDeck)\n    } catch (err: any) {\n      console.error(err)\n      setError(err.message ?? \"Something went wrong importing the deck.\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleTextChange = (value: string) => {\n    setRawText(value)\n    onTextChange?.(value)\n  }\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center px-4 py-10 bg-slate-950 text-slate-50\">\n      <div className=\"w-full max-w-6xl space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between gap-4\">\n          {/* Left: title + mascot */}\n          <div className=\"flex items-center gap-3\">\n            <img\n              src=\"/sprite1_vector.svg\"\n              alt=\"PrizeCheckDrill mascot\"\n              className=\"h-30 w-30 md:h-12 md:w-12 mascot-bob\" // ⬅️ bobbing\n              style={{ imageRendering: \"pixelated\" }}\n            />\n            <div className=\"flex flex-col\">\n              <h1 className=\"text-2xl font-semibold text-emerald-400\">\n                PrizeCheckDrillr.io\n              </h1>\n             <p className=\"text-xs sm:text-sm text-slate-400\">\n  Paste your deck list and test how well you remember your prizes.{\" \"}\n  Find importable lists at{\" \"}\n  <a\n    href=\"https://limitlesstcg.com/decks/lists\"\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n    className=\"text-sky-200 hover:text-sky-300\" \n    aria-label=\"LimitlessTCG\"\n  >\n    LimitlessTCG\n  </a>\n  .\n</p>\n\n            </div>\n          </div>\n\n          {/* Right: music + Import button */}\n          <div className=\"flex items-center gap-3\">\n            {/* ⬅️ HERE is the music UI */}\n            <Button\n              size=\"sm\"\n              onClick={handleImport}\n              disabled={isLoading || !rawText.trim()}\n              className=\"rounded-full bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30\"\n            >\n              {isLoading ? \"Importing…\" : \"Import Deck\"}\n            </Button>\n          </div>\n        </div>\n\n        {/* Text area */}\n        <Card className=\"bg-slate-900/70 border border-slate-800\">\n          <div className=\"p-4\">\n            <Textarea\n              rows={6}\n              value={rawText}\n              onChange={(e) => handleTextChange(e.target.value)}\n              className=\"bg-transparent border-0 focus-visible:ring-0 text-sm font-mono text-slate-100 resize-none\"\n              placeholder={`Pokémon: 26\n2 Charmander PAF 7\n1 Charmander PFL 11\n1 Charmeleon PFL 12\n2 Charizard ex OBF 125\n...`}\n            />\n            {error && (\n              <p className=\"mt-2 text-xs text-rose-400\">{error}</p>\n            )}\n          </div>\n        </Card>\n\n        {/* Preview list + hover image */}\n        {previewCards.length > 0 && (\n          <div className=\"flex flex-col md:flex-row gap-6 mt-2\">\n            {/* List on the left */}\n            <div className=\"flex-1 max-h-[420px] overflow-y-auto rounded-lg border border-slate-800 bg-slate-900/70\">\n              {previewCards.map((card) => {\n                const baseId = card.id.toLowerCase()\n                const count = cardCounts[baseId] ?? 1\n                const isHovered = hoveredCard?.id === card.id\n\n                return (\n                  <div\n                    key={card.id}\n                    onMouseEnter={() => setHoveredCard(card)}\n                    className={cn(\n                      \"flex items-center justify-between px-4 py-2 text-sm border-b border-slate-800/60 last:border-b-0\",\n                      \"hover:bg-slate-800/70 cursor-pointer\",\n                      isHovered && \"bg-slate-800\",\n                    )}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"w-7 text-right text-slate-400\">\n                        {count}×\n                      </span>\n                      <span className=\"text-slate-50\">{card.name}</span>\n                    </div>\n                    <span className=\"text-[11px] text-slate-500\">\n                      {card.set.toUpperCase()} • {card.number}\n                    </span>\n                  </div>\n                )\n              })}\n            </div>\n\n            {/* Hover preview on the right */}\n            <div className=\"w-full md:w-64 shrink-0 flex flex-col items-center justify-start\">\n              {canStartGame && onStartGame && (\n                <Button\n                  type=\"button\"\n                  size=\"sm\"\n                  className=\"mb-4 rounded-full px-6 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30\"\n                  onClick={onStartGame}\n                >\n                  Start Game\n                </Button>\n              )}\n\n              {hoveredCard ? (\n                <>\n                  <div className=\"aspect-[2.5/3.5] w-full rounded-xl overflow-hidden border border-slate-700 bg-slate-900 shadow-lg\">\n                    {hoveredCard.image ? (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img\n                        src={hoveredCard.image}\n                        alt={hoveredCard.name}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center text-xs text-slate-400\">\n                        {hoveredCard.name}\n                      </div>\n                    )}\n                  </div>\n                  <p className=\"mt-2 text-xs text-slate-300 text-center px-2\">\n                    {hoveredCard.name}\n                  </p>\n                </>\n              ) : (\n                <p className=\"text-xs text-slate-500 text-center px-2\">\n                  Hover a card in the list to preview it.\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/progress.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\", className)}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,kEAAkE;QAC/E,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 706, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/deck-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useCallback } from \"react\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Clock, ChevronLeft, ChevronRight } from \"lucide-react\"\nimport type { PokemonCard } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\ninterface DeckViewProps {\n  deck: PokemonCard[]\n  hand: PokemonCard[]\n  onTimeUp: () => void\n  onEndEarly: () => void\n  onRestartGame?: () => void\n}\n\nconst GAME_DURATION = 120\nconst MAX_VISIBLE_DISTANCE = 3\n\nexport function DeckView({\n  deck,\n  hand,\n  onTimeUp,\n  onEndEarly,\n  onRestartGame,\n}: DeckViewProps) {\n  const [centerIndex, setCenterIndex] = useState(0)\n  const [timeRemaining, setTimeRemaining] = useState(GAME_DURATION)\n  const [deckOrder, setDeckOrder] = useState<PokemonCard[]>(deck)\n\n  // keep in sync when a new deck is imported\n  useEffect(() => {\n    setDeckOrder(deck)\n    setCenterIndex(0)\n  }, [deck])\n\n  const progress = ((GAME_DURATION - timeRemaining) / GAME_DURATION) * 100\n\n  // Timer countdown\n  useEffect(() => {\n    if (timeRemaining <= 0) {\n      onTimeUp()\n      return\n    }\n\n    const timer = setInterval(() => {\n      setTimeRemaining((prev) => Math.max(0, prev - 1))\n    }, 1000)\n\n    return () => clearInterval(timer)\n  }, [timeRemaining, onTimeUp])\n\n  // Navigation handlers\n  const goNext = useCallback(() => {\n    setCenterIndex((prev) => Math.min(prev + 1, deckOrder.length - 1))\n  }, [deckOrder.length])\n\n  const goPrevious = useCallback(() => {\n    setCenterIndex((prev) => Math.max(0, prev - 1))\n  }, [])\n\n  const moveCardToFront = useCallback(\n    (cardIndex: number) => {\n      const newDeck = [...deckOrder]\n      const [card] = newDeck.splice(cardIndex, 1)\n      newDeck.unshift(card)\n      setDeckOrder(newDeck)\n\n      setCenterIndex((prev) => {\n        if (cardIndex < prev) return Math.max(prev - 1, 0)\n        return prev\n      })\n    },\n    [deckOrder],\n  )\n\n  const moveCardToBack = useCallback(\n    (cardIndex: number) => {\n      const newDeck = [...deckOrder]\n      const [card] = newDeck.splice(cardIndex, 1)\n      newDeck.push(card)\n      setDeckOrder(newDeck)\n\n      setCenterIndex((prev) => {\n        if (cardIndex < prev) return Math.max(prev - 1, 0)\n        return Math.min(prev, newDeck.length - 1)\n      })\n    },\n    [deckOrder],\n  )\n\n  // Keyboard navigation\nuseEffect(() => {\n  const handleKeyDown = (e: KeyboardEvent) => {\n    const key = e.key.toLowerCase()\n\n    // Optional: prevent weird scrolling when using these keys\n    if ([\"arrowleft\", \"arrowright\", \"a\", \"d\"].includes(key)) {\n      e.preventDefault()\n    }\n\n    if (key === \"arrowleft\") {\n      goPrevious()\n    } else if (key === \"arrowright\") {\n      goNext()\n    } else if (key === \"a\") {\n      // Simulate LEFT CLICK on the center card → move to front\n      if (deckOrder.length > 0) {\n        moveCardToFront(centerIndex)\n      }\n    } else if (key === \"d\") {\n      // Simulate RIGHT CLICK on the center card → move to back\n      if (deckOrder.length > 0) {\n        moveCardToBack(centerIndex)\n      }\n    }\n  }\n\n  window.addEventListener(\"keydown\", handleKeyDown)\n  return () => window.removeEventListener(\"keydown\", handleKeyDown)\n}, [goNext, goPrevious, moveCardToFront, moveCardToBack, centerIndex, deckOrder.length])\n\n\n\n  // Mouse wheel navigation\n  useEffect(() => {\n    const handleWheel = (e: WheelEvent) => {\n      e.preventDefault()\n      if (e.deltaY > 0) goNext()\n      else if (e.deltaY < 0) goPrevious()\n    }\n\n    window.addEventListener(\"wheel\", handleWheel, { passive: false })\n    return () => window.removeEventListener(\"wheel\", handleWheel)\n  }, [goNext, goPrevious])\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`\n  }\n\n  return (\n    <div className=\"relative container mx-auto max-w-7xl p-6 h-screen flex flex-col gap-4\">\n      {/* Header with timer + end button */}\n      <Card className=\"p-4 bg-slate-900/90 border-slate-800 text-slate-50\">\n        <div className=\"flex items-center justify-between gap-4\">\n          <div className=\"flex items-center gap-3\">\n            <Clock\n              className={cn(\n                \"h-6 w-6\",\n                timeRemaining <= 30\n                  ? \"text-red-500 animate-pulse\"\n                  : \"text-slate-400\",\n              )}\n            />\n            <div>\n              <div\n                className={cn(\n                  \"text-2xl font-bold font-mono\",\n                  timeRemaining <= 30 ? \"text-red-500\" : \"text-slate-50\",\n                )}\n              >\n                {formatTime(timeRemaining)}\n              </div>\n              <div className=\"text-xs text-slate-400\">Time Remaining</div>\n            </div>\n          </div>\n\n          <div className=\"flex-1 max-w-md\">\n            <Progress value={progress} className=\"h-2 bg-slate-800\" />\n          </div>\n\n          <div className=\"flex items-center justify-end gap-2\">\n            {onRestartGame && (\n              <Button\n                type=\"button\"\n                size=\"sm\"\n                onClick={onRestartGame}\n                className=\"rounded-full px-4 bg-slate-800 hover:bg-slate-700 text-slate-100 text-xs font-semibold border border-slate-600\"\n              >\n                Restart\n              </Button>\n            )}\n\n            <Button\n              type=\"button\"\n              size=\"sm\"\n              onClick={onEndEarly}\n              className=\"rounded-full px-4 bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-xs font-semibold shadow-md shadow-emerald-500/30\"\n            >\n              End game\n            </Button>\n          </div>\n        </div>\n      </Card>\n\n      {/* Carousel */}\n      <div className=\"flex-1 flex items-start justify-center overflow-hidden pt-2\">\n        <div className=\"relative w-full max-w-5xl h-[520px] flex items-center justify-center\">\n          {/* Background glow behind cards */}\n          <div\n            className=\"\n              pointer-events-none\n              absolute\n              inset-x-16\n              top-15\n              h-70\n              rounded-full\n              bg-sky-500/22\n              blur-2xl\n              opacity-70\n            \"\n          />\n\n          {/* Left arrow */}\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"absolute left-0 z-40 h-12 w-12 rounded-full bg-slate-900/80 shadow-md hover:bg-slate-300 text-slate-50\"\n            onClick={goPrevious}\n            disabled={centerIndex === 0}\n          >\n            <ChevronLeft className=\"h-6 w-6\" />\n          </Button>\n\n          {/* Right arrow */}\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"absolute right-0 z-40 h-12 w-12 rounded-full bg-slate-900/80 shadow-md hover:bg-slate-300 text-slate-50\"\n            onClick={goNext}\n            disabled={centerIndex === deckOrder.length - 1}\n          >\n            <ChevronRight className=\"h-6 w-6\" />\n          </Button>\n\n          {deckOrder.map((card, index) => {\n            const relativeIndex = index - centerIndex // 0 = center\n            const distance = Math.abs(relativeIndex)\n\n            const isCenter = distance === 0\n            const xTranslate = relativeIndex * 220\n            const scale = isCenter ? 1 : Math.max(0.9, 1 - distance * 0.06)\n\n            let baseOpacity = 1\n            if (distance === 2) baseOpacity = 0.85\n            if (distance === 3) baseOpacity = 0.65\n            if (distance > MAX_VISIBLE_DISTANCE) baseOpacity = 0\n\n            const hidden = distance > MAX_VISIBLE_DISTANCE\n\n            const zClass =\n              distance === 0 ? \"z-30\" : distance === 1 ? \"z-20\" : \"z-10\"\n\n            return (\n              <div\n                key={`${card.id}-${index}`}\n                className={cn(\n                  \"absolute cursor-pointer transition-all duration-500 ease-out will-change-transform\",\n                  zClass,\n                  hidden && \"pointer-events-none\",\n                )}\n                style={{\n                  transform: `translateX(${xTranslate}px) scale(${scale})`,\n                  opacity: baseOpacity,\n                }}\n                onContextMenu={(e) => {\n                  e.preventDefault()\n                  moveCardToBack(index)\n                }}\n                onClick={() => {\n                  if (isCenter) {\n                    moveCardToFront(index)\n                  } else {\n                    setCenterIndex(index)\n                  }\n                }}\n              >\n                <div\n                  className={cn(\n                    \"w-[260px] transition-shadow duration-500\",\n                    isCenter\n                      ? \"shadow-[0_0_90px_rgba(56,189,248,0.9)]\"\n                      : \"shadow-[0_0_40px_rgba(15,23,42,0.9)]\",\n                  )}\n                >\n                  <div className=\"aspect-[2.5/3.5] relative overflow-hidden rounded-lg\">\n                    {card.image ? (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img\n                        src={card.image || \"/placeholder.svg\"}\n                        alt={card.name}\n                        className=\"w-full h-full object-cover select-none\"\n                        draggable={false}\n                      />\n                    ) : (\n                      <div className=\"w-full h-full bg-slate-800 flex items-center justify-center p-4\">\n                        <p className=\"text-lg text-center text-slate-50 font-bold text-balance\">\n                          {card.name}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n\n      {/* Bottom instructions + starting hand overlay */}\n      <div className=\"relative mt-auto group\">\n        {/* Starting hand */}\n        {hand.length > 0 && (\n          <div\n            className={cn(\n              \"absolute inset-x-0 bottom-6 flex justify-center transition-transform duration-300 ease-out z-20\",\n              \"translate-y-8\",\n              \"group-hover:translate-y-0\",\n            )}\n          >\n            <div className=\"flex gap-3 px-8 pb-2\">\n              {hand.map((card, index) => (\n                <div\n                  key={`${card.id}-hand-${index}`}\n                  className=\"w-[90px] sm:w-[100px] md:w-[110px] shadow-lg\"\n                >\n                  <div className=\"aspect-[2.5/3.5] overflow-hidden rounded-md\">\n                    {card.image ? (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img\n                        src={card.image || \"/placeholder.svg\"}\n                        alt={card.name}\n                        className=\"w-full h-full object-cover select-none\"\n                        draggable={false}\n                      />\n                    ) : (\n                      <div className=\"w-full h-full bg-slate-800 flex items-center justify-center p-2\">\n                        <p className=\"text-xs text-center text-slate-50 font-medium\">\n                          {card.name}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Help bar */}\n        <Card className=\"relative z-30 p-4 bg-slate-900/90 border-slate-800 text-slate-200\">\n          <div className=\"text-center text-sm space-y-1\">\n            <p className=\"font-medium\">\n              <span className=\"text-slate-50\">Left Click:</span> Center card (or\n              move to front if centered) •{\" \"}\n              <span className=\"text-slate-50\">Right Click:</span> Move card to\n              back\n            </p>\n            <p>\n              <span className=\"text-slate-50\">Arrow Keys / Mouse Wheel:</span>{\" \"}\n              Scroll through deck •{\" \"}\n              <span className=\"text-slate-50\">Side Arrows:</span> Step one card\n              at a time\n            </p>\n            <p className=\"text-xs mt-2 text-slate-400\">\n              Viewing card {centerIndex + 1} of {deckOrder.length}\n            </p>\n          </div>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1297, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/badge.tsx"],"sourcesContent":["import type * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E;KAFS"}},
    {"offset": {"line": 1345, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/lib/rank.ts"],"sourcesContent":["// lib/rank.ts\nexport type TierId = \"pokeball\" | \"greatball\" | \"ultraball\" | \"masterball\";\n\nexport interface RankState {\n  tier: TierId;\n  /** 0–100 for Poké/Great/Ultra; ignored for Master Ball */\n  progress: number;\n  /** Only used in Master Ball tier */\n  elo: number;\n}\n\nexport const TIER_ORDER: TierId[] = [\n  \"pokeball\",\n  \"greatball\",\n  \"ultraball\",\n  \"masterball\",\n];\n\n// lib/rank.ts\n\nconst TIER_CONFIG: Record<\n  \"pokeball\" | \"greatball\" | \"ultraball\",\n  { expected: number; scale: number }\n> = {\n  // Much easier to climb out of Poké Ball\n  pokeball:  { expected: 0.15, scale: 80 },\n  greatball: { expected: 0.35, scale: 70 },\n  ultraball: { expected: 0.55, scale: 60 },\n};\n\n\nconst MASTER_EXPECTED = 0.8;\nconst MASTER_K = 40;\n\nexport const initialRankState: RankState = {\n  tier: \"pokeball\",\n  progress: 0,\n  elo: 1200,\n};\n\nexport function updateRank(\n  current: RankState,\n  overallScore: number,\n  maxScore: number,\n): RankState {\n  const normalized = Math.max(0, Math.min(1, overallScore / maxScore));\n\n  // Master Ball → Elo mode only\n  if (current.tier === \"masterball\") {\n    const deltaElo = MASTER_K * (normalized - MASTER_EXPECTED);\n    return {\n      ...current,\n      elo: Math.max(0, Math.round(current.elo + deltaElo)),\n      progress: 0,\n    };\n  }\n\n  // Progress-bar tiers\n  const { expected, scale } = TIER_CONFIG[current.tier];\n  const delta = (normalized - expected) * scale;\n  let nextProgress = current.progress + delta;\n  let nextTier = current.tier;\n\n  const idx = TIER_ORDER.indexOf(current.tier);\n\n  // Promotion\n  if (nextProgress >= 100) {\n    const promotedTier = TIER_ORDER[idx + 1] ?? \"masterball\";\n\n    if (promotedTier === \"masterball\") {\n      const overflow = nextProgress - 100;\n      const bonus = Math.max(0, overflow) * 2; // tiny Elo head start\n      return {\n        tier: \"masterball\",\n        progress: 0,\n        elo: Math.round(1200 + bonus),\n      };\n    } else {\n      nextTier = promotedTier;\n      // keep some overflow, but cap at 40% in new tier\n      nextProgress = Math.min(40, nextProgress - 100);\n    }\n  }\n\n  // Demotion (can’t go below Poké Ball)\n  if (nextProgress <= 0 && current.tier !== \"pokeball\") {\n    const demotedTier = TIER_ORDER[idx - 1] ?? \"pokeball\";\n    nextTier = demotedTier;\n    // fall back to 80% of the lower tier so it’s easy to bounce back\n    nextProgress = 80;\n  }\n\n  nextProgress = Math.max(0, Math.min(100, nextProgress));\n\n  return {\n    ...current,\n    tier: nextTier,\n    progress: Math.round(nextProgress),\n  };\n}\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;;;;AAWP,MAAM,aAAuB;IAClC;IACA;IACA;IACA;CACD;AAED,cAAc;AAEd,MAAM,cAGF;IACF,wCAAwC;IACxC,UAAW;QAAE,UAAU;QAAM,OAAO;IAAG;IACvC,WAAW;QAAE,UAAU;QAAM,OAAO;IAAG;IACvC,WAAW;QAAE,UAAU;QAAM,OAAO;IAAG;AACzC;AAGA,MAAM,kBAAkB;AACxB,MAAM,WAAW;AAEV,MAAM,mBAA8B;IACzC,MAAM;IACN,UAAU;IACV,KAAK;AACP;AAEO,SAAS,WACd,OAAkB,EAClB,YAAoB,EACpB,QAAgB;IAEhB,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,eAAe;IAE1D,8BAA8B;IAC9B,IAAI,QAAQ,IAAI,KAAK,cAAc;QACjC,MAAM,WAAW,WAAW,CAAC,aAAa,eAAe;QACzD,OAAO;YACL,GAAG,OAAO;YACV,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,QAAQ,GAAG,GAAG;YAC1C,UAAU;QACZ;IACF;IAEA,qBAAqB;IACrB,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC,QAAQ,IAAI,CAAC;IACrD,MAAM,QAAQ,CAAC,aAAa,QAAQ,IAAI;IACxC,IAAI,eAAe,QAAQ,QAAQ,GAAG;IACtC,IAAI,WAAW,QAAQ,IAAI;IAE3B,MAAM,MAAM,WAAW,OAAO,CAAC,QAAQ,IAAI;IAE3C,YAAY;IACZ,IAAI,gBAAgB,KAAK;QACvB,MAAM,eAAe,UAAU,CAAC,MAAM,EAAE,IAAI;QAE5C,IAAI,iBAAiB,cAAc;YACjC,MAAM,WAAW,eAAe;YAChC,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,YAAY,GAAG,sBAAsB;YAC/D,OAAO;gBACL,MAAM;gBACN,UAAU;gBACV,KAAK,KAAK,KAAK,CAAC,OAAO;YACzB;QACF,OAAO;YACL,WAAW;YACX,iDAAiD;YACjD,eAAe,KAAK,GAAG,CAAC,IAAI,eAAe;QAC7C;IACF;IAEA,sCAAsC;IACtC,IAAI,gBAAgB,KAAK,QAAQ,IAAI,KAAK,YAAY;QACpD,MAAM,cAAc,UAAU,CAAC,MAAM,EAAE,IAAI;QAC3C,WAAW;QACX,iEAAiE;QACjE,eAAe;IACjB;IAEA,eAAe,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK;IAEzC,OAAO;QACL,GAAG,OAAO;QACV,MAAM;QACN,UAAU,KAAK,KAAK,CAAC;IACvB;AACF"}},
    {"offset": {"line": 1438, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/rank-display.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport type { RankState } from \"@/lib/rank\"\nimport { cn } from \"@/lib/utils\"\n\ninterface RankDisplayProps {\n  previous: RankState\n  current: RankState\n  maxScore: number\n  lastScore: number\n}\n\nconst TIER_ORDER: RankState[\"tier\"][] = [\n  \"pokeball\",\n  \"greatball\",\n  \"ultraball\",\n  \"masterball\",\n]\n\n// adjust to your actual file paths\nconst ICONS: Record<RankState[\"tier\"], string> = {\n  pokeball: \"/pokeball.png\",\n  greatball: \"/greatball.png\",\n  ultraball: \"/ultraball.png\",\n  masterball: \"/masterball.png\",\n}\n\n// brighter glow colors\nconst GLOW_COLOR: Record<RankState[\"tier\"], string> = {\n  pokeball: \"bg-rose-500/70\",\n  greatball: \"bg-sky-500/70\",\n  ultraball: \"bg-amber-300/75\",\n  masterball: \"bg-violet-500/70\",\n}\n\nfunction tierLabel(tier: RankState[\"tier\"]) {\n  switch (tier) {\n    case \"pokeball\":\n      return \"Poké Ball\"\n    case \"greatball\":\n      return \"Great Ball\"\n    case \"ultraball\":\n      return \"Ultra Ball\"\n    case \"masterball\":\n      return \"Master Ball\"\n    default:\n      return tier\n  }\n}\n\nexport function RankDisplay({\n  previous,\n  current,\n  maxScore,\n  lastScore,\n}: RankDisplayProps) {\n  const [visible, setVisible] = useState(false)\n\n  useEffect(() => {\n    const t = setTimeout(() => setVisible(true), 60)\n    return () => clearTimeout(t)\n  }, [current.tier, current.progress])\n\n  const prevIndex = TIER_ORDER.indexOf(previous.tier)\n  const currIndex = TIER_ORDER.indexOf(current.tier)\n  const promoted = currIndex > prevIndex\n  const demoted = currIndex < prevIndex\n\n  // ---------- Master Ball (Elo mode) ----------\n  if (current.tier === \"masterball\") {\n    const baseElo = Math.round((lastScore / maxScore) * 2000 + 2000)\n    const elo = current.elo ?? baseElo\n    const prevElo = previous.elo ?? elo\n    const delta = elo - prevElo\n    const hasDelta = delta !== 0\n\n    return (\n      <div\n        className={cn(\n          \"flex flex-col items-center gap-1 transition-opacity duration-700\",\n          visible ? \"opacity-100\" : \"opacity-0\",\n        )}\n      >\n        <div className=\"relative flex items-center justify-center\">\n          {/* glow only is pulsing */}\n          <div\n            className={cn(\n              \"absolute w-32 h-32 rounded-full blur-3xl opacity-90 animate-pulse\",\n              GLOW_COLOR.masterball,\n            )}\n          />\n          {/* steady icon */}\n          {/* eslint-disable-next-line @next/next/no-img-element */}\n          <img\n            src={ICONS.masterball}\n            alt=\"Master Ball rank\"\n            className=\"relative h-16 w-16\"\n          />\n        </div>\n\n        <div className=\"text-[10px] uppercase tracking-[0.22em] text-slate-400\">\n          Rank\n        </div>\n        <div className=\"text-sm font-semibold text-slate-100\">\n          Master Ball\n        </div>\n\n        <div className=\"mt-1 text-3xl font-bold text-violet-200\">\n          {elo}\n        </div>\n        {hasDelta && (\n          <div\n            className={cn(\n              \"text-xs\",\n              delta > 0 ? \"text-emerald-400\" : \"text-rose-400\",\n            )}\n          >\n            {delta > 0 ? \"+\" : \"\"}\n            {delta}\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  // ---------- Normal tiers (Poké / Great / Ultra) ----------\n  // We no longer show the bar or delta here; just icon + label\n\n  return (\n    <div\n      className={cn(\n        \"flex flex-col items-center gap-.5 transition-opacity duration-700\",\n        visible ? \"opacity-100\" : \"opacity-0\",\n      )}\n    >\n      {/* larger ball with strong, slow pulsing glow */}\n      <div className=\"relative flex items-center justify-center\">\n        <div\n          className={cn(\n            \"absolute w-36 h-36 rounded-full blur-3xl opacity-90 animate-pulse\",\n            GLOW_COLOR[current.tier],\n          )}\n        />\n        {/* eslint-disable-next-line @next/next/no-img-element */}\n        <img\n          src={ICONS[current.tier]}\n          alt={`${tierLabel(current.tier)} rank`}\n          className=\"relative h-19 w-19\"\n        />\n      </div>\n\n      <div className=\"text-[10px] uppercase tracking-[0.22em] text-slate-400\">\n        Rank\n      </div>\n      <div className=\"text-sm font-semibold text-slate-100\">\n        {tierLabel(current.tier)}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;;;AAJA;;;AAaA,MAAM,aAAkC;IACtC;IACA;IACA;IACA;CACD;AAED,mCAAmC;AACnC,MAAM,QAA2C;IAC/C,UAAU;IACV,WAAW;IACX,WAAW;IACX,YAAY;AACd;AAEA,uBAAuB;AACvB,MAAM,aAAgD;IACpD,UAAU;IACV,WAAW;IACX,WAAW;IACX,YAAY;AACd;AAEA,SAAS,UAAU,IAAuB;IACxC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEO,SAAS,YAAY,EAC1B,QAAQ,EACR,OAAO,EACP,QAAQ,EACR,SAAS,EACQ;;IACjB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;iCAAC;YACR,MAAM,IAAI;2CAAW,IAAM,WAAW;0CAAO;YAC7C;yCAAO,IAAM,aAAa;;QAC5B;gCAAG;QAAC,QAAQ,IAAI;QAAE,QAAQ,QAAQ;KAAC;IAEnC,MAAM,YAAY,WAAW,OAAO,CAAC,SAAS,IAAI;IAClD,MAAM,YAAY,WAAW,OAAO,CAAC,QAAQ,IAAI;IACjD,MAAM,WAAW,YAAY;IAC7B,MAAM,UAAU,YAAY;IAE5B,+CAA+C;IAC/C,IAAI,QAAQ,IAAI,KAAK,cAAc;QACjC,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,YAAY,WAAY,OAAO;QAC3D,MAAM,MAAM,QAAQ,GAAG,IAAI;QAC3B,MAAM,UAAU,SAAS,GAAG,IAAI;QAChC,MAAM,QAAQ,MAAM;QACpB,MAAM,WAAW,UAAU;QAE3B,qBACE,6LAAC;YACC,WAAW,IAAA,qHAAE,EACX,oEACA,UAAU,gBAAgB;;8BAG5B,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BACC,WAAW,IAAA,qHAAE,EACX,qEACA,WAAW,UAAU;;;;;;sCAKzB,6LAAC;4BACC,KAAK,MAAM,UAAU;4BACrB,KAAI;4BACJ,WAAU;;;;;;;;;;;;8BAId,6LAAC;oBAAI,WAAU;8BAAyD;;;;;;8BAGxE,6LAAC;oBAAI,WAAU;8BAAuC;;;;;;8BAItD,6LAAC;oBAAI,WAAU;8BACZ;;;;;;gBAEF,0BACC,6LAAC;oBACC,WAAW,IAAA,qHAAE,EACX,WACA,QAAQ,IAAI,qBAAqB;;wBAGlC,QAAQ,IAAI,MAAM;wBAClB;;;;;;;;;;;;;IAKX;IAEA,4DAA4D;IAC5D,6DAA6D;IAE7D,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,qEACA,UAAU,gBAAgB;;0BAI5B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAW,IAAA,qHAAE,EACX,qEACA,UAAU,CAAC,QAAQ,IAAI,CAAC;;;;;;kCAI5B,6LAAC;wBACC,KAAK,KAAK,CAAC,QAAQ,IAAI,CAAC;wBACxB,KAAK,GAAG,UAAU,QAAQ,IAAI,EAAE,KAAK,CAAC;wBACtC,WAAU;;;;;;;;;;;;0BAId,6LAAC;gBAAI,WAAU;0BAAyD;;;;;;0BAGxE,6LAAC;gBAAI,WAAU;0BACZ,UAAU,QAAQ,IAAI;;;;;;;;;;;;AAI/B;GA7GgB;KAAA"}},
    {"offset": {"line": 1645, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/results-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Trophy, CheckCircle2, XCircle, RotateCcw, Timer } from \"lucide-react\"\nimport type { PokemonCard } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\nimport type { RankState } from \"@/lib/rank\"\nimport { initialRankState, updateRank } from \"@/lib/rank\"\nimport { RankDisplay } from \"@/components/rank-display\"\n\ninterface ResultsViewProps {\n  allCards: PokemonCard[]\n  prizeCards: PokemonCard[]\n  onRestart: () => void\n  timeLeft: number | null\n  totalTime: number\n}\n\ntype Status =\n  | \"selected\"\n  | \"unselected\"\n  | \"correct\"\n  | \"incorrect\"\n  | \"missed\"\n  | \"normal\"\n\n/* ---------- Rank progress helpers ---------- */\n\nconst RANK_TIER_ORDER: RankState[\"tier\"][] = [\n  \"pokeball\",\n  \"greatball\",\n  \"ultraball\",\n  \"masterball\",\n]\n\nconst RANK_BAR_COLOR: Record<RankState[\"tier\"], string> = {\n  pokeball: \"bg-rose-400\",\n  greatball: \"bg-sky-400\",\n  ultraball: \"bg-amber-300\",\n  masterball: \"bg-violet-400\",\n}\n\nfunction computeProgressDelta(\n  previous: RankState | null,\n  current: RankState | null,\n): number | null {\n  if (!previous || !current) return null\n  if (current.tier === \"masterball\") return null\n\n  const prevIndex = RANK_TIER_ORDER.indexOf(previous.tier)\n  const currIndex = RANK_TIER_ORDER.indexOf(current.tier)\n  if (prevIndex === -1 || currIndex === -1) return null\n\n  const currentProgress = current.progress ?? 0\n\n  // Promotion: 0 → current.progress\n  if (currIndex > prevIndex) {\n    return currentProgress\n  }\n\n  // Demotion: compare to 100 of previous tier\n  if (currIndex < prevIndex) {\n    return currentProgress - 100\n  }\n\n  // Same tier: diff from previous.progress\n  return currentProgress - (previous.progress ?? 0)\n}\n\n/* ---------- Component ---------- */\n\nexport function ResultsView({\n  allCards,\n  prizeCards,\n  onRestart,\n  timeLeft,\n  totalTime,\n}: ResultsViewProps) {\n  const [selectedCards, setSelectedCards] = useState<Set<string>>(new Set())\n  const [showResults, setShowResults] = useState(false)\n  const [personalBest, setPersonalBest] = useState<number | null>(null)\n\n  // Rank state\n  const [rank, setRank] = useState<RankState | null>(null)\n  const [previousRank, setPreviousRank] = useState<RankState | null>(null)\n\n  const totalPrizes = prizeCards.length || 6\n\n  // Load personal best once\n  useEffect(() => {\n    if (typeof window === \"undefined\") return\n    const stored = window.localStorage.getItem(\"prizeCheckerPersonalBest\")\n    if (stored) {\n      const value = Number(stored)\n      if (!Number.isNaN(value)) setPersonalBest(value)\n    }\n  }, [])\n\n  // Load rank once\n  useEffect(() => {\n    if (typeof window === \"undefined\") return\n    const stored = window.localStorage.getItem(\"prizeCheckerRankState\")\n    if (stored) {\n      try {\n        const parsed = JSON.parse(stored) as RankState\n        setRank(parsed)\n      } catch {\n        setRank(initialRankState)\n      }\n    } else {\n      setRank(initialRankState)\n    }\n  }, [])\n\n  // Expand meta & sort so duplicates are grouped together\n  const cardsWithMeta = useMemo(\n    () =>\n      allCards\n        .map((card) => ({\n          ...card,\n          instanceId: card.id,\n          baseId: card.id.split(\"#\")[0],\n        }))\n        .sort((a, b) => {\n          if (a.baseId === b.baseId) {\n            return a.instanceId.localeCompare(b.instanceId)\n          }\n          return a.baseId.localeCompare(b.baseId)\n        }),\n    [allCards],\n  )\n\n  // prize counts per base card (handles duplicates)\n  const prizeCountByBase = useMemo(() => {\n    const map = new Map<string, number>()\n    for (const c of prizeCards) {\n      const baseId = c.id.split(\"#\")[0]\n      map.set(baseId, (map.get(baseId) || 0) + 1)\n    }\n    return map\n  }, [prizeCards])\n\n  const toggleCard = (cardId: string) => {\n    if (showResults) return\n\n    const next = new Set(selectedCards)\n    if (next.has(cardId)) {\n      next.delete(cardId)\n    } else if (next.size < 6) {\n      next.add(cardId)\n    }\n    setSelectedCards(next)\n  }\n\n  const [statusMap, correctGuesses, incorrectGuesses, missedPrizes] = useMemo(() => {\n    if (!showResults) return [new Map<string, Status>(), 0, 0, 0] as const\n\n    const status = new Map<string, Status>()\n\n    // group instances by baseId\n    const cardsByBase = new Map<string, string[]>()\n    for (const c of cardsWithMeta) {\n      const ids = cardsByBase.get(c.baseId) || []\n      ids.push(c.instanceId)\n      cardsByBase.set(c.baseId, ids)\n    }\n\n    let correct = 0\n    let incorrect = 0\n    let missed = 0\n\n    for (const [baseId, instanceIds] of cardsByBase.entries()) {\n      const prizeCount = prizeCountByBase.get(baseId) || 0\n      if (prizeCount === 0) {\n        // nothing prized for this card: only mark selected as incorrect\n        for (const id of instanceIds) {\n          if (selectedCards.has(id)) {\n            status.set(id, \"incorrect\")\n            incorrect++\n          }\n        }\n        continue\n      }\n\n      const selectedIds = instanceIds.filter((id) => selectedCards.has(id))\n      const correctCount = Math.min(prizeCount, selectedIds.length)\n\n      // mark correct selected\n      for (let i = 0; i < correctCount; i++) {\n        const id = selectedIds[i]\n        status.set(id, \"correct\")\n        correct++\n      }\n\n      // extra selected -> incorrect\n      for (let i = correctCount; i < selectedIds.length; i++) {\n        const id = selectedIds[i]\n        status.set(id, \"incorrect\")\n        incorrect++\n      }\n\n      // remaining prized copies that were never selected -> missed\n      const remainingPrizes = prizeCount - correctCount\n      if (remainingPrizes > 0) {\n        const unselectedIds = instanceIds.filter((id) => !selectedCards.has(id))\n        for (let i = 0; i < Math.min(remainingPrizes, unselectedIds.length); i++) {\n          const id = unselectedIds[i]\n          status.set(id, \"missed\")\n          missed++\n        }\n      }\n    }\n\n    return [status, correct, incorrect, missed] as const\n  }, [showResults, cardsWithMeta, prizeCountByBase, selectedCards])\n\n  const handleSubmit = () => {\n    setShowResults(true)\n  }\n\n  const accuracy =\n    totalPrizes > 0 ? Math.round((correctGuesses / totalPrizes) * 100) : 0\n\n  // If timeLeft is null, assume 0 seconds used (fastest case)\n  const usedTime =\n    timeLeft == null ? 0 : Math.max(0, totalTime - timeLeft)\n\n  const timePercent =\n    totalTime === 0\n      ? 0\n      : Math.max(0, Math.min(1, (totalTime - usedTime) / totalTime)) // more left = better\n\n  // scoring: 70% accuracy, 30% speed, scaled to 0–1000\n  const score = (() => {\n    const accScore = accuracy / 100\n    const raw = accScore * 0.7 + timePercent * 0.3\n    return Math.round(raw * 1000)\n  })()\n\n  // PB update\n  useEffect(() => {\n    if (!showResults) return\n    if (typeof window === \"undefined\") return\n\n    setPersonalBest((prev) => {\n      const currentBest =\n        prev ??\n        (() => {\n          const stored = window.localStorage.getItem(\"prizeCheckerPersonalBest\")\n          const n = stored ? Number(stored) : 0\n          return Number.isNaN(n) ? 0 : n\n        })()\n\n      const newBest = score > currentBest ? score : currentBest\n      if (newBest !== currentBest) {\n        window.localStorage.setItem(\"prizeCheckerPersonalBest\", String(newBest))\n      }\n      return newBest\n    })\n  }, [showResults, score])\n\n  // rank update when results show\n  useEffect(() => {\n    if (!showResults) return\n    if (typeof window === \"undefined\") return\n\n    setRank((current) => {\n      const currentRank = current ?? initialRankState\n      const nextRank = updateRank(currentRank, score, 1000)\n      setPreviousRank(currentRank)\n      window.localStorage.setItem(\n        \"prizeCheckerRankState\",\n        JSON.stringify(nextRank),\n      )\n      return nextRank\n    })\n  }, [showResults, score])\n\n  const isNewPB =\n    showResults && (personalBest === null || score >= personalBest)\n\n  const scoreColor = (() => {\n    if (score >= 800) return \"text-emerald-400\"\n    if (score >= 600) return \"text-lime-400\"\n    if (score >= 400) return \"text-amber-400\"\n    return \"text-rose-400\"\n  })()\n\n  const scoreBadgeBg = (() => {\n    if (score >= 800) return \"bg-emerald-500/15 border-emerald-500/50\"\n    if (score >= 600) return \"bg-lime-500/10 border-lime-500/40\"\n    if (score >= 400) return \"bg-amber-500/10 border-amber-500/40\"\n    return \"bg-rose-500/10 border-rose-500/40\"\n  })()\n\n  const getCardStatus = (cardId: string): Status => {\n    if (!showResults) {\n      return selectedCards.has(cardId) ? \"selected\" : \"unselected\"\n    }\n    return statusMap.get(cardId) ?? \"normal\"\n  }\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`\n  }\n\n  return (\n    <div className=\"container mx-auto max-w-7xl p-6 space-y-6 text-slate-50\">\n      {/* Header */}\n      <div className=\"text-center space-y-2\">\n        <h1 className=\"text-4xl font-bold text-balance\">\n          Select The Prize Cards\n        </h1>\n        <p className=\"text-slate-400 text-sm sm:text-base\">\n          {showResults\n            ? \"Here are your results.\"\n            : \"Select the 6 cards you believe were prizes.\"}\n        </p>\n      </div>\n\n      {/* Score + rank + stats + legend + bar */}\n      {showResults && (\n        <Card className=\"p-4 sm:p-4 bg-slate-900/90 border border-slate-700 text-slate-50 space-y-2\">\n          {/* Top row: Score + Rank + Stats */}\n          <div className=\"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between\">\n            {/* Left: Score + PB */}\n            <div className=\"flex items-center gap-4\">\n              <div\n                className={cn(\n                  \"flex items-center gap-3 rounded-xl px-4 py-2 border\",\n                  scoreBadgeBg,\n                )}\n              >\n                <Trophy className=\"h-6 w-6 text-amber-300\" />\n                <div className=\"flex flex-col items-start\">\n                  <span\n                    className={cn(\n                      \"text-2xl sm:text-3xl font-semibold\",\n                      scoreColor,\n                    )}\n                  >\n                    {score}\n                  </span>\n                  <span className=\"text-[11px] uppercase tracking-wide text-slate-400\">\n                    Overall score\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"flex flex-col gap-1 text-xs sm:text-sm text-slate-300\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-slate-400\">Personal Best:</span>\n                  <span className=\"font-semibold\">\n                    {personalBest ?? \"—\"}\n                  </span>\n                  {isNewPB && (\n                    <Badge className=\"bg-emerald-500 text-white text-[10px] uppercase tracking-wide\">\n                      New PB\n                    </Badge>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Center: Rank (bigger & slightly lower) */}\n            {rank && previousRank && (\n              <div className=\"flex justify-center flex-1 mt-4\">\n                <div className=\"scale-150\">\n                  <RankDisplay\n                    previous={previousRank}\n                    current={rank}\n                    maxScore={1000}\n                    lastScore={score}\n                  />\n                </div>\n              </div>\n            )}\n\n            {/* Right: Stats */}\n            <div className=\"flex flex-wrap gap-4 text-xs sm:text-sm text-slate-300 justify-end\">\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <CheckCircle2 className=\"h-4 w-4 text-emerald-400\" />\n                  {correctGuesses} / {totalPrizes}\n                </span>\n                <span className=\"text-slate-400\">Correct ({accuracy}%)</span>\n              </div>\n\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <XCircle className=\"h-4 w-4 text-rose-400\" />\n                  {incorrectGuesses}\n                </span>\n                <span className=\"text-slate-400\">Wrong</span>\n              </div>\n\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <XCircle className=\"h-4 w-4 text-orange-400\" />\n                  {missedPrizes}\n                </span>\n                <span className=\"text-slate-400\">Missed</span>\n              </div>\n\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <Timer className=\"h-4 w-4 text-sky-400\" />\n                  {formatTime(usedTime)}\n                </span>\n                <span className=\"text-slate-400\">\n                  of {formatTime(totalTime)} used\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Legend + Play Again + bottom progress bar (all aligned) */}\n          <div className=\"pt-3 space-y-3\">\n            <div className=\"flex flex-wrap items-center justify-between gap-4\">\n              <div className=\"flex flex-wrap items-center gap-4 text-xs sm:text-sm text-slate-200\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-4 h-4 rounded border-4 border-emerald-400\" />\n                  <span>Correct guess</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-4 h-4 rounded border-4 border-rose-500\" />\n                  <span>Wrong guess</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-4 h-4 rounded border-4 border-orange-400\" />\n                  <span>Missed prize</span>\n                </div>\n              </div>\n\n            <Button\n  onClick={onRestart}\n  size=\"sm\"\n  className=\"rounded-full px-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30\"\n>\n  <RotateCcw className=\"mr-2 h-4 w-4\" />\n  Play Again\n</Button>\n\n            </div>\n\n            {/* Full-width bottom bar */}\n            {rank && rank.tier !== \"masterball\" && (\n              <div className=\"w-full\">\n                {(() => {\n                  const clamped = Math.max(\n                    0,\n                    Math.min(100, rank.progress ?? 0),\n                  )\n                  const toNext = Math.max(0, 100 - clamped)\n                  const delta = computeProgressDelta(previousRank, rank)\n\n                  return (\n                    <>\n                      <div className=\"w-full h-1 rounded-full bg-slate-800 overflow-hidden\">\n                        <div\n                          className={cn(\n                            \"h-full transition-all duration-800\",\n                            RANK_BAR_COLOR[rank.tier],\n                          )}\n                          style={{ width: `${clamped}%` }}\n                        />\n                      </div>\n                      <div className=\"mt-1 text-center text-[11px] text-slate-400\">\n                        {toNext}% to next rank\n                        {delta !== null && delta !== 0 && (\n                          <span\n                            className={cn(\n                              \"ml-1\",\n                              delta > 0 ? \"text-emerald-400\" : \"text-rose-400\",\n                            )}\n                          >\n                            ({delta > 0 ? \"+\" : \"\"}\n                            {Math.round(delta)})\n                          </span>\n                        )}\n                      </div>\n                    </>\n                  )\n                })()}\n              </div>\n            )}\n          </div>\n        </Card>\n      )}\n\n      {/* Selection bar before submit */}\n      {!showResults && (\n        <Card className=\"p-4 bg-slate-900/90 border border-slate-700\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-sm text-slate-300\">\n              Selected {selectedCards.size} of {totalPrizes} cards\n            </div>\n           <Button\n  onClick={handleSubmit}\n  disabled={selectedCards.size !== totalPrizes}\n  size=\"sm\"\n  className=\"rounded-full px-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30 disabled:bg-emerald-900 disabled:text-slate-500 disabled:cursor-not-allowed disabled:shadow-none\"\n>\n  Submit Guesses\n</Button>\n\n          </div>\n        </Card>\n      )}\n\n      {/* Card grid */}\n      <Card className=\"p-5 bg-slate-900/80 border border-slate-700\">\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3\">\n          {cardsWithMeta.map((card, index) => {\n            const status = getCardStatus(card.instanceId)\n            const isClickable = !showResults\n\n            return (\n              <div\n                key={`${card.instanceId}-${index}`}\n                onClick={() => isClickable && toggleCard(card.instanceId)}\n                className={cn(\n                  \"group relative aspect-[2.5/3.5] rounded-xl overflow-hidden transition-all\",\n                  isClickable && \"cursor-pointer\",\n                  status === \"selected\" && \"ring-3 ring-sky-400 scale-95\",\n                  status === \"correct\" && \"ring-3 ring-emerald-400\",\n                  status === \"incorrect\" && \"ring-3 ring-rose-500\",\n                  status === \"missed\" && \"ring-3 ring-orange-400 opacity-85\",\n                  status === \"normal\" && showResults && \"opacity-40\",\n                  !showResults && \"hover:scale-105\",\n                )}\n              >\n                {card.image ? (\n                  // eslint-disable-next-line @next/next/no-img-element\n                  <img\n                    src={card.image || \"/placeholder.svg\"}\n                    alt={card.name}\n                    className=\"w-full h-full object-cover\"\n                  />\n                ) : (\n                  <div className=\"w-full h-full bg-slate-800 flex items-center justify-center p-2\">\n                    <p className=\"text-xs text-center text-slate-50 font-medium\">\n                      {card.name}\n                    </p>\n                  </div>\n                )}\n\n                {/* Status badge */}\n                {showResults && status !== \"normal\" && (\n                  <div className=\"absolute top-2 right-2\">\n                    {status === \"correct\" && (\n                      <Badge className=\"bg-emerald-500 text-white\">\n                        <CheckCircle2 className=\"h-3 w-3\" />\n                      </Badge>\n                    )}\n                    {status === \"incorrect\" && (\n                      <Badge className=\"bg-rose-500 text-white\">\n                        <XCircle className=\"h-3 w-3\" />\n                      </Badge>\n                    )}\n                    {status === \"missed\" && (\n                      <Badge className=\"bg-orange-500 text-white\">\n                        Prize\n                      </Badge>\n                    )}\n                  </div>\n                )}\n\n                {/* Hover / selection overlay before submit */}\n                {!showResults && (\n                  <div\n                    className={cn(\n                      \"absolute inset-0 transition-opacity flex items-center justify-center p-2\",\n                      status === \"selected\"\n                        ? \"bg-sky-500/25 backdrop-blur-sm opacity-100\"\n                        : \"bg-black/70 opacity-0 group-hover:opacity-100\",\n                    )}\n                  >\n                    {status === \"selected\" ? (\n                      <div className=\"flex flex-col items-center gap-1\">\n                        <span className=\"text-2xl sm:text-3xl font-extrabold tracking-[0.18em] text-emerald-200/90 drop-shadow-[0_0_14px_rgba(45,212,191,0.85)]\">\n                          {selectedCards.size}/{totalPrizes}\n                        </span>\n                        <span className=\"text-[10px] sm:text-xs uppercase tracking-[0.22em] text-sky-100/80\">\n                          Selected\n                        </span>\n                      </div>\n                    ) : (\n                      <p className=\"text-xs text-white text-center font-medium\">\n                        {card.name}\n                      </p>\n                    )}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2628, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/lib/shuffle.ts"],"sourcesContent":["// lib/shuffle.ts\nimport type { PokemonCard } from \"./types\"\n\nfunction shuffle<T>(arr: T[]): T[] {\n  const copy = [...arr]\n  for (let i = copy.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1))\n    ;[copy[i], copy[j]] = [copy[j], copy[i]]\n  }\n  return copy\n}\n\nexport function dealCards(fullDeck: PokemonCard[]) {\n  // defensive: work with a shuffled copy of whatever we receive\n  const shuffled = shuffle(fullDeck)\n\n  // 6 prize cards, 8-card opening hand, rest is draw deck\n  const prizes = shuffled.slice(0, 6)\n  const hand = shuffled.slice(6, 14)\n  const deck = shuffled.slice(14)\n\n  return {\n    deck,     // 46 cards shown in the carousel\n    prizes,   // 6 prize cards\n    hand,     // 8-card starting hand\n  }\n}\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;AAGjB,SAAS,QAAW,GAAQ;IAC1B,MAAM,OAAO;WAAI;KAAI;IACrB,IAAK,IAAI,IAAI,KAAK,MAAM,GAAG,GAAG,IAAI,GAAG,IAAK;QACxC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC;QAC1C,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG;YAAC,IAAI,CAAC,EAAE;YAAE,IAAI,CAAC,EAAE;SAAC;IAC1C;IACA,OAAO;AACT;AAEO,SAAS,UAAU,QAAuB;IAC/C,8DAA8D;IAC9D,MAAM,WAAW,QAAQ;IAEzB,wDAAwD;IACxD,MAAM,SAAS,SAAS,KAAK,CAAC,GAAG;IACjC,MAAM,OAAO,SAAS,KAAK,CAAC,GAAG;IAC/B,MAAM,OAAO,SAAS,KAAK,CAAC;IAE5B,OAAO;QACL;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 2666, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/loading-overlay.tsx"],"sourcesContent":["\"use client\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface LoadingOverlayProps {\n  visible: boolean\n  progress: number\n  message?: string\n}\n\nexport function LoadingOverlay({ visible, progress, message }: LoadingOverlayProps) {\n  return (\n    <div\n      className={cn(\n        \"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm transition-opacity duration-300\",\n        visible ? \"opacity-100 pointer-events-auto\" : \"opacity-0 pointer-events-none\"\n      )}\n    >\n      <div className=\"flex flex-col items-center gap-6\">\n        {/* Circular sun-glow aura around the gif */}\n        <div className=\"relative inline-flex items-center justify-center\">\n          {/* Radial glow */}\n          <div className=\"absolute w-[140%] h-[140%] rounded-full bg-emerald-400/14 blur-3xl\" />\n          {/* Gif at natural size with a soft halo */}\n          <img\n            src=\"/pokemon_riffle_shuffle.gif\"\n            alt=\"Shuffling deck...\"\n            className=\"relative block max-w-full h-auto drop-shadow-[0_0_28px_rgba(45,212,191,0.55)]\"\n          />\n        </div>\n\n        {message && (\n          <p className=\"text-slate-100 text-sm md:text-base tracking-wide\">\n            {message}\n          </p>\n        )}\n\n        {/* Progress bar */}\n        <div className=\"w-64 max-w-[80vw]\">\n          <div className=\"h-2 rounded-full bg-slate-800 overflow-hidden\">\n            <div\n              className=\"h-full rounded-full bg-emerald-400 transition-all duration-100\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n          <p className=\"mt-2 text-xs text-slate-400 text-center\">\n            {progress < 100 ? \"Shuffling and importing...\" : \"Ready!\"}\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,SAAS,eAAe,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAuB;IAChF,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,wHACA,UAAU,oCAAoC;kBAGhD,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;;;;;sCAEf,6LAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;;;;;;;gBAIb,yBACC,6LAAC;oBAAE,WAAU;8BACV;;;;;;8BAKL,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;gCAAC;;;;;;;;;;;sCAGnC,6LAAC;4BAAE,WAAU;sCACV,WAAW,MAAM,+BAA+B;;;;;;;;;;;;;;;;;;;;;;;AAM7D;KA1CgB"}},
    {"offset": {"line": 2770, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/countdown-overlay.tsx"],"sourcesContent":["// components/countdown-overlay.tsx\n\"use client\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface CountdownOverlayProps {\n  visible: boolean\n  count: number | null\n}\n\nexport function CountdownOverlay({ visible, count }: CountdownOverlayProps) {\n  return (\n    <div\n      className={cn(\n        \"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm transition-opacity duration-300\",\n        visible ? \"opacity-100 pointer-events-auto\" : \"opacity-0 pointer-events-none\"\n      )}\n    >\n      <div className=\"flex flex-col items-center gap-4\">\n        <img\n          src=\"/pokeball.gif\"\n          alt=\"Get ready...\"\n          className=\"w-40 h-auto md:w-52 drop-shadow-[0_0_28px_rgba(45,212,191,0.55)]\"\n        />\n        {count != null && (\n          <div className=\"text-slate-50 text-6xl md:text-6xl font-semibold tracking-widest font-TimesNewRoman\">\n            {count}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"AAAA,mCAAmC;;;;;;AAGnC;AAFA;;;AASO,SAAS,iBAAiB,EAAE,OAAO,EAAE,KAAK,EAAyB;IACxE,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,wHACA,UAAU,oCAAoC;kBAGhD,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,KAAI;oBACJ,KAAI;oBACJ,WAAU;;;;;;gBAEX,SAAS,sBACR,6LAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;;;;;;AAMb;KAtBgB"}},
    {"offset": {"line": 2825, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/site-footer.tsx"],"sourcesContent":["// components/site-footer.tsx\nimport Link from \"next/link\"\n\nexport function SiteFooter() {\n  return (\n    <footer className=\"border-t border-emerald-800 bg-emerald-100\">\n      <div className=\"mx-auto flex max-w-7xl flex-col gap-6 px-4 py-6 text-xs text-slate-400 sm:flex-row sm:items-start sm:justify-between sm:text-sm\">\n        {/* Left: contact + other apps */}\n        <div className=\"space-y-2\">\n          <p className=\"text-emerald-900 font-semibold text-sm\">\n            PrizeCheckDrillr.io\n          </p>\n          <div className=\"flex flex-wrap gap-4 text-sky-400\">\n            {/* Swap these links for whatever you want */}\n            <Link\n              href=\"mailto:chriszcodes@gmail.com\"\n              className=\"hover:text-sky-500 text-emerald-900\"\n            >\n              Contact\n            </Link>\n            <Link\n              href=\"https://github.com/capisz\"\n              className=\"hover:text-sky-500 text-emerald-900\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              GitHub\n            </Link>\n            <Link\n              href=\"https://dragapultist.vercel.app\"\n              className=\"hover:text-sky-500 text-emerald-900\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Dragapultist (Pokémon TCG Analyzer)\n            </Link>\n          </div>\n        </div>\n\n        {/* Right: legal disclaimer */}\n        <p className=\"max-w-xl leading-relaxed text-[11px] sm:text-xs text-slate-500\">\n          The literal and graphical information presented on this website about\n          the Pokémon Trading Card Game, including card images and text, is\n          copyright The Pokémon Company (Pokémon), Nintendo, Game Freak and/or\n          Creatures. This website is not produced by, endorsed by, supported by,\n          or affiliated with Pokémon, Nintendo, Game Freak or Creatures.\n        </p>\n      </div>\n    </footer>\n  )\n}\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;AAC7B;;;AAEO,SAAS;IACd,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAU;sCAAyC;;;;;;sCAGtD,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;oCACV,QAAO;oCACP,KAAI;8CACL;;;;;;8CAGD,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;oCACV,QAAO;oCACP,KAAI;8CACL;;;;;;;;;;;;;;;;;;8BAOL,6LAAC;oBAAE,WAAU;8BAAiE;;;;;;;;;;;;;;;;;AAUtF;KA/CgB"}},
    {"offset": {"line": 2927, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { DeckImport } from \"@/components/deck-import\"\nimport { DeckView } from \"@/components/deck-view\"\nimport { ResultsView } from \"@/components/results-view\"\nimport type { PokemonCard } from \"@/lib/types\"\nimport { dealCards } from \"@/lib/shuffle\"\nimport { LoadingOverlay } from \"@/components/loading-overlay\"\nimport { CountdownOverlay } from \"@/components/countdown-overlay\"\nimport { SiteFooter } from \"@/components/site-footer\"\n\ntype Stage = \"import\" | \"game\" | \"results\"\n\nconst GAME_DURATION = 120 // seconds – keep in sync with DeckView\n\nexport default function HomePage() {\n  const [stage, setStage] = useState<Stage>(\"import\")\n\n  // Full imported deck (52) so we can reshuffle new combos\n  const [fullDeck, setFullDeck] = useState<PokemonCard[]>([])\n\n  // Current game state\n  const [playDeck, setPlayDeck] = useState<PokemonCard[]>([])\n  const [hand, setHand] = useState<PokemonCard[]>([])\n  const [prizeCards, setPrizeCards] = useState<PokemonCard[]>([])\n\n  // Shuffle overlay (riffle + progress bar)\n  const [isShuffling, setIsShuffling] = useState(false)\n  const [shuffleProgress, setShuffleProgress] = useState(0)\n\n  // Pre-game countdown overlay (pokeball + 3-2-1)\n  const [preGameCount, setPreGameCount] = useState<number | null>(null)\n\n  const startShuffleAnimation = () => {\n    setIsShuffling(true)\n    setShuffleProgress(0)\n\n    const totalDuration = 3000 // ~3 seconds\n    const tick = 50\n    let elapsed = 0\n\n    const timer = window.setInterval(() => {\n      elapsed += tick\n      const ratio = Math.min(1, elapsed / totalDuration)\n      const next = Math.round(ratio * 100)\n\n      setShuffleProgress(next)\n\n      if (ratio >= 1) {\n        window.clearInterval(timer)\n        setIsShuffling(false)\n      }\n    }, tick)\n  }\n\n  // Deal a fresh game (deck / hand / prizes) from a given full deck\n  const setupNewGameFromDeck = (sourceDeck: PokemonCard[]) => {\n    const { deck, prizes, hand } = dealCards(sourceDeck)\n    setPlayDeck(deck)     // 46 in deck\n    setHand(hand)         // 8 in hand\n    setPrizeCards(prizes) // 6 prizes\n  }\n\n  // Shared 3-2-1 pokeball countdown\n  const startPreGameCountdown = () => {\n    if (preGameCount !== null) return // already counting\n\n    let current = 3\n    setPreGameCount(current)\n\n    const timer = window.setInterval(() => {\n      current -= 1\n\n      if (current <= 0) {\n        window.clearInterval(timer)\n        setPreGameCount(null)\n        setStage(\"game\")\n      } else {\n        setPreGameCount(current)\n      }\n    }, 1000)\n  }\n\n  // When a deck is first imported from text\n  const handleDeckImported = (importedFullDeck: PokemonCard[]) => {\n    setFullDeck(importedFullDeck)\n\n    // Create initial game state from this deck\n    setupNewGameFromDeck(importedFullDeck)\n\n    // Show riffle shuffle overlay\n    startShuffleAnimation()\n  }\n\n  // When user presses Start Game from the import screen\n  const handleStartGame = () => {\n    if (playDeck.length === 0) return\n    startPreGameCountdown()\n  }\n\n  // When timer ends or user hits \"End game\"\n  const handleTimeUp = () => {\n    setStage(\"results\")\n  }\n\n  // New: restart the game (from in-game or results)\n  // Re-shuffles a new combo from the same imported deck,\n  // then shows the pokeball 3-2-1 overlay again.\n  const handleRestartGame = () => {\n    if (fullDeck.length === 0) return\n\n    setupNewGameFromDeck(fullDeck)\n    startPreGameCountdown()\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 text-slate-50\">\n      {/* Riffle shuffle + progress bar while importing */}\n      <LoadingOverlay\n        visible={isShuffling}\n        progress={shuffleProgress}\n        message=\"Shuffling & importing your deck\"\n      />\n\n      {/* 3-2-1 pokeball countdown when starting / restarting the game */}\n      <CountdownOverlay\n        visible={preGameCount !== null}\n        count={preGameCount}\n      />\n\n      {stage === \"import\" && (\n        <DeckImport\n          onDeckImported={handleDeckImported}\n          canStartGame={playDeck.length > 0}\n          onStartGame={handleStartGame}\n        />\n      )}\n\n      {stage === \"game\" && (\n        <DeckView\n          deck={playDeck}\n          hand={hand}\n          onTimeUp={handleTimeUp}\n          onEndEarly={handleTimeUp}      // End game button\n          onRestartGame={handleRestartGame} // NEW: restart button\n        />\n      )}\n\n      {stage === \"results\" && (\n        <ResultsView\n          allCards={[...playDeck, ...hand, ...prizeCards]}\n          prizeCards={prizeCards}\n          onRestart={handleRestartGame} // Play Again does the same restart flow\n          timeLeft={null}\n          totalTime={GAME_DURATION}\n        />\n      )}\n       <SiteFooter />\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}