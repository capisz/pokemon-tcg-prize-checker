{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/deck-import.tsx"],"sourcesContent":["import { NextResponse } from \"next/server\"\n\nconst FEATURED_DECK_TITLE =\n  \"Gholdengo ex / Porygon-Z — Regional Stuttgart Champion\" // change as needed\nconst FEATURED_DECK_URL = \"https://limitlesstcg.com/decks/list/22011\"\n\n// Paste the FULL PTCGL import text for that deck between the backticks.\n// You can grab it from the Limitless \"Copy / Export\" area for that list.\nconst FEATURED_DECK_IMPORT_TEXT = `\nPokémon: 4\n2 Charmander PAF 7\n1 Charmeleon PFL 12\n1 Charizard ex OBF 125\n\nTrainer: 4\n4 Ultra Ball PAF 80\n\nEnergy: 4\n4 Fire Energy SVE 2\n`.trim()\n// ^^^ Replace the above with the REAL list from Limitless later.\n// This sample is just to prove the feature works.\n\nexport async function GET() {\n  if (!FEATURED_DECK_IMPORT_TEXT) {\n    return NextResponse.json(\n      { error: \"No featured deck configured yet\" },\n      { status: 500 },\n    )\n  }\n\n  return NextResponse.json(\n    {\n      title: FEATURED_DECK_TITLE,\n      sourceUrl: FEATURED_DECK_URL,\n      importText: FEATURED_DECK_IMPORT_TEXT,\n    },\n    {\n      headers: {\n        \"Cache-Control\": \"s-maxage=3600, stale-while-revalidate=86400\",\n      },\n    },\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,sBACJ,yDAAyD,mBAAmB;;AAC9E,MAAM,oBAAoB;AAE1B,wEAAwE;AACxE,yEAAyE;AACzE,MAAM,4BAA4B,CAAC;;;;;;;;;;;AAWnC,CAAC,CAAC,IAAI;AAIC,eAAe;IACpB,IAAI,CAAC,2BAA2B;QAC9B,OAAO,8IAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAkC,GAC3C;YAAE,QAAQ;QAAI;IAElB;IAEA,OAAO,8IAAY,CAAC,IAAI,CACtB;QACE,OAAO;QACP,WAAW;QACX,YAAY;IACd,GACA;QACE,SAAS;YACP,iBAAiB;QACnB;IACF;AAEJ"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/progress.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\", className)}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,kEAAkE;QAC/E,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/deck-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useCallback } from \"react\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Clock, ChevronLeft, ChevronRight } from \"lucide-react\"\nimport type { PokemonCard } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\ninterface DeckViewProps {\n  deck: PokemonCard[]\n  hand: PokemonCard[]\n  onTimeUp: () => void\n  onEndEarly: () => void\n  onRestartGame?: () => void\n}\n\nconst GAME_DURATION = 120\nconst MAX_VISIBLE_DISTANCE = 3\n\nexport function DeckView({\n  deck,\n  hand,\n  onTimeUp,\n  onEndEarly,\n  onRestartGame,\n}: DeckViewProps) {\n  const [centerIndex, setCenterIndex] = useState(0)\n  const [timeRemaining, setTimeRemaining] = useState(GAME_DURATION)\n  const [deckOrder, setDeckOrder] = useState<PokemonCard[]>(deck)\n\n  // keep in sync when a new deck is imported\n  useEffect(() => {\n    setDeckOrder(deck)\n    setCenterIndex(0)\n  }, [deck])\n\n  const progress = ((GAME_DURATION - timeRemaining) / GAME_DURATION) * 100\n\n  // Timer countdown\n  useEffect(() => {\n    if (timeRemaining <= 0) {\n      onTimeUp()\n      return\n    }\n\n    const timer = setInterval(() => {\n      setTimeRemaining((prev) => Math.max(0, prev - 1))\n    }, 1000)\n\n    return () => clearInterval(timer)\n  }, [timeRemaining, onTimeUp])\n\n  // Navigation handlers\n  const goNext = useCallback(() => {\n    setCenterIndex((prev) => Math.min(prev + 1, deckOrder.length - 1))\n  }, [deckOrder.length])\n\n  const goPrevious = useCallback(() => {\n    setCenterIndex((prev) => Math.max(0, prev - 1))\n  }, [])\n\n  const moveCardToFront = useCallback(\n    (cardIndex: number) => {\n      const newDeck = [...deckOrder]\n      const [card] = newDeck.splice(cardIndex, 1)\n      newDeck.unshift(card)\n      setDeckOrder(newDeck)\n\n      setCenterIndex((prev) => {\n        if (cardIndex < prev) return Math.max(prev - 1, 0)\n        return prev\n      })\n    },\n    [deckOrder],\n  )\n\n  const moveCardToBack = useCallback(\n    (cardIndex: number) => {\n      const newDeck = [...deckOrder]\n      const [card] = newDeck.splice(cardIndex, 1)\n      newDeck.push(card)\n      setDeckOrder(newDeck)\n\n      setCenterIndex((prev) => {\n        if (cardIndex < prev) return Math.max(prev - 1, 0)\n        return Math.min(prev, newDeck.length - 1)\n      })\n    },\n    [deckOrder],\n  )\n\n  // Keyboard navigation\nuseEffect(() => {\n  const handleKeyDown = (e: KeyboardEvent) => {\n    const key = e.key.toLowerCase()\n\n    // Optional: prevent weird scrolling when using these keys\n    if ([\"arrowleft\", \"arrowright\", \"a\", \"d\"].includes(key)) {\n      e.preventDefault()\n    }\n\n    if (key === \"arrowleft\") {\n      goPrevious()\n    } else if (key === \"arrowright\") {\n      goNext()\n    } else if (key === \"a\") {\n      // Simulate LEFT CLICK on the center card → move to front\n      if (deckOrder.length > 0) {\n        moveCardToFront(centerIndex)\n      }\n    } else if (key === \"d\") {\n      // Simulate RIGHT CLICK on the center card → move to back\n      if (deckOrder.length > 0) {\n        moveCardToBack(centerIndex)\n      }\n    }\n  }\n\n  window.addEventListener(\"keydown\", handleKeyDown)\n  return () => window.removeEventListener(\"keydown\", handleKeyDown)\n}, [goNext, goPrevious, moveCardToFront, moveCardToBack, centerIndex, deckOrder.length])\n\n\n\n  // Mouse wheel navigation\n  useEffect(() => {\n    const handleWheel = (e: WheelEvent) => {\n      e.preventDefault()\n      if (e.deltaY > 0) goNext()\n      else if (e.deltaY < 0) goPrevious()\n    }\n\n    window.addEventListener(\"wheel\", handleWheel, { passive: false })\n    return () => window.removeEventListener(\"wheel\", handleWheel)\n  }, [goNext, goPrevious])\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`\n  }\n\n  return (\n    <div className=\"relative container mx-auto max-w-7xl p-6 h-screen flex flex-col gap-4\">\n      {/* Header with timer + end button */}\n      <Card className=\"p-4 bg-slate-900/90 border-slate-800 text-slate-50\">\n        <div className=\"flex items-center justify-between gap-4\">\n          <div className=\"flex items-center gap-3\">\n            <Clock\n              className={cn(\n                \"h-6 w-6\",\n                timeRemaining <= 30\n                  ? \"text-red-500 animate-pulse\"\n                  : \"text-slate-400\",\n              )}\n            />\n            <div>\n              <div\n                className={cn(\n                  \"text-2xl font-bold font-mono\",\n                  timeRemaining <= 30 ? \"text-red-500\" : \"text-slate-50\",\n                )}\n              >\n                {formatTime(timeRemaining)}\n              </div>\n              <div className=\"text-xs text-slate-400\">Time Remaining</div>\n            </div>\n          </div>\n\n          <div className=\"flex-1 max-w-md\">\n            <Progress value={progress} className=\"h-2 bg-slate-800\" />\n          </div>\n\n          <div className=\"flex items-center justify-end gap-2\">\n            {onRestartGame && (\n              <Button\n                type=\"button\"\n                size=\"sm\"\n                onClick={onRestartGame}\n  className=\"rounded-full px-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30 transition-transform duration-150 active:scale-95\"\n              >\n                Restart\n              </Button>\n            )}\n\n            <Button\n              type=\"button\"\n              size=\"sm\"\n              onClick={onEndEarly}\n              className=\"rounded-full px-4 bg-emerald-500 hover:bg-emerald-400 text-slate-950 text-xs font-semibold shadow-md shadow-emerald-500/30\"\n            >\n              Guess Prizes\n            </Button>\n          </div>\n        </div>\n      </Card>\n\n      {/* Carousel */}\n      <div className=\"flex-1 flex items-start justify-center overflow-hidden pt-2\">\n        <div className=\"relative w-full max-w-5xl h-[520px] flex items-center justify-center\">\n          {/* Background glow behind cards */}\n          <div\n            className=\"\n              pointer-events-none\n              absolute\n              inset-x-16\n              top-15\n              h-70\n              rounded-full\n              bg-sky-500/22\n              blur-2xl\n              opacity-70\n            \"\n          />\n\n          {/* Left arrow */}\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"absolute left-0 z-40 h-12 w-12 rounded-full bg-slate-900/80 shadow-md hover:bg-slate-300 text-slate-50\"\n            onClick={goPrevious}\n            disabled={centerIndex === 0}\n          >\n            <ChevronLeft className=\"h-6 w-6\" />\n          </Button>\n\n          {/* Right arrow */}\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"absolute right-0 z-40 h-12 w-12 rounded-full bg-slate-900/80 shadow-md hover:bg-slate-300 text-slate-50\"\n            onClick={goNext}\n            disabled={centerIndex === deckOrder.length - 1}\n          >\n            <ChevronRight className=\"h-6 w-6\" />\n          </Button>\n\n          {deckOrder.map((card, index) => {\n            const relativeIndex = index - centerIndex // 0 = center\n            const distance = Math.abs(relativeIndex)\n\n            const isCenter = distance === 0\n            const xTranslate = relativeIndex * 220\n            const scale = isCenter ? 1 : Math.max(0.9, 1 - distance * 0.06)\n\n            let baseOpacity = 1\n            if (distance === 2) baseOpacity = 0.85\n            if (distance === 3) baseOpacity = 0.65\n            if (distance > MAX_VISIBLE_DISTANCE) baseOpacity = 0\n\n            const hidden = distance > MAX_VISIBLE_DISTANCE\n\n            const zClass =\n              distance === 0 ? \"z-30\" : distance === 1 ? \"z-20\" : \"z-10\"\n\n            return (\n              <div\n                key={`${card.id}-${index}`}\n                className={cn(\n                  \"absolute cursor-pointer transition-all duration-500 ease-out will-change-transform\",\n                  zClass,\n                  hidden && \"pointer-events-none\",\n                )}\n                style={{\n                  transform: `translateX(${xTranslate}px) scale(${scale})`,\n                  opacity: baseOpacity,\n                }}\n                onContextMenu={(e) => {\n                  e.preventDefault()\n                  moveCardToBack(index)\n                }}\n                onClick={() => {\n                  if (isCenter) {\n                    moveCardToFront(index)\n                  } else {\n                    setCenterIndex(index)\n                  }\n                }}\n              >\n                <div\n                  className={cn(\n                    \"w-[260px] transition-shadow duration-500\",\n                    isCenter\n                      ? \"shadow-[0_0_90px_rgba(56,189,248,0.9)]\"\n                      : \"shadow-[0_0_40px_rgba(15,23,42,0.9)]\",\n                  )}\n                >\n                  <div className=\"aspect-[2.5/3.5] relative overflow-hidden rounded-lg\">\n                    {card.image ? (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img\n                        src={card.image || \"/placeholder.svg\"}\n                        alt={card.name}\n                        className=\"w-full h-full object-cover select-none\"\n                        draggable={false}\n                      />\n                    ) : (\n                      <div className=\"w-full h-full bg-slate-800 flex items-center justify-center p-4\">\n                        <p className=\"text-lg text-center text-slate-50 font-bold text-balance\">\n                          {card.name}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n\n      {/* Bottom instructions + starting hand overlay */}\n      <div className=\"relative mt-auto group\">\n        {/* Starting hand */}\n        {hand.length > 0 && (\n          <div\n            className={cn(\n              \"absolute inset-x-0 bottom-6 flex justify-center transition-transform duration-300 ease-out z-20\",\n              \"translate-y-8\",\n              \"group-hover:translate-y-0\",\n            )}\n          >\n            <div className=\"flex gap-3 px-8 pb-2\">\n              {hand.map((card, index) => (\n                <div\n                  key={`${card.id}-hand-${index}`}\n                  className=\"w-[90px] sm:w-[100px] md:w-[110px] shadow-lg\"\n                >\n                  <div className=\"aspect-[2.5/3.5] overflow-hidden rounded-md\">\n                    {card.image ? (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img\n                        src={card.image || \"/placeholder.svg\"}\n                        alt={card.name}\n                        className=\"w-full h-full object-cover select-none\"\n                        draggable={false}\n                      />\n                    ) : (\n                      <div className=\"w-full h-full bg-slate-800 flex items-center justify-center p-2\">\n                        <p className=\"text-xs text-center text-slate-50 font-medium\">\n                          {card.name}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Help bar */}\n        <Card className=\"relative z-30 p-4 bg-slate-900/90 border-slate-800 text-slate-200\">\n          <div className=\"text-center text-sm space-y-1\">\n            <p className=\"font-medium\">\n              <span className=\"text-slate-50\">Left Click:</span> Center card (or\n              move to front if centered) •{\" \"}\n              <span className=\"text-slate-50\">Right Click:</span> Move card to\n              back\n            </p>\n            <p>\n              <span className=\"text-slate-50\">Arrow Keys / Mouse Wheel:</span>{\" \"}\n              Scroll through deck •{\" \"}\n              <span className=\"text-slate-50\">Side Arrows:</span> Step one card\n              at a time\n            </p>\n            <p className=\"text-xs mt-2 text-slate-400\">\n              Viewing card {centerIndex + 1} of {deckOrder.length}\n            </p>\n          </div>\n        </Card>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 830, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/badge.tsx"],"sourcesContent":["import type * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E"}},
    {"offset": {"line": 872, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/lib/rank.ts"],"sourcesContent":["// lib/rank.ts\nexport type TierId = \"pokeball\" | \"greatball\" | \"ultraball\" | \"masterball\";\n\nexport interface RankState {\n  tier: TierId;\n  /** 0–100 for Poké/Great/Ultra; ignored for Master Ball */\n  progress: number;\n  /** Only used in Master Ball tier */\n  elo: number;\n}\n\nexport const TIER_ORDER: TierId[] = [\n  \"pokeball\",\n  \"greatball\",\n  \"ultraball\",\n  \"masterball\",\n];\n\n// lib/rank.ts\n\nconst TIER_CONFIG: Record<\n  \"pokeball\" | \"greatball\" | \"ultraball\",\n  { expected: number; scale: number }\n> = {\n  // Much easier to climb out of Poké Ball\n  pokeball:  { expected: 0.15, scale: 80 },\n  greatball: { expected: 0.35, scale: 70 },\n  ultraball: { expected: 0.55, scale: 60 },\n};\n\n\nconst MASTER_EXPECTED = 0.8;\nconst MASTER_K = 40;\n\nexport const initialRankState: RankState = {\n  tier: \"pokeball\",\n  progress: 0,\n  elo: 1200,\n};\n\nexport function updateRank(\n  current: RankState,\n  overallScore: number,\n  maxScore: number,\n): RankState {\n  const normalized = Math.max(0, Math.min(1, overallScore / maxScore));\n\n  // Master Ball → Elo mode only\n  if (current.tier === \"masterball\") {\n    const deltaElo = MASTER_K * (normalized - MASTER_EXPECTED);\n    return {\n      ...current,\n      elo: Math.max(0, Math.round(current.elo + deltaElo)),\n      progress: 0,\n    };\n  }\n\n  // Progress-bar tiers\n  const { expected, scale } = TIER_CONFIG[current.tier];\n  const delta = (normalized - expected) * scale;\n  let nextProgress = current.progress + delta;\n  let nextTier = current.tier;\n\n  const idx = TIER_ORDER.indexOf(current.tier);\n\n  // Promotion\n  if (nextProgress >= 100) {\n    const promotedTier = TIER_ORDER[idx + 1] ?? \"masterball\";\n\n    if (promotedTier === \"masterball\") {\n      const overflow = nextProgress - 100;\n      const bonus = Math.max(0, overflow) * 2; // tiny Elo head start\n      return {\n        tier: \"masterball\",\n        progress: 0,\n        elo: Math.round(1200 + bonus),\n      };\n    } else {\n      nextTier = promotedTier;\n      // keep some overflow, but cap at 40% in new tier\n      nextProgress = Math.min(40, nextProgress - 100);\n    }\n  }\n\n  // Demotion (can’t go below Poké Ball)\n  if (nextProgress <= 0 && current.tier !== \"pokeball\") {\n    const demotedTier = TIER_ORDER[idx - 1] ?? \"pokeball\";\n    nextTier = demotedTier;\n    // fall back to 80% of the lower tier so it’s easy to bounce back\n    nextProgress = 80;\n  }\n\n  nextProgress = Math.max(0, Math.min(100, nextProgress));\n\n  return {\n    ...current,\n    tier: nextTier,\n    progress: Math.round(nextProgress),\n  };\n}\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;;;;AAWP,MAAM,aAAuB;IAClC;IACA;IACA;IACA;CACD;AAED,cAAc;AAEd,MAAM,cAGF;IACF,wCAAwC;IACxC,UAAW;QAAE,UAAU;QAAM,OAAO;IAAG;IACvC,WAAW;QAAE,UAAU;QAAM,OAAO;IAAG;IACvC,WAAW;QAAE,UAAU;QAAM,OAAO;IAAG;AACzC;AAGA,MAAM,kBAAkB;AACxB,MAAM,WAAW;AAEV,MAAM,mBAA8B;IACzC,MAAM;IACN,UAAU;IACV,KAAK;AACP;AAEO,SAAS,WACd,OAAkB,EAClB,YAAoB,EACpB,QAAgB;IAEhB,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,eAAe;IAE1D,8BAA8B;IAC9B,IAAI,QAAQ,IAAI,KAAK,cAAc;QACjC,MAAM,WAAW,WAAW,CAAC,aAAa,eAAe;QACzD,OAAO;YACL,GAAG,OAAO;YACV,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,QAAQ,GAAG,GAAG;YAC1C,UAAU;QACZ;IACF;IAEA,qBAAqB;IACrB,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC,QAAQ,IAAI,CAAC;IACrD,MAAM,QAAQ,CAAC,aAAa,QAAQ,IAAI;IACxC,IAAI,eAAe,QAAQ,QAAQ,GAAG;IACtC,IAAI,WAAW,QAAQ,IAAI;IAE3B,MAAM,MAAM,WAAW,OAAO,CAAC,QAAQ,IAAI;IAE3C,YAAY;IACZ,IAAI,gBAAgB,KAAK;QACvB,MAAM,eAAe,UAAU,CAAC,MAAM,EAAE,IAAI;QAE5C,IAAI,iBAAiB,cAAc;YACjC,MAAM,WAAW,eAAe;YAChC,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,YAAY,GAAG,sBAAsB;YAC/D,OAAO;gBACL,MAAM;gBACN,UAAU;gBACV,KAAK,KAAK,KAAK,CAAC,OAAO;YACzB;QACF,OAAO;YACL,WAAW;YACX,iDAAiD;YACjD,eAAe,KAAK,GAAG,CAAC,IAAI,eAAe;QAC7C;IACF;IAEA,sCAAsC;IACtC,IAAI,gBAAgB,KAAK,QAAQ,IAAI,KAAK,YAAY;QACpD,MAAM,cAAc,UAAU,CAAC,MAAM,EAAE,IAAI;QAC3C,WAAW;QACX,iEAAiE;QACjE,eAAe;IACjB;IAEA,eAAe,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK;IAEzC,OAAO;QACL,GAAG,OAAO;QACV,MAAM;QACN,UAAU,KAAK,KAAK,CAAC;IACvB;AACF"}},
    {"offset": {"line": 962, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/rank-display.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport type { RankState } from \"@/lib/rank\"\nimport { cn } from \"@/lib/utils\"\n\ninterface RankDisplayProps {\n  previous: RankState\n  current: RankState\n  maxScore: number\n  lastScore: number\n}\n\nconst TIER_ORDER: RankState[\"tier\"][] = [\n  \"pokeball\",\n  \"greatball\",\n  \"ultraball\",\n  \"masterball\",\n]\n\n// adjust to your actual file paths\nconst ICONS: Record<RankState[\"tier\"], string> = {\n  pokeball: \"/pokeball.png\",\n  greatball: \"/greatball.png\",\n  ultraball: \"/ultraball.png\",\n  masterball: \"/masterball.png\",\n}\n\n// brighter glow colors\nconst GLOW_COLOR: Record<RankState[\"tier\"], string> = {\n  pokeball: \"bg-rose-500/70\",\n  greatball: \"bg-sky-500/70\",\n  ultraball: \"bg-amber-300/75\",\n  masterball: \"bg-violet-500/70\",\n}\n\nfunction tierLabel(tier: RankState[\"tier\"]) {\n  switch (tier) {\n    case \"pokeball\":\n      return \"Poké Ball\"\n    case \"greatball\":\n      return \"Great Ball\"\n    case \"ultraball\":\n      return \"Ultra Ball\"\n    case \"masterball\":\n      return \"Master Ball\"\n    default:\n      return tier\n  }\n}\n\nexport function RankDisplay({\n  previous,\n  current,\n  maxScore,\n  lastScore,\n}: RankDisplayProps) {\n  const [visible, setVisible] = useState(false)\n\n  useEffect(() => {\n    const t = setTimeout(() => setVisible(true), 60)\n    return () => clearTimeout(t)\n  }, [current.tier, current.progress])\n\n  const prevIndex = TIER_ORDER.indexOf(previous.tier)\n  const currIndex = TIER_ORDER.indexOf(current.tier)\n  const promoted = currIndex > prevIndex\n  const demoted = currIndex < prevIndex\n\n  // ---------- Master Ball (Elo mode) ----------\n  if (current.tier === \"masterball\") {\n    const baseElo = Math.round((lastScore / maxScore) * 2000 + 2000)\n    const elo = current.elo ?? baseElo\n    const prevElo = previous.elo ?? elo\n    const delta = elo - prevElo\n    const hasDelta = delta !== 0\n\n    return (\n      <div\n        className={cn(\n          \"flex flex-col items-center gap-1 transition-opacity duration-700\",\n          visible ? \"opacity-100\" : \"opacity-0\",\n        )}\n      >\n        <div className=\"relative flex items-center justify-center\">\n          {/* glow only is pulsing */}\n          <div\n            className={cn(\n              \"absolute w-32 h-32 rounded-full blur-3xl opacity-90 animate-pulse\",\n              GLOW_COLOR.masterball,\n            )}\n          />\n          {/* steady icon */}\n          {/* eslint-disable-next-line @next/next/no-img-element */}\n          <img\n            src={ICONS.masterball}\n            alt=\"Master Ball rank\"\n            className=\"relative h-16 w-16\"\n          />\n        </div>\n\n        <div className=\"text-[10px] uppercase tracking-[0.22em] text-slate-400\">\n          Rank\n        </div>\n        <div className=\"text-sm font-semibold text-slate-100\">\n          Master Ball\n        </div>\n\n        <div className=\"mt-1 text-3xl font-bold text-violet-200\">\n          {elo}\n        </div>\n        {hasDelta && (\n          <div\n            className={cn(\n              \"text-xs\",\n              delta > 0 ? \"text-emerald-400\" : \"text-rose-400\",\n            )}\n          >\n            {delta > 0 ? \"+\" : \"\"}\n            {delta}\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  // ---------- Normal tiers (Poké / Great / Ultra) ----------\n  // We no longer show the bar or delta here; just icon + label\n\n  return (\n    <div\n      className={cn(\n        \"flex flex-col items-center gap-.5 transition-opacity duration-700\",\n        visible ? \"opacity-100\" : \"opacity-0\",\n      )}\n    >\n      {/* larger ball with strong, slow pulsing glow */}\n      <div className=\"relative flex items-center justify-center\">\n        <div\n          className={cn(\n            \"absolute w-36 h-36 rounded-full blur-3xl opacity-90 animate-pulse\",\n            GLOW_COLOR[current.tier],\n          )}\n        />\n        {/* eslint-disable-next-line @next/next/no-img-element */}\n        <img\n          src={ICONS[current.tier]}\n          alt={`${tierLabel(current.tier)} rank`}\n          className=\"relative h-19 w-19\"\n        />\n      </div>\n\n      <div className=\"text-[10px] uppercase tracking-[0.22em] text-slate-400\">\n        Rank\n      </div>\n      <div className=\"text-sm font-semibold text-slate-100\">\n        {tierLabel(current.tier)}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAaA,MAAM,aAAkC;IACtC;IACA;IACA;IACA;CACD;AAED,mCAAmC;AACnC,MAAM,QAA2C;IAC/C,UAAU;IACV,WAAW;IACX,WAAW;IACX,YAAY;AACd;AAEA,uBAAuB;AACvB,MAAM,aAAgD;IACpD,UAAU;IACV,WAAW;IACX,WAAW;IACX,YAAY;AACd;AAEA,SAAS,UAAU,IAAuB;IACxC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEO,SAAS,YAAY,EAC1B,QAAQ,EACR,OAAO,EACP,QAAQ,EACR,SAAS,EACQ;IACjB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,IAAI,WAAW,IAAM,WAAW,OAAO;QAC7C,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC,QAAQ,IAAI;QAAE,QAAQ,QAAQ;KAAC;IAEnC,MAAM,YAAY,WAAW,OAAO,CAAC,SAAS,IAAI;IAClD,MAAM,YAAY,WAAW,OAAO,CAAC,QAAQ,IAAI;IACjD,MAAM,WAAW,YAAY;IAC7B,MAAM,UAAU,YAAY;IAE5B,+CAA+C;IAC/C,IAAI,QAAQ,IAAI,KAAK,cAAc;QACjC,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,YAAY,WAAY,OAAO;QAC3D,MAAM,MAAM,QAAQ,GAAG,IAAI;QAC3B,MAAM,UAAU,SAAS,GAAG,IAAI;QAChC,MAAM,QAAQ,MAAM;QACpB,MAAM,WAAW,UAAU;QAE3B,qBACE,8OAAC;YACC,WAAW,IAAA,kHAAE,EACX,oEACA,UAAU,gBAAgB;;8BAG5B,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BACC,WAAW,IAAA,kHAAE,EACX,qEACA,WAAW,UAAU;;;;;;sCAKzB,8OAAC;4BACC,KAAK,MAAM,UAAU;4BACrB,KAAI;4BACJ,WAAU;;;;;;;;;;;;8BAId,8OAAC;oBAAI,WAAU;8BAAyD;;;;;;8BAGxE,8OAAC;oBAAI,WAAU;8BAAuC;;;;;;8BAItD,8OAAC;oBAAI,WAAU;8BACZ;;;;;;gBAEF,0BACC,8OAAC;oBACC,WAAW,IAAA,kHAAE,EACX,WACA,QAAQ,IAAI,qBAAqB;;wBAGlC,QAAQ,IAAI,MAAM;wBAClB;;;;;;;;;;;;;IAKX;IAEA,4DAA4D;IAC5D,6DAA6D;IAE7D,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,qEACA,UAAU,gBAAgB;;0BAI5B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,WAAW,IAAA,kHAAE,EACX,qEACA,UAAU,CAAC,QAAQ,IAAI,CAAC;;;;;;kCAI5B,8OAAC;wBACC,KAAK,KAAK,CAAC,QAAQ,IAAI,CAAC;wBACxB,KAAK,GAAG,UAAU,QAAQ,IAAI,EAAE,KAAK,CAAC;wBACtC,WAAU;;;;;;;;;;;;0BAId,8OAAC;gBAAI,WAAU;0BAAyD;;;;;;0BAGxE,8OAAC;gBAAI,WAAU;0BACZ,UAAU,QAAQ,IAAI;;;;;;;;;;;;AAI/B"}},
    {"offset": {"line": 1154, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/results-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Trophy, CheckCircle2, XCircle, RotateCcw, Timer } from \"lucide-react\"\nimport type { PokemonCard } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\nimport type { RankState } from \"@/lib/rank\"\nimport { initialRankState, updateRank } from \"@/lib/rank\"\nimport { RankDisplay } from \"@/components/rank-display\"\n\ninterface ResultsViewProps {\n  allCards: PokemonCard[]\n  prizeCards: PokemonCard[]\n  onRestart: () => void\n  timeLeft: number | null\n  totalTime: number\n}\n\ntype Status =\n  | \"selected\"\n  | \"unselected\"\n  | \"correct\"\n  | \"incorrect\"\n  | \"missed\"\n  | \"normal\"\n\n/* ---------- Rank progress helpers ---------- */\n\nconst RANK_TIER_ORDER: RankState[\"tier\"][] = [\n  \"pokeball\",\n  \"greatball\",\n  \"ultraball\",\n  \"masterball\",\n]\n\nconst RANK_BAR_COLOR: Record<RankState[\"tier\"], string> = {\n  pokeball: \"bg-rose-400\",\n  greatball: \"bg-sky-400\",\n  ultraball: \"bg-amber-300\",\n  masterball: \"bg-violet-400\",\n}\n\nfunction computeProgressDelta(\n  previous: RankState | null,\n  current: RankState | null,\n): number | null {\n  if (!previous || !current) return null\n  if (current.tier === \"masterball\") return null\n\n  const prevIndex = RANK_TIER_ORDER.indexOf(previous.tier)\n  const currIndex = RANK_TIER_ORDER.indexOf(current.tier)\n  if (prevIndex === -1 || currIndex === -1) return null\n\n  const currentProgress = current.progress ?? 0\n\n  // Promotion: 0 → current.progress\n  if (currIndex > prevIndex) {\n    return currentProgress\n  }\n\n  // Demotion: compare to 100 of previous tier\n  if (currIndex < prevIndex) {\n    return currentProgress - 100\n  }\n\n  // Same tier: diff from previous.progress\n  return currentProgress - (previous.progress ?? 0)\n}\n\n/* ---------- Component ---------- */\n\nexport function ResultsView({\n  allCards,\n  prizeCards,\n  onRestart,\n  timeLeft,\n  totalTime,\n}: ResultsViewProps) {\n  const router = useRouter()\n  const [selectedCards, setSelectedCards] = useState<Set<string>>(new Set())\n  const [showResults, setShowResults] = useState(false)\n  const [personalBest, setPersonalBest] = useState<number | null>(null)\n\n  // Rank state\n  const [rank, setRank] = useState<RankState | null>(null)\n  const [previousRank, setPreviousRank] = useState<RankState | null>(null)\n\n  const totalPrizes = prizeCards.length || 6\n\n  // Load personal best once\n  useEffect(() => {\n    if (typeof window === \"undefined\") return\n    const stored = window.localStorage.getItem(\"prizeCheckerPersonalBest\")\n    if (stored) {\n      const value = Number(stored)\n      if (!Number.isNaN(value)) setPersonalBest(value)\n    }\n  }, [])\n\n  // Load rank once\n  useEffect(() => {\n    if (typeof window === \"undefined\") return\n    const stored = window.localStorage.getItem(\"prizeCheckerRankState\")\n    if (stored) {\n      try {\n        const parsed = JSON.parse(stored) as RankState\n        setRank(parsed)\n      } catch {\n        setRank(initialRankState)\n      }\n    } else {\n      setRank(initialRankState)\n    }\n  }, [])\n\n  // Expand meta & sort so duplicates are grouped together\n  const cardsWithMeta = useMemo(\n    () =>\n      allCards\n        .map((card) => ({\n          ...card,\n          instanceId: card.id,\n          baseId: card.id.split(\"#\")[0],\n        }))\n        .sort((a, b) => {\n          if (a.baseId === b.baseId) {\n            return a.instanceId.localeCompare(b.instanceId)\n          }\n          return a.baseId.localeCompare(b.baseId)\n        }),\n    [allCards],\n  )\n\n  // prize counts per base card (handles duplicates)\n  const prizeCountByBase = useMemo(() => {\n    const map = new Map<string, number>()\n    for (const c of prizeCards) {\n      const baseId = c.id.split(\"#\")[0]\n      map.set(baseId, (map.get(baseId) || 0) + 1)\n    }\n    return map\n  }, [prizeCards])\n\n  const toggleCard = (cardId: string) => {\n    if (showResults) return\n\n    const next = new Set(selectedCards)\n    if (next.has(cardId)) {\n      next.delete(cardId)\n    } else if (next.size < 6) {\n      next.add(cardId)\n    }\n    setSelectedCards(next)\n  }\n\n  const [statusMap, correctGuesses, incorrectGuesses, missedPrizes] = useMemo(() => {\n    if (!showResults) return [new Map<string, Status>(), 0, 0, 0] as const\n\n    const status = new Map<string, Status>()\n\n    // group instances by baseId\n    const cardsByBase = new Map<string, string[]>()\n    for (const c of cardsWithMeta) {\n      const ids = cardsByBase.get(c.baseId) || []\n      ids.push(c.instanceId)\n      cardsByBase.set(c.baseId, ids)\n    }\n\n    let correct = 0\n    let incorrect = 0\n    let missed = 0\n\n    for (const [baseId, instanceIds] of cardsByBase.entries()) {\n      const prizeCount = prizeCountByBase.get(baseId) || 0\n      if (prizeCount === 0) {\n        // nothing prized for this card: only mark selected as incorrect\n        for (const id of instanceIds) {\n          if (selectedCards.has(id)) {\n            status.set(id, \"incorrect\")\n            incorrect++\n          }\n        }\n        continue\n      }\n\n      const selectedIds = instanceIds.filter((id) => selectedCards.has(id))\n      const correctCount = Math.min(prizeCount, selectedIds.length)\n\n      // mark correct selected\n      for (let i = 0; i < correctCount; i++) {\n        const id = selectedIds[i]\n        status.set(id, \"correct\")\n        correct++\n      }\n\n      // extra selected -> incorrect\n      for (let i = correctCount; i < selectedIds.length; i++) {\n        const id = selectedIds[i]\n        status.set(id, \"incorrect\")\n        incorrect++\n      }\n\n      // remaining prized copies that were never selected -> missed\n      const remainingPrizes = prizeCount - correctCount\n      if (remainingPrizes > 0) {\n        const unselectedIds = instanceIds.filter((id) => !selectedCards.has(id))\n        for (let i = 0; i < Math.min(remainingPrizes, unselectedIds.length); i++) {\n          const id = unselectedIds[i]\n          status.set(id, \"missed\")\n          missed++\n        }\n      }\n    }\n\n    return [status, correct, incorrect, missed] as const\n  }, [showResults, cardsWithMeta, prizeCountByBase, selectedCards])\n\n  const handleSubmit = () => {\n    setShowResults(true)\n  }\n\n  const handleImportNewList = () => {\n  if (typeof window !== \"undefined\") {\n    window.location.href = \"/\"   // hard reset back to main/import screen\n  }\n}\n\n  const accuracy =\n    totalPrizes > 0 ? Math.round((correctGuesses / totalPrizes) * 100) : 0\n\n  // If timeLeft is null, assume 0 seconds used (fastest case)\n  const usedTime =\n    timeLeft == null ? 0 : Math.max(0, totalTime - timeLeft)\n\n  const timePercent =\n    totalTime === 0\n      ? 0\n      : Math.max(0, Math.min(1, (totalTime - usedTime) / totalTime)) // more left = better\n\n  // scoring: 70% accuracy, 30% speed, scaled to 0–1000\n  const score = (() => {\n    const accScore = accuracy / 100\n    const raw = accScore * 0.7 + timePercent * 0.3\n    return Math.round(raw * 1000)\n  })()\n\n  // PB update\n  useEffect(() => {\n    if (!showResults) return\n    if (typeof window === \"undefined\") return\n\n    setPersonalBest((prev) => {\n      const currentBest =\n        prev ??\n        (() => {\n          const stored = window.localStorage.getItem(\"prizeCheckerPersonalBest\")\n          const n = stored ? Number(stored) : 0\n          return Number.isNaN(n) ? 0 : n\n        })()\n\n      const newBest = score > currentBest ? score : currentBest\n      if (newBest !== currentBest) {\n        window.localStorage.setItem(\"prizeCheckerPersonalBest\", String(newBest))\n      }\n      return newBest\n    })\n  }, [showResults, score])\n\n  // rank update when results show\n  useEffect(() => {\n    if (!showResults) return\n    if (typeof window === \"undefined\") return\n\n    setRank((current) => {\n      const currentRank = current ?? initialRankState\n      const nextRank = updateRank(currentRank, score, 1000)\n      setPreviousRank(currentRank)\n      window.localStorage.setItem(\n        \"prizeCheckerRankState\",\n        JSON.stringify(nextRank),\n      )\n      return nextRank\n    })\n  }, [showResults, score])\n\n  const isNewPB =\n    showResults && (personalBest === null || score >= personalBest)\n\n  const scoreColor = (() => {\n    if (score >= 800) return \"text-emerald-400\"\n    if (score >= 600) return \"text-lime-400\"\n    if (score >= 400) return \"text-amber-400\"\n    return \"text-rose-400\"\n  })()\n\n  const scoreBadgeBg = (() => {\n    if (score >= 800) return \"bg-emerald-500/15 border-emerald-500/50\"\n    if (score >= 600) return \"bg-lime-500/10 border-lime-500/40\"\n    if (score >= 400) return \"bg-amber-500/10 border-amber-500/40\"\n    return \"bg-rose-500/10 border-rose-500/40\"\n  })()\n\n  const getCardStatus = (cardId: string): Status => {\n    if (!showResults) {\n      return selectedCards.has(cardId) ? \"selected\" : \"unselected\"\n    }\n    return statusMap.get(cardId) ?? \"normal\"\n  }\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`\n  }\n\n  return (\n    <div className=\"container mx-auto max-w-7xl p-6 space-y-6 text-slate-50\">\n      {/* Header */}\n      <div className=\"text-center space-y-2\">\n        <h1 className=\"text-4xl font-bold text-balance text-slate-300\">\n          Select The Prize Cards\n        </h1>\n        <p className=\"text-slate-400 text-sm sm:text-base\">\n          {showResults\n            ? \"Here are your results.\"\n            : \"Select the 6 cards you believe were prizes.\"}\n        </p>\n      </div>\n\n      {/* Score + rank + stats + legend + bar */}\n      {showResults && (\n        <Card className=\"p-4 sm:p-4 bg-slate-900/90 border border-slate-700 text-slate-50 space-y-2\">\n          {/* Top row: Score + Rank + Stats */}\n          <div className=\"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between\">\n            {/* Left: Score + PB */}\n            <div className=\"flex items-center gap-4\">\n              <div\n                className={cn(\n                  \"flex items-center gap-3 rounded-xl px-4 py-2 border\",\n                  scoreBadgeBg,\n                )}\n              >\n                <Trophy className=\"h-6 w-6 text-amber-300\" />\n                <div className=\"flex flex-col items-start\">\n                  <span\n                    className={cn(\n                      \"text-2xl sm:text-3xl font-semibold\",\n                      scoreColor,\n                    )}\n                  >\n                    {score}\n                  </span>\n                  <span className=\"text-[11px] uppercase tracking-wide text-slate-400\">\n                    Overall score\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"flex flex-col gap-1 text-xs sm:text-sm text-slate-300\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-slate-400\">Personal Best:</span>\n                  <span className=\"font-semibold\">\n                    {personalBest ?? \"—\"}\n                  </span>\n                  {isNewPB && (\n                    <Badge className=\"bg-emerald-500 text-white text-[10px] uppercase tracking-wide\">\n                      New PB\n                    </Badge>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Center: Rank (bigger & slightly lower) */}\n            {rank && previousRank && (\n              <div className=\"flex justify-center flex-1 mt-4\">\n                <div className=\"scale-150\">\n                  <RankDisplay\n                    previous={previousRank}\n                    current={rank}\n                    maxScore={1000}\n                    lastScore={score}\n                  />\n                </div>\n              </div>\n            )}\n\n            {/* Right: Stats */}\n            <div className=\"flex flex-wrap gap-4 text-xs sm:text-sm text-slate-300 justify-end\">\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <CheckCircle2 className=\"h-4 w-4 text-emerald-400\" />\n                  {correctGuesses} / {totalPrizes}\n                </span>\n                <span className=\"text-slate-400\">Correct ({accuracy}%)</span>\n              </div>\n\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <XCircle className=\"h-4 w-4 text-rose-400\" />\n                  {incorrectGuesses}\n                </span>\n                <span className=\"text-slate-400\">Wrong</span>\n              </div>\n\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <XCircle className=\"h-4 w-4 text-orange-400\" />\n                  {missedPrizes}\n                </span>\n                <span className=\"text-slate-400\">Missed</span>\n              </div>\n\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <Timer className=\"h-4 w-4 text-sky-400\" />\n                  {formatTime(usedTime)}\n                </span>\n                <span className=\"text-slate-400\">\n                  of {formatTime(totalTime)} used\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Legend + Play Again + bottom progress bar (all aligned) */}\n          {/* Legend + Play Again + bottom progress bar (all aligned) */}\n<div className=\"pt-3 space-y-3\">\n  <div className=\"flex flex-wrap items-center justify-between gap-4\">\n    <div className=\"flex flex-wrap items-center gap-4 text-xs sm:text-sm text-slate-200\">\n      <div className=\"flex items-center gap-2\">\n        <div className=\"w-4 h-4 rounded border-4 border-emerald-400\" />\n        <span>Correct guess</span>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <div className=\"w-4 h-4 rounded border-4 border-rose-500\" />\n        <span>Wrong guess</span>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <div className=\"w-4 h-4 rounded border-4 border-orange-400\" />\n        <span>Missed prize</span>\n      </div>\n    </div>\n\n    {/* Right-side buttons */}\n    <div className=\"flex gap-2\">\n      {/* New: Import List / go back to main page */}\n      <Button\n        type=\"button\"\n        size=\"sm\"\n        onClick={handleImportNewList}\n        className=\"rounded-full px-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30 transition-transform duration-150 active:scale-95\"\n      >\n        Import New List\n      </Button>\n\n      {/* Existing: Play Again */}\n      <Button\n        onClick={onRestart}\n        size=\"sm\"\n        className=\"rounded-full px-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30 transition-transform duration-150 active:scale-95\"\n      >\n        <RotateCcw className=\"mr-2 h-4 w-4\" />\n        Play Again\n      </Button>\n    </div>\n  </div>\n  {/* Full-width bottom bar stays the same below this */}\n\n            {/* Full-width bottom bar */}\n            {rank && rank.tier !== \"masterball\" && (\n              <div className=\"w-full\">\n                {(() => {\n                  const clamped = Math.max(\n                    0,\n                    Math.min(100, rank.progress ?? 0),\n                  )\n                  const toNext = Math.max(0, 100 - clamped)\n                  const delta = computeProgressDelta(previousRank, rank)\n\n                  return (\n                    <>\n                      <div className=\"w-full h-1 rounded-full bg-slate-800 overflow-hidden\">\n                        <div\n                          className={cn(\n                            \"h-full transition-all duration-800\",\n                            RANK_BAR_COLOR[rank.tier],\n                          )}\n                          style={{ width: `${clamped}%` }}\n                        />\n                      </div>\n                      <div className=\"mt-1 text-center text-[11px] text-slate-400\">\n                        {toNext}% to next rank\n                        {delta !== null && delta !== 0 && (\n                          <span\n                            className={cn(\n                              \"ml-1\",\n                              delta > 0 ? \"text-emerald-400\" : \"text-rose-400\",\n                            )}\n                          >\n                            ({delta > 0 ? \"+\" : \"\"}\n                            {Math.round(delta)})\n                          </span>\n                        )}\n                      </div>\n                    </>\n                  )\n                })()}\n              </div>\n            )}\n          </div>\n        </Card>\n      )}\n\n      {/* Selection bar before submit */}\n      {!showResults && (\n        <Card className=\"p-4 bg-slate-900/90 border border-slate-700\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-sm text-slate-300\">\n              Selected {selectedCards.size} of {totalPrizes} cards\n            </div>\n          <Button\n  onClick={handleSubmit}\n  disabled={selectedCards.size !== totalPrizes}\n  size=\"sm\"\n  className=\"rounded-full px-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30 transition-transform duration-150 active:scale-95 disabled:bg-emerald-900 disabled:text-slate-500 disabled:cursor-not-allowed disabled:shadow-none\"\n>\n  Submit Guesses\n</Button>\n\n\n          </div>\n        </Card>\n      )}\n\n      {/* Card grid */}\n      <Card className=\"p-5 bg-slate-900/80 border border-slate-700\">\n        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3\">\n          {cardsWithMeta.map((card, index) => {\n            const status = getCardStatus(card.instanceId)\n            const isClickable = !showResults\n\n            return (\n              <div\n                key={`${card.instanceId}-${index}`}\n                onClick={() => isClickable && toggleCard(card.instanceId)}\n                className={cn(\n                  \"group relative aspect-[2.5/3.5] rounded-xl overflow-hidden transition-all\",\n                  isClickable && \"cursor-pointer\",\n                  status === \"selected\" && \"ring-3 ring-sky-400 scale-95\",\n                  status === \"correct\" && \"ring-3 ring-emerald-400\",\n                  status === \"incorrect\" && \"ring-3 ring-rose-500\",\n                  status === \"missed\" && \"ring-3 ring-orange-400 opacity-85\",\n                  status === \"normal\" && showResults && \"opacity-40\",\n                  !showResults && \"hover:scale-105\",\n                )}\n              >\n                {card.image ? (\n                  // eslint-disable-next-line @next/next/no-img-element\n                  <img\n                    src={card.image || \"/placeholder.svg\"}\n                    alt={card.name}\n                    className=\"w-full h-full object-cover\"\n                  />\n                ) : (\n                  <div className=\"w-full h-full bg-slate-800 flex items-center justify-center p-2\">\n                    <p className=\"text-xs text-center text-slate-50 font-medium\">\n                      {card.name}\n                    </p>\n                  </div>\n                )}\n\n                {/* Status badge */}\n                {showResults && status !== \"normal\" && (\n                  <div className=\"absolute top-2 right-2\">\n                    {status === \"correct\" && (\n                      <Badge className=\"bg-emerald-500 text-white\">\n                        <CheckCircle2 className=\"h-3 w-3\" />\n                      </Badge>\n                    )}\n                    {status === \"incorrect\" && (\n                      <Badge className=\"bg-rose-500 text-white\">\n                        <XCircle className=\"h-3 w-3\" />\n                      </Badge>\n                    )}\n                    {status === \"missed\" && (\n                      <Badge className=\"bg-orange-500 text-white\">\n                        Prize\n                      </Badge>\n                    )}\n                  </div>\n                )}\n\n                {/* Hover / selection overlay before submit */}\n                {!showResults && (\n                  <div\n                    className={cn(\n                      \"absolute inset-0 transition-opacity flex items-center justify-center p-2\",\n                      status === \"selected\"\n                        ? \"bg-sky-500/25 backdrop-blur-sm opacity-100\"\n                        : \"bg-black/70 opacity-0 group-hover:opacity-100\",\n                    )}\n                  >\n                    {status === \"selected\" ? (\n                      <div className=\"flex flex-col items-center gap-1\">\n                        <span className=\"text-2xl sm:text-3xl font-extrabold tracking-[0.18em] text-emerald-200/90 drop-shadow-[0_0_14px_rgba(45,212,191,0.85)]\">\n                          {selectedCards.size}/{totalPrizes}\n                        </span>\n                        <span className=\"text-[10px] sm:text-xs uppercase tracking-[0.22em] text-sky-100/80\">\n                          Selected\n                        </span>\n                      </div>\n                    ) : (\n                      <p className=\"text-xs text-white text-center font-medium\">\n                        {card.name}\n                      </p>\n                    )}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2098, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/lib/shuffle.ts"],"sourcesContent":["// lib/shuffle.ts\nimport type { PokemonCard } from \"./types\"\n\nfunction shuffle<T>(arr: T[]): T[] {\n  const copy = [...arr]\n  for (let i = copy.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1))\n    ;[copy[i], copy[j]] = [copy[j], copy[i]]\n  }\n  return copy\n}\n\nexport function dealCards(fullDeck: PokemonCard[]) {\n  // defensive: work with a shuffled copy of whatever we receive\n  const shuffled = shuffle(fullDeck)\n\n  // 6 prize cards, 8-card opening hand, rest is draw deck\n  const prizes = shuffled.slice(0, 6)\n  const hand = shuffled.slice(6, 14)\n  const deck = shuffled.slice(14)\n\n  return {\n    deck,     // 46 cards shown in the carousel\n    prizes,   // 6 prize cards\n    hand,     // 8-card starting hand\n  }\n}\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;AAGjB,SAAS,QAAW,GAAQ;IAC1B,MAAM,OAAO;WAAI;KAAI;IACrB,IAAK,IAAI,IAAI,KAAK,MAAM,GAAG,GAAG,IAAI,GAAG,IAAK;QACxC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC;QAC1C,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG;YAAC,IAAI,CAAC,EAAE;YAAE,IAAI,CAAC,EAAE;SAAC;IAC1C;IACA,OAAO;AACT;AAEO,SAAS,UAAU,QAAuB;IAC/C,8DAA8D;IAC9D,MAAM,WAAW,QAAQ;IAEzB,wDAAwD;IACxD,MAAM,SAAS,SAAS,KAAK,CAAC,GAAG;IACjC,MAAM,OAAO,SAAS,KAAK,CAAC,GAAG;IAC/B,MAAM,OAAO,SAAS,KAAK,CAAC;IAE5B,OAAO;QACL;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 2133, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/loading-overlay.tsx"],"sourcesContent":["\"use client\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface LoadingOverlayProps {\n  visible: boolean\n  progress: number\n  message?: string\n}\n\nexport function LoadingOverlay({ visible, progress, message }: LoadingOverlayProps) {\n  return (\n    <div\n      className={cn(\n        \"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm transition-opacity duration-300\",\n        visible ? \"opacity-100 pointer-events-auto\" : \"opacity-0 pointer-events-none\"\n      )}\n    >\n      <div className=\"flex flex-col items-center gap-6\">\n        {/* Circular sun-glow aura around the gif */}\n        <div className=\"relative inline-flex items-center justify-center\">\n          {/* Radial glow */}\n          <div className=\"absolute w-[140%] h-[140%] rounded-full bg-emerald-400/14 blur-3xl\" />\n          {/* Gif at natural size with a soft halo */}\n          <img\n            src=\"/pokemon_riffle_shuffle.gif\"\n            alt=\"Shuffling deck...\"\n            className=\"relative block max-w-full h-auto drop-shadow-[0_0_28px_rgba(45,212,191,0.55)]\"\n          />\n        </div>\n\n        {message && (\n          <p className=\"text-slate-100 text-sm md:text-base tracking-wide\">\n            {message}\n          </p>\n        )}\n\n        {/* Progress bar */}\n        <div className=\"w-64 max-w-[80vw]\">\n          <div className=\"h-2 rounded-full bg-slate-800 overflow-hidden\">\n            <div\n              className=\"h-full rounded-full bg-emerald-400 transition-all duration-100\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n          <p className=\"mt-2 text-xs text-slate-400 text-center\">\n            {progress < 100 ? \"Shuffling and importing...\" : \"Ready!\"}\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,SAAS,eAAe,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAuB;IAChF,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wHACA,UAAU,oCAAoC;kBAGhD,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;;;;;sCAEf,8OAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;;;;;;;gBAIb,yBACC,8OAAC;oBAAE,WAAU;8BACV;;;;;;8BAKL,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;gCAAC;;;;;;;;;;;sCAGnC,8OAAC;4BAAE,WAAU;sCACV,WAAW,MAAM,+BAA+B;;;;;;;;;;;;;;;;;;;;;;;AAM7D"}},
    {"offset": {"line": 2231, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/countdown-overlay.tsx"],"sourcesContent":["// components/countdown-overlay.tsx\n\"use client\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface CountdownOverlayProps {\n  visible: boolean\n  count: number | null\n}\n\nexport function CountdownOverlay({ visible, count }: CountdownOverlayProps) {\n  return (\n    <div\n      className={cn(\n        \"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm transition-opacity duration-300\",\n        visible ? \"opacity-100 pointer-events-auto\" : \"opacity-0 pointer-events-none\"\n      )}\n    >\n      <div className=\"flex flex-col items-center gap-4\">\n        <img\n          src=\"/pokeball.gif\"\n          alt=\"Get ready...\"\n          className=\"w-40 h-auto md:w-52 drop-shadow-[0_0_28px_rgba(45,212,191,0.55)]\"\n        />\n        {count != null && (\n          <div className=\"text-slate-50 text-6xl md:text-6xl font-semibold tracking-widest font-TimesNewRoman\">\n            {count}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"AAAA,mCAAmC;;;;;;AAGnC;AAFA;;;AASO,SAAS,iBAAiB,EAAE,OAAO,EAAE,KAAK,EAAyB;IACxE,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wHACA,UAAU,oCAAoC;kBAGhD,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,KAAI;oBACJ,KAAI;oBACJ,WAAU;;;;;;gBAEX,SAAS,sBACR,8OAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;;;;;;AAMb"}},
    {"offset": {"line": 2280, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/site-footer.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { FooterMusicControls } from \"@/components/music-player\"\n\n\nexport function SiteFooter() {\n  return (\n    <footer className=\"border-t border-emerald-200/60 bg-emerald-100/90 backdrop-blur-sm\">\n      <div className=\"mx-auto flex max-w-7xl flex-col gap-6 px-4 py-4 md:flex-row md:items-center md:justify-between\">\n        {/* Left: title + links */}\n        <div className=\"space-y-2\">\n          <p className=\"text-xs font-semibold tracking-[0.16em] uppercase text-emerald-900\">\n            PrizeCheckDrillr.io\n          </p>\n          <p className=\"text-xs text-emerald-900/80\">\n            Practice prize mapping for competitive Pokémon TCG decks.\n          </p>\n\n          <nav className=\"mt-2 flex flex-wrap gap-x-4 gap-y-1 text-[11px] text-emerald-900/80\">\n            <Link href=\"mailto:chriszcodes@gmail.com\" className=\"hover:underline\">\n              Contact\n            </Link>\n            <Link\n              href=\"https://dragapultist.vercel.app\"\n              target=\"_blank\"\n              className=\"hover:underline\"\n            >\n              Dragapultist (Pokémon TCG Analyzer)\n            </Link>\n            <Link\n              href=\"https://tcgmasters.net\"\n              target=\"_blank\"\n              className=\"hover:underline\"\n            >\n              TCG Masters (Matchup Simulator)\n            </Link>\n            <Link\n              href=\"https://limitlesstcg.com/decks/lists\"\n              target=\"_blank\"\n              className=\"hover:underline\"\n            >\n              LimitlessTCG (Deck Database)\n            </Link>\n          </nav>\n        </div>\n\n        {/* Middle: disclaimer */}\n        <p className=\"max-w-xl text-[10px] leading-relaxed text-emerald-900/80\">\n          The literal and graphical information presented on this website about the Pokémon\n          Trading Card Game, including card images and text, is © The Pokémon Company, Nintendo,\n          Game Freak, and/or Creatures. This website is not produced by, endorsed by, supported by,\n          or affiliated with those companies.\n        </p>\n\n        {/* Right: volume slider only */}\n        <div className=\"flex items-center justify-end gap-3\">\n          <FooterMusicControls />\n        </div>\n      </div>\n    </footer>\n  )\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAMO,SAAS;IACd,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAqE;;;;;;sCAGlF,8OAAC;4BAAE,WAAU;sCAA8B;;;;;;sCAI3C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCAAC,MAAK;oCAA+B,WAAU;8CAAkB;;;;;;8CAGtE,8OAAC,uKAAI;oCACH,MAAK;oCACL,QAAO;oCACP,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,QAAO;oCACP,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,QAAO;oCACP,WAAU;8CACX;;;;;;;;;;;;;;;;;;8BAOL,8OAAC;oBAAE,WAAU;8BAA2D;;;;;;8BAQxE,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,qJAAmB;;;;;;;;;;;;;;;;;;;;;AAK9B"}},
    {"offset": {"line": 2406, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { DeckImport } from \"@/components/deck-import\"\nimport { DeckView } from \"@/components/deck-view\"\nimport { ResultsView } from \"@/components/results-view\"\nimport type { PokemonCard } from \"@/lib/types\"\nimport { dealCards } from \"@/lib/shuffle\"\nimport { LoadingOverlay } from \"@/components/loading-overlay\"\nimport { CountdownOverlay } from \"@/components/countdown-overlay\"\nimport { SiteFooter } from \"@/components/site-footer\"\nimport { FloatingGameVolume } from \"@/components/music-player\"\n\ntype Stage = \"import\" | \"game\" | \"results\"\n\nconst GAME_DURATION = 120 // seconds – keep in sync with DeckView\n\nexport default function HomePage() {\n  const [stage, setStage] = useState<Stage>(\"import\")\n\n  // Full imported deck (52) so we can reshuffle new combos\n  const [fullDeck, setFullDeck] = useState<PokemonCard[]>([])\n\n  // Current game state\n  const [playDeck, setPlayDeck] = useState<PokemonCard[]>([])\n  const [hand, setHand] = useState<PokemonCard[]>([])\n  const [prizeCards, setPrizeCards] = useState<PokemonCard[]>([])\n\n  // Shuffle overlay (riffle + progress bar)\n  const [isShuffling, setIsShuffling] = useState(false)\n  const [shuffleProgress, setShuffleProgress] = useState(0)\n\n  // Pre-game countdown overlay (pokeball + 3-2-1)\n  const [preGameCount, setPreGameCount] = useState<number | null>(null)\n\n  const startShuffleAnimation = () => {\n    setIsShuffling(true)\n    setShuffleProgress(0)\n\n    const totalDuration = 3000 // ~3 seconds\n    const tick = 50\n    let elapsed = 0\n\n    const timer = window.setInterval(() => {\n      elapsed += tick\n      const ratio = Math.min(1, elapsed / totalDuration)\n      const next = Math.round(ratio * 100)\n\n      setShuffleProgress(next)\n\n      if (ratio >= 1) {\n        window.clearInterval(timer)\n        setIsShuffling(false)\n      }\n    }, tick)\n  }\n\n  // Deal a fresh game (deck / hand / prizes) from a given full deck\n  const setupNewGameFromDeck = (sourceDeck: PokemonCard[]) => {\n    const { deck, prizes, hand } = dealCards(sourceDeck)\n    setPlayDeck(deck) // 46 in deck\n    setHand(hand) // 8 in hand\n    setPrizeCards(prizes) // 6 prizes\n  }\n\n  // Shared 3-2-1 pokeball countdown\n  const startPreGameCountdown = () => {\n    if (preGameCount !== null) return // already counting\n\n    let current = 3\n    setPreGameCount(current)\n\n    const timer = window.setInterval(() => {\n      current -= 1\n\n      if (current <= 0) {\n        window.clearInterval(timer)\n        setPreGameCount(null)\n        setStage(\"game\")\n      } else {\n        setPreGameCount(current)\n      }\n    }, 1000)\n  }\n\n  // When a deck is first imported from text\n  const handleDeckImported = (importedFullDeck: PokemonCard[]) => {\n    setFullDeck(importedFullDeck)\n\n    // Create initial game state from this deck\n    setupNewGameFromDeck(importedFullDeck)\n\n    // Show riffle shuffle overlay\n    startShuffleAnimation()\n  }\n\n  // When user presses Start Game from the import screen\n  const handleStartGame = () => {\n    if (playDeck.length === 0) return\n    startPreGameCountdown()\n  }\n\n  // When timer ends or user hits \"End game\"\n  const handleTimeUp = () => {\n    setStage(\"results\")\n  }\n\n  // New: restart the game (from in-game or results)\n  const handleRestartGame = () => {\n    if (fullDeck.length === 0) return\n\n    setupNewGameFromDeck(fullDeck)\n    startPreGameCountdown()\n  }\n\n  // Go back to import screen (for \"Import new list\" button on results)\n  const handleGoToImport = () => {\n    setStage(\"import\")\n  }\n\n  return (\n  <div className=\"min-h-screen flex flex-col bg-gradient-to-b from-slate-950 via-slate-950 to-black text-slate-50\">\n    {/* Main content area */}\n    <div className=\"flex-1 relative\">\n      {/* Riffle shuffle overlay */}\n      <LoadingOverlay\n        visible={isShuffling}\n        progress={shuffleProgress}\n        message=\"Shuffling & importing your deck\"\n      />\n\n      {/* 3-2-1 countdown */}\n      <CountdownOverlay visible={preGameCount !== null} count={preGameCount} />\n\n      {stage === \"import\" && (\n        <DeckImport\n          onDeckImported={handleDeckImported}\n          canStartGame={playDeck.length > 0}\n          onStartGame={handleStartGame}\n        />\n      )}\n\n      {stage === \"game\" && (\n        <>\n          <DeckView\n            deck={playDeck}\n            hand={hand}\n            onTimeUp={handleTimeUp}\n            onEndEarly={handleTimeUp}\n            onRestartGame={handleRestartGame}\n          />\n          {/* Vertical floating volume slider only during game */}\n          <FloatingGameVolume />\n        </>\n      )}\n\n      {stage === \"results\" && (\n        <ResultsView\n          allCards={[...playDeck, ...hand, ...prizeCards]}\n          prizeCards={prizeCards}\n          onRestart={handleRestartGame}\n          onImportNewList={handleGoToImport}\n          timeLeft={null}\n          totalTime={GAME_DURATION}\n        />\n      )}\n    </div>\n\n    {/* Footer visible on import + results, hidden during game */}\n    {stage !== \"game\" && <SiteFooter />}\n  </div>\n)\n}"],"names":[],"mappings":"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"}}]
}