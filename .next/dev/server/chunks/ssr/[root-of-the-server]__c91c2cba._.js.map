{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  [\n    \"inline-flex items-center justify-center whitespace-nowrap\",\n    \"rounded-md text-sm font-medium\",\n    \"ring-offset-background\",\n    // ✨ smoother global animation\n    \"transform transition-all duration-200\",\n    \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n    \"disabled:pointer-events-none disabled:opacity-50\",\n    // ✨ hover motion\n    \"hover:-translate-y-0.5 hover:scale-[1.03]\",\n    // ✨ press motion\n    \"active:scale-95 active:translate-y-[1px]\",\n  ].join(\" \"),\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n  [\n    \"bg-transparent\", // or remove if you want no base bg\n    \"hover:bg-slate-900/90 hover:text-silver-100\",\n    \"dark:hover:bg-slate-800/80\",\n  ].join(\" \"),\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB;IACE;IACA;IACA;IACA,8BAA8B;IAC9B;IACA;IACA;IACA,iBAAiB;IACjB;IACA,iBAAiB;IACjB;CACD,CAAC,IAAI,CAAC,MACP;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACN;gBACE;gBACA;gBACA;aACD,CAAC,IAAI,CAAC;YACD,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAIF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<\"textarea\">>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,6QACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/featured-deck.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { cn } from \"@/lib/utils\"\nimport { Copy } from \"lucide-react\"\n\ntype ImportedCard = {\n  id: string\n  name: string\n  image?: string\n  set: string\n  number: string | number\n}\n\ntype FeaturedCard = ImportedCard & {\n  count: number\n}\n\ntype FeaturedDeckApi = {\n  title: string\n  sourceUrl: string\n  importText: string\n}\n\nconst MAX_FEATURED_CARDS = 5\n\n/** Temporary fallback deck until the API is wired up */\nconst FALLBACK_DECK: FeaturedDeckApi = {\n  title: \"Charizard ex / Pidgeot ex — Regional Stuttgart Champion\",\n  sourceUrl: \"https://limitlesstcg.com/decks/lists\",\n  importText: `Pokémon: 26\n2 Charmander PAF 7\n1 Charmander PFL 11\n1 Charmeleon PFL 12\n2 Charizard ex OBF 125\n3 Hoothoot SCR 114\n3 Noctowl SCR 115\n1 Pidgey MEW 16\n1 Pidgey OBF 162\n2 Pidgeot ex OBF 164\n2 Duskull PRE 35\n1 Dusclops PRE 36\n1 Dusknoir PRE 37\n2 Terapagos ex SCR 128\n2 Fan Rotom SCR 118\n1 Fezandipiti ex SFA 38\n1 Klefki SVI 96\n\nTrainer: 27\n4 Dawn PFL 87\n2 Iono PAL 185\n2 Boss's Orders MEG 114\n1 Briar SCR 132\n4 Buddy-Buddy Poffin TEF 144\n4 Nest Ball SVI 181\n4 Rare Candy MEG 125\n1 Ultra Ball MEG 131\n1 Super Rod PAL 188\n1 Night Stretcher SFA 61\n1 Prime Catcher TEF 157\n2 Area Zero Underdepths SCR 131\n\nEnergy: 7\n5 Fire Energy MEE 2\n2 Jet Energy PAL 190`,\n}\n\n/* --- same parser logic as DeckImport --- */\nfunction parseIdsFromText(text: string) {\n  const fullIds: string[] = []\n  const counts = new Map<string, number>()\n  const lines = text.split(/\\r?\\n/)\n\n  for (const line of lines) {\n    const trimmed = line.trim()\n    if (!trimmed) continue\n\n    const lineMatch = trimmed.match(\n      /^\\s*(\\d+)\\s+.+\\b([A-Z]{2,4})\\s+(\\d{1,3}[A-Z]?)\\b/,\n    )\n\n    if (lineMatch) {\n      const count = Number(lineMatch[1]) || 1\n      const setCode = lineMatch[2].toLowerCase()\n      const num = lineMatch[3].toLowerCase()\n      const cardId = `${setCode}-${num}`\n\n      for (let i = 0; i < count; i++) fullIds.push(cardId)\n      counts.set(cardId, (counts.get(cardId) || 0) + count)\n      continue\n    }\n\n    const fallbackMatch = trimmed.match(\n      /\\b([A-Z]{2,4})\\s+(\\d{1,3}[A-Z]?)\\b/,\n    )\n\n    if (fallbackMatch) {\n      const setCode = fallbackMatch[1].toLowerCase()\n      const num = fallbackMatch[2].toLowerCase()\n      const cardId = `${setCode}-${num}`\n      fullIds.push(cardId)\n      counts.set(cardId, (counts.get(cardId) || 0) + 1)\n    }\n  }\n\n  const uniqueIds = Array.from(new Set(fullIds))\n  return { fullIds, uniqueIds, counts }\n}\n\nexport function FeaturedDeckSection() {\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [deckTitle, setDeckTitle] = useState(FALLBACK_DECK.title)\n  const [sourceUrl, setSourceUrl] = useState(FALLBACK_DECK.sourceUrl)\n  const [importText] = useState(FALLBACK_DECK.importText)\n  const [cards, setCards] = useState<FeaturedCard[]>([])\n  const [revealed, setRevealed] = useState(false)\n  const [copied, setCopied] = useState(false)\n\n  useEffect(() => {\n    let cancelled = false\n\n    async function loadFromFallback() {\n      try {\n        setLoading(true)\n        setError(null)\n\n        const { uniqueIds, counts } = parseIdsFromText(FALLBACK_DECK.importText)\n        if (!uniqueIds.length) {\n          throw new Error(\"Could not parse any card IDs from the featured deck\")\n        }\n\n        const cardsRes = await fetch(\"/api/cards\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ ids: uniqueIds }),\n        })\n\n        if (!cardsRes.ok) throw new Error(\"Failed to fetch card details\")\n\n        const cardsData = await cardsRes.json()\n        const fetched: ImportedCard[] = Array.isArray(cardsData.cards)\n          ? cardsData.cards\n          : []\n\n        const cardById = new Map<string, ImportedCard>()\n        for (const c of fetched) {\n          cardById.set(c.id.toLowerCase(), c)\n        }\n\n        const withCounts: FeaturedCard[] = uniqueIds.map((id) => {\n          const base = cardById.get(id.toLowerCase())\n          const count = counts.get(id) ?? 1\n\n          if (base) return { ...base, count }\n\n          const [setCode, num] = id.split(\"-\")\n          return {\n            id,\n            name: `Card ${setCode.toUpperCase()} ${num.toUpperCase()}`,\n            set: setCode.toUpperCase(),\n            number: num.toUpperCase(),\n            count,\n          }\n        })\n\n        if (!cancelled) {\n          setDeckTitle(FALLBACK_DECK.title)\n          setSourceUrl(FALLBACK_DECK.sourceUrl)\n          setCards(withCounts.slice(0, MAX_FEATURED_CARDS))\n        }\n      } catch (err: any) {\n        console.error(\"FeaturedDeckSection error:\", err)\n        if (!cancelled) setError(err.message ?? \"Error loading featured deck\")\n      } finally {\n        if (!cancelled) {\n          setLoading(false)\n          setTimeout(() => setRevealed(true), 120)\n        }\n      }\n    }\n\n    loadFromFallback()\n    return () => {\n      cancelled = true\n    }\n  }, [])\n\n  if (loading) {\n    return (\n      <Card className=\"mt-4 bg-slate-900/70 border border-slate-800/80\">\n        <div className=\"p-4 text-xs text-slate-400\">Loading featured deck…</div>\n      </Card>\n    )\n  }\n\n  if (error || !cards.length) {\n    return (\n      <Card className=\"mt-4 bg-slate-900/70 border border-slate-800/80\">\n        <div className=\"p-4 text-xs text-slate-400\">\n          Featured Deck unavailable right now.\n          {error && <span className=\"ml-1 text-slate-500\">({error})</span>}\n        </div>\n      </Card>\n    )\n  }\n\n  return (\n    <Card\n      className={cn(\n        \"mt-4 rounded-3xl border border-none\",\n        \"bg-gradient-to-r from-emerald-900/90 via-slate-900/90 to-slate-800/90\",\n        \"shadow-[0_0_16px_rgba(16,185,129,0.35)]\",\n        \"overflow-visible\",\n      )}\n    >\n      <div className=\"flex items-center gap-6 px-6 py-3 md:px-8 md:py-3\">\n        {/* LEFT: text + button */}\n        <div className=\"flex-1 min-w-[0]\">\n          <div\n  className={cn(\n    \"flex flex-col gap-3 h-full\",\n    // use both opacity + transform so it \"glides\" from above\n    \"transition-all duration-700 ease-out\",\n    revealed\n      ? \"opacity-100 translate-y-0\"\n      : \"opacity-0 -translate-y-3\"\n  )}\n>\n            <div className=\"space-y-1\">\n              <p className=\"text-[12px] uppercase tracking-[0.22em] text-emerald-300\">\n                Featured Deck\n              </p>\n              <h2 className=\"text-lg sm:text-l font-semibold text-emerald-100\">\n                {deckTitle}\n              </h2>\n            </div>\n\n            <div className=\"mt-1 flex items-center gap-4\">\n              {sourceUrl && (\n                <a\n                  href={sourceUrl}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-[13px] text-emerald-100/80 hover:text-emerald-200 underline-offset-2 hover:underline\"\n                >\n                  View on LimitlessTCG\n                </a>\n              )}\n\n              <Button\n                type=\"button\"\n                size=\"sm\"\n                onClick={async () => {\n                  try {\n                    await navigator.clipboard.writeText(importText)\n                    setCopied(true)\n                    window.setTimeout(() => setCopied(false), 1500)\n                  } catch {\n                    // optional: toast later\n                  }\n                }}\n                className={cn(\n                  // base shape + shadow\n                  \"rounded-full h-9 px-5 font-semibold shadow-md shadow-emerald-500/40\",\n                  // emerald color system\n                  \"bg-emerald-500 text-slate-950 hover:bg-emerald-400\",\n                  // interaction + animation\n                  \"transition-colors transition-transform duration-150\",\n                  \"active:scale-95 active:translate-y-[1px]\",\n                  // override the default blue focus ring\n                  \"focus-visible:ring-emerald-300 focus-visible:ring-offset-emerald-950\",\n                  // copied override (keeps same emerald family)\n                  copied && \"bg-emerald-400\",\n                )}\n              >\n                <Copy className=\"mr-2 h-4 w-4\" />\n                {copied ? \"Copied!\" : \"Copy Decklist\"}\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {/* RIGHT: card strip */}\n        <div className=\"flex-1 flex justify-end overflow-visible\">\n          <div className=\"flex gap-4 items-center min-h-[160px] overflow-visible\">\n            {cards.map((card, index) => (\n              <div\n                key={card.id}\n                style={{\n                  transitionDelay: revealed ? `${index * 140}ms` : \"0ms\",\n                }}\n                className={cn(\n                  \"relative flex-shrink-0 w-24 sm:w-28 md:w-32\",\n                  \"transition-all duration-700 ease-out\",\n                  revealed\n                    ? \"opacity-100 translate-y-0\"\n                    : \"opacity-0 translate-y-3\",\n                )}\n              >\n                <div\n                  className={cn(\n                    \"rounded-xl border border-slate-700/60 bg-slate-900/80\",\n                    \"shadow-sm shadow-emerald-500/20\",\n                    \"overflow-hidden\",\n                    \"transition-transform duration-160 ease-out\",\n                    \"hover:-translate-y-2 hover:shadow-[0_16px_34px_rgba(0,0,0,0.65)]\",\n                  )}\n                >\n                  <div className=\"aspect-[2.5/3.5] w-full\">\n                    {card.image ? (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img\n                        src={card.image}\n                        alt={card.name}\n                        className=\"h-full w-full object-cover\"\n                      />\n                    ) : (\n                      <div className=\"flex h-full w-full items-center justify-center text-[10px] px-2 text-slate-300\">\n                        {card.name}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </Card>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AA0BA,MAAM,qBAAqB;AAE3B,sDAAsD,GACtD,MAAM,gBAAiC;IACrC,OAAO;IACP,WAAW;IACX,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAkCK,CAAC;AACrB;AAEA,2CAA2C,GAC3C,SAAS,iBAAiB,IAAY;IACpC,MAAM,UAAoB,EAAE;IAC5B,MAAM,SAAS,IAAI;IACnB,MAAM,QAAQ,KAAK,KAAK,CAAC;IAEzB,KAAK,MAAM,QAAQ,MAAO;QACxB,MAAM,UAAU,KAAK,IAAI;QACzB,IAAI,CAAC,SAAS;QAEd,MAAM,YAAY,QAAQ,KAAK,CAC7B;QAGF,IAAI,WAAW;YACb,MAAM,QAAQ,OAAO,SAAS,CAAC,EAAE,KAAK;YACtC,MAAM,UAAU,SAAS,CAAC,EAAE,CAAC,WAAW;YACxC,MAAM,MAAM,SAAS,CAAC,EAAE,CAAC,WAAW;YACpC,MAAM,SAAS,GAAG,QAAQ,CAAC,EAAE,KAAK;YAElC,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,IAAK,QAAQ,IAAI,CAAC;YAC7C,OAAO,GAAG,CAAC,QAAQ,CAAC,OAAO,GAAG,CAAC,WAAW,CAAC,IAAI;YAC/C;QACF;QAEA,MAAM,gBAAgB,QAAQ,KAAK,CACjC;QAGF,IAAI,eAAe;YACjB,MAAM,UAAU,aAAa,CAAC,EAAE,CAAC,WAAW;YAC5C,MAAM,MAAM,aAAa,CAAC,EAAE,CAAC,WAAW;YACxC,MAAM,SAAS,GAAG,QAAQ,CAAC,EAAE,KAAK;YAClC,QAAQ,IAAI,CAAC;YACb,OAAO,GAAG,CAAC,QAAQ,CAAC,OAAO,GAAG,CAAC,WAAW,CAAC,IAAI;QACjD;IACF;IAEA,MAAM,YAAY,MAAM,IAAI,CAAC,IAAI,IAAI;IACrC,OAAO;QAAE;QAAS;QAAW;IAAO;AACtC;AAEO,SAAS;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC,cAAc,KAAK;IAC9D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC,cAAc,SAAS;IAClE,MAAM,CAAC,WAAW,GAAG,IAAA,iNAAQ,EAAC,cAAc,UAAU;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAiB,EAAE;IACrD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY;QAEhB,eAAe;YACb,IAAI;gBACF,WAAW;gBACX,SAAS;gBAET,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,iBAAiB,cAAc,UAAU;gBACvE,IAAI,CAAC,UAAU,MAAM,EAAE;oBACrB,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,WAAW,MAAM,MAAM,cAAc;oBACzC,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;wBAAE,KAAK;oBAAU;gBACxC;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE,MAAM,IAAI,MAAM;gBAElC,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,UAA0B,MAAM,OAAO,CAAC,UAAU,KAAK,IACzD,UAAU,KAAK,GACf,EAAE;gBAEN,MAAM,WAAW,IAAI;gBACrB,KAAK,MAAM,KAAK,QAAS;oBACvB,SAAS,GAAG,CAAC,EAAE,EAAE,CAAC,WAAW,IAAI;gBACnC;gBAEA,MAAM,aAA6B,UAAU,GAAG,CAAC,CAAC;oBAChD,MAAM,OAAO,SAAS,GAAG,CAAC,GAAG,WAAW;oBACxC,MAAM,QAAQ,OAAO,GAAG,CAAC,OAAO;oBAEhC,IAAI,MAAM,OAAO;wBAAE,GAAG,IAAI;wBAAE;oBAAM;oBAElC,MAAM,CAAC,SAAS,IAAI,GAAG,GAAG,KAAK,CAAC;oBAChC,OAAO;wBACL;wBACA,MAAM,CAAC,KAAK,EAAE,QAAQ,WAAW,GAAG,CAAC,EAAE,IAAI,WAAW,IAAI;wBAC1D,KAAK,QAAQ,WAAW;wBACxB,QAAQ,IAAI,WAAW;wBACvB;oBACF;gBACF;gBAEA,IAAI,CAAC,WAAW;oBACd,aAAa,cAAc,KAAK;oBAChC,aAAa,cAAc,SAAS;oBACpC,SAAS,WAAW,KAAK,CAAC,GAAG;gBAC/B;YACF,EAAE,OAAO,KAAU;gBACjB,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C,IAAI,CAAC,WAAW,SAAS,IAAI,OAAO,IAAI;YAC1C,SAAU;gBACR,IAAI,CAAC,WAAW;oBACd,WAAW;oBACX,WAAW,IAAM,YAAY,OAAO;gBACtC;YACF;QACF;QAEA;QACA,OAAO;YACL,YAAY;QACd;IACF,GAAG,EAAE;IAEL,IAAI,SAAS;QACX,qBACE,8OAAC,iIAAI;YAAC,WAAU;sBACd,cAAA,8OAAC;gBAAI,WAAU;0BAA6B;;;;;;;;;;;IAGlD;IAEA,IAAI,SAAS,CAAC,MAAM,MAAM,EAAE;QAC1B,qBACE,8OAAC,iIAAI;YAAC,WAAU;sBACd,cAAA,8OAAC;gBAAI,WAAU;;oBAA6B;oBAEzC,uBAAS,8OAAC;wBAAK,WAAU;;4BAAsB;4BAAE;4BAAM;;;;;;;;;;;;;;;;;;IAIhE;IAEA,qBACE,8OAAC,iIAAI;QACH,WAAW,IAAA,kHAAE,EACX,uCACA,yEACA,2CACA;kBAGF,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACT,WAAW,IAAA,kHAAE,EACX,8BACA,yDAAyD;wBACzD,wCACA,WACI,8BACA;;0CAGI,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAA2D;;;;;;kDAGxE,8OAAC;wCAAG,WAAU;kDACX;;;;;;;;;;;;0CAIL,8OAAC;gCAAI,WAAU;;oCACZ,2BACC,8OAAC;wCACC,MAAM;wCACN,QAAO;wCACP,KAAI;wCACJ,WAAU;kDACX;;;;;;kDAKH,8OAAC,qIAAM;wCACL,MAAK;wCACL,MAAK;wCACL,SAAS;4CACP,IAAI;gDACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;gDACpC,UAAU;gDACV,OAAO,UAAU,CAAC,IAAM,UAAU,QAAQ;4CAC5C,EAAE,OAAM;4CACN,wBAAwB;4CAC1B;wCACF;wCACA,WAAW,IAAA,kHAAE,EACX,sBAAsB;wCACtB,uEACA,uBAAuB;wCACvB,sDACA,0BAA0B;wCAC1B,uDACA,4CACA,uCAAuC;wCACvC,wEACA,8CAA8C;wCAC9C,UAAU;;0DAGZ,8OAAC,0MAAI;gDAAC,WAAU;;;;;;4CACf,SAAS,YAAY;;;;;;;;;;;;;;;;;;;;;;;;8BAO9B,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,8OAAC;gCAEC,OAAO;oCACL,iBAAiB,WAAW,GAAG,QAAQ,IAAI,EAAE,CAAC,GAAG;gCACnD;gCACA,WAAW,IAAA,kHAAE,EACX,+CACA,wCACA,WACI,8BACA;0CAGN,cAAA,8OAAC;oCACC,WAAW,IAAA,kHAAE,EACX,yDACA,mCACA,mBACA,8CACA;8CAGF,cAAA,8OAAC;wCAAI,WAAU;kDACZ,KAAK,KAAK,GACT,qDAAqD;sDACrD,8OAAC;4CACC,KAAK,KAAK,KAAK;4CACf,KAAK,KAAK,IAAI;4CACd,WAAU;;;;;iEAGZ,8OAAC;4CAAI,WAAU;sDACZ,KAAK,IAAI;;;;;;;;;;;;;;;;+BA/Bb,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;AA2C5B"}},
    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/deck-import.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { useState, useEffect } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Card } from \"@/components/ui/card\"\nimport { cn } from \"@/lib/utils\"\nimport { FeaturedDeckSection } from \"@/components/featured-deck\"\nimport { HelpCircle, X } from \"lucide-react\"\n\ntype ImportedCard = {\n  id: string\n  name: string\n  image?: string\n  set: string\n  number: string | number\n}\n\ninterface DeckImportProps {\n  onDeckImported?: (cards: ImportedCard[]) => void\n  onImportComplete?: (cards: ImportedCard[]) => void\n  initialText?: string\n  onTextChange?: (value: string) => void\n  onStartGame?: () => void\n  canStartGame?: boolean\n\n  /** Optional: for the green title bar above the list */\n  deckTitle?: string\n  deckPlayer?: string\n\n  /** Optional: if true, auto-imports when the page first loads (using initialText) */\n  autoImportOnMount?: boolean\n}\n\nexport function DeckImport(props: DeckImportProps) {\n  const {\n    onDeckImported,\n    onImportComplete,\n    initialText,\n    onTextChange,\n    onStartGame,\n    canStartGame,\n    deckTitle,\n    deckPlayer,\n    autoImportOnMount,\n  } = props\n\n  // Fallbacks until wired to Limitless/API\n  const effectiveDeckTitle = deckTitle ?? \"Charizard Noctowl\"\n  const effectiveDeckPlayer = deckPlayer ?? \"Nicolai Stiborg\"\n\n  const [rawText, setRawText] = useState(initialText ?? \"\")\n  const [previewCards, setPreviewCards] = useState<ImportedCard[]>([])\n  const [cardCounts, setCardCounts] = useState<Record<string, number>>({})\n  const [hoveredCard, setHoveredCard] = useState<ImportedCard | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [hasAutoImported, setHasAutoImported] = useState(false)\n\n  // Help overlay state\n  const [showHelpOverlay, setShowHelpOverlay] = useState(false)\n\n  // Keep textarea in sync with parent-provided initialText\n  useEffect(() => {\n    if (typeof initialText === \"string\") {\n      setRawText(initialText)\n    }\n  }, [initialText])\n\n  function parseIdsFromText(text: string) {\n    const fullIds: string[] = []\n    const counts = new Map<string, number>()\n\n    const lines = text.split(/\\r?\\n/)\n\n    for (const line of lines) {\n      const trimmed = line.trim()\n      if (!trimmed) continue\n\n      const lineMatch = trimmed.match(\n        /^\\s*(\\d+)\\s+.+\\b([A-Z]{2,4})\\s+(\\d{1,3}[A-Z]?)\\b/,\n      )\n\n      if (lineMatch) {\n        const count = Number(lineMatch[1]) || 1\n        const setCode = lineMatch[2].toLowerCase()\n        const num = lineMatch[3].toLowerCase()\n        const cardId = `${setCode}-${num}`\n\n        for (let i = 0; i < count; i++) {\n          fullIds.push(cardId)\n        }\n        counts.set(cardId, (counts.get(cardId) || 0) + count)\n        continue\n      }\n\n      const fallbackMatch = trimmed.match(\n        /\\b([A-Z]{2,4})\\s+(\\d{1,3}[A-Z]?)\\b/,\n      )\n\n      if (fallbackMatch) {\n        const setCode = fallbackMatch[1].toLowerCase()\n        const num = fallbackMatch[2].toLowerCase()\n        const cardId = `${setCode}-${num}`\n        fullIds.push(cardId)\n        counts.set(cardId, (counts.get(cardId) || 0) + 1)\n      }\n    }\n\n    const uniqueIds = Array.from(new Set(fullIds))\n\n    return {\n      fullIds,\n      uniqueIds,\n      counts,\n    }\n  }\n\n  async function handleImport() {\n    setError(null)\n\n    const { fullIds, uniqueIds, counts } = parseIdsFromText(rawText)\n\n    if (!uniqueIds.length) {\n      setPreviewCards([])\n      setCardCounts({})\n      setError(\n        \"Couldn't find any card IDs like PAF 7 / OBF 162 in the text. Make sure lines look like '4 Charmander PAF 7'.\",\n      )\n      return\n    }\n\n    setIsLoading(true)\n\n    try {\n      const response = await fetch(\"/api/cards\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ ids: uniqueIds }),\n      })\n\n      if (!response.ok) throw new Error(\"Failed to fetch cards\")\n\n      const data = await response.json()\n      const fetchedCards: ImportedCard[] = Array.isArray(data.cards)\n        ? data.cards\n        : []\n\n      const cardById = new Map<string, ImportedCard>()\n      for (const card of fetchedCards) {\n        cardById.set(card.id.toLowerCase(), card)\n      }\n\n      const expandedDeck: ImportedCard[] = fullIds.map((id, index) => {\n        const base = cardById.get(id.toLowerCase())\n        if (base) {\n          return {\n            ...base,\n            id: `${base.id}#${index}`,\n          }\n        }\n\n        const [setCode, num] = id.split(\"-\")\n        return {\n          id: `${id}#${index}`,\n          name: `Card ${setCode.toUpperCase()} ${num.toUpperCase()}`,\n          set: setCode.toUpperCase(),\n          number: num.toUpperCase(),\n        }\n      })\n\n      setPreviewCards(fetchedCards)\n      setCardCounts(Object.fromEntries(counts))\n      setHoveredCard(fetchedCards[0] ?? null)\n\n      onDeckImported?.(expandedDeck)\n      onImportComplete?.(expandedDeck)\n    } catch (err: any) {\n      console.error(err)\n      setError(err.message ?? \"Something went wrong importing the deck.\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  // Auto-import once on mount when you want the featured list preloaded\n  useEffect(() => {\n    if (!autoImportOnMount) return\n    if (hasAutoImported) return\n    if (!rawText.trim()) return\n\n    setHasAutoImported(true)\n    void handleImport()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [autoImportOnMount, hasAutoImported, rawText])\n\n  const handleTextChange = (value: string) => {\n    setRawText(value)\n    onTextChange?.(value)\n  }\n\n  return (\n    <div className=\"flex flex-col items-center px-4 py-10 text-slate-50\">\n      <div className=\"w-full max-w-6xl space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between gap-4\">\n          {/* Left: title + mascot */}\n          <div className=\"flex items-center gap-3\">\n            <img\n              src=\"/sprite1_vector.svg\"\n              alt=\"PrizeCheckDrill mascot\"\n              className=\"\n                   h-24 w-30 md:h-12 md:w-18\n                   mascot-bob                                     \n                  drop-shadow-[0_0_8px_rgba(52,211,153,0.4)]\"\n              style={{ imageRendering: \"pixelated\" }}\n            />\n            <div className=\"flex flex-col\">\n              <h1 className=\"text-2xl font-semibold text-emerald-300\">\n                PrizeCheckDrillr.io\n              </h1>\n              <p className=\"text-xs sm:text-sm text-slate-400\">\n                Paste your deck list and test how well you remember your prizes.{\" \"}\n                Find importable lists at{\" \"}\n                <a\n                  href=\"https://limitlesstcg.com/decks/lists\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-sky-200 hover:text-sky-300\"\n                  aria-label=\"LimitlessTCG\"\n                >\n                  LimitlessTCG\n                </a>\n                .\n              </p>\n            </div>\n          </div>\n\n          {/* Right: Import button + ? icon */}\n          <div className=\"flex items-center gap-3\">\n            <Button\n              size=\"sm\"\n              onClick={handleImport}\n              disabled={isLoading || !rawText.trim()}\n              className=\"rounded-full bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30 transition-transform duration-150 active:scale-95\"\n            >\n              {isLoading ? \"Importing…\" : \"Import Deck\"}\n            </Button>\n\n            {/* icon-only help button (no outer border circle) */}\n            <Button\n              type=\"button\"\n              size=\"icon\"\n              variant=\"ghost\"\n              aria-label=\"How to use PrizeCheckDrillr\"\n              onClick={() => setShowHelpOverlay(true)}\n              className={cn(\n                \"border-none bg-transparent shadow-none\",\n                \"hover:bg-transparent\",\n                \"text-emerald-300 hover:text-emerald-100\"\n              )}\n            >\n              <HelpCircle className=\"h-5 w-5\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Text area */}\n        <Card className=\"bg-slate-800/45 border border-emerald-900/40 shadow-[0_0_16px_rgba(16,185,129,0.35)]\">\n          <div className=\"p-4\">\n            <Textarea\n              rows={6}\n              value={rawText}\n              onChange={(e) => handleTextChange(e.target.value)}\n              className=\"bg-transparent border-0 focus-visible:ring-0 text-sm font-mono text-slate-100 resize-none\"\n              placeholder={`Pokémon: 26\n2 Charmander PAF 7\n1 Charmander PFL 11\n1 Charmeleon PFL 12\n2 Charizard ex OBF 125\n...`}\n            />\n            {error && (\n              <p className=\"mt-2 text-xs text-rose-400\">{error}</p>\n            )}\n          </div>\n        </Card>\n\n        {/* Featured deck banner */}\n        <FeaturedDeckSection />\n\n        {/* Deck list + hover preview */}\n        {previewCards.length > 0 && (\n          <div className=\"flex flex-col md:flex-row gap-6 mt-2 outer-glow-emerald-900 border-emerald-500/50\">\n            {/* LIST: now has its own dark-green title bar INSIDE the card */}\n            <div className=\"flex-1 max-h-[420px] rounded-lg border border-slate-800 bg-slate-900/70 flex flex-col\">\n              {/* Title bar that feels like part of the list */}\n              <div className=\"px-4 py-2 border-b border-slate-800 bg-emerald-300/35 rounded-t-lg\">\n                <p className=\"text-xs sm:text-sm font-semibold text-emerald-100\">\n                  {effectiveDeckTitle}\n                  {effectiveDeckPlayer && (\n                    <span className=\"font-normal text-emerald-300\">\n                      {\" \"}\n                      by {effectiveDeckPlayer}\n                    </span>\n                  )}\n                </p>\n              </div>\n\n              {/* Scrollable list body */}\n              <div className=\"flex-1 overflow-y-auto\">\n                {previewCards.map((card, index) => {\n                  const baseId = card.id.toLowerCase()\n                  const count = cardCounts[baseId] ?? 1\n                  const isHovered = hoveredCard?.id === card.id\n                  const isEvenRow = index % 2 === 0\n\n                  return (\n                    <div\n                      key={card.id}\n                      onMouseEnter={() => setHoveredCard(card)}\n                      className={cn(\n                        \"flex items-center justify-between px-4 py-2 text-sm border-b border-slate-800/60 last:border-b-0 cursor-pointer transition-colors\",\n                        // zebra rows\n                        isEvenRow ? \"bg-slate-800/20\" : \"bg-slate-900/90\",\n                        // hover / active\n                        \"hover:bg-emerald-700/60\",\n                        isHovered && \"bg-emerald-900/90\",\n                      )}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <span className=\"w-7 text-right text-slate-400\">\n                          {count}×\n                        </span>\n                        <span className=\"text-slate-50\">{card.name}</span>\n                      </div>\n                      <span className=\"text-[11px] text-slate-500\">\n                        {card.set.toUpperCase()} • {card.number}\n                      </span>\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n\n            {/* Hover preview on the right */}\n            <div className=\"w-full md:w-64 shrink-0 flex flex-col items-center justify-start\">\n              {canStartGame && onStartGame && (\n                <Button\n                  type=\"button\"\n                  size=\"sm\"\n                  className=\"mb-4 rounded-full px-6 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30\"\n                  onClick={onStartGame}\n                >\n                  Start Game\n                </Button>\n              )}\n\n              {hoveredCard ? (\n                <>\n                  <div className=\"aspect-[2.5/3.5] w-full rounded-xl overflow-hidden border border-slate-700 bg-slate-900 shadow-lg\">\n                    {hoveredCard.image ? (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img\n                        src={hoveredCard.image}\n                        alt={hoveredCard.name}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center text-xs text-slate-400\">\n                        {hoveredCard.name}\n                      </div>\n                    )}\n                  </div>\n                  <p className=\"mt-2 text-xs text-slate-300 text-center px-2\">\n                    {hoveredCard.name}\n                  </p>\n                </>\n              ) : (\n                <p className=\"text-xs text-slate-500 text-center px-2\">\n                  Hover a card in the list to preview it.\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Help overlay */}\n{showHelpOverlay && (\n  <div\n    className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm\"\n    onClick={() => setShowHelpOverlay(false)}\n  >\n    <Card\n      className=\"relative w-full max-w-lg mx-4 rounded-3xl bg-slate-950/95 border border-emerald-500/50 shadow-[0_24px_60px_rgba(0,0,0,0.9)] px-6 py-5 text-slate-50\"\n      onClick={(e) => e.stopPropagation()}\n    >\n      {/* Close button */}\n      <button\n        type=\"button\"\n        onClick={() => setShowHelpOverlay(false)}\n        className=\"absolute right-3 top-3 text-slate-400 hover:text-slate-100\"\n        aria-label=\"Close help\"\n      >\n        <X className=\"h-4 w-4\" />\n      </button>\n\n      <div className=\"flex items-center gap-2 mb-3\">\n        <HelpCircle className=\"h-5 w-5 text-emerald-300\" />\n        <h2 className=\"text-lg font-semibold\">\n          <span className=\"text-emerald-300\">How to use</span>{\" \"}\n          <span className=\"text-emerald-100\">PrizeCheckDrillr</span>\n        </h2>\n      </div>\n\n      <div className=\"space-y-3 text-sm leading-relaxed\">\n        <p className=\"text-slate-300\">\n          This tool simulates a real game: we{\" \"}\n          <span className=\"text-emerald-200 font-medium\">shuffle your deck</span>,{\" \"}\n          <span className=\"text-emerald-200 font-medium\">draw an opening hand</span>, set aside{\" \"}\n          <span className=\"text-emerald-200 font-medium\">6 prize cards</span>, then ask you\n          to figure out what&apos;s missing.\n        </p>\n\n        <p>\n          <span className=\"font-semibold text-emerald-300\">1. Import a deck</span>\n          <br />\n          Copy a deck&apos;s text export from{\" \"}\n          <span className=\"text-sky-300 font-semibold\" >LimitlessTCG</span> or  <span className=\"text-sky-300 font-semibold\">PTCGL</span> and paste it into\n          the box above, then click{\" \"}\n          <span className=\"font-semibold text-emerald-200\">Import Deck</span>.\n        </p>\n\n        <p>\n          <span className=\"font-semibold text-emerald-300\">2. Start the drill</span>\n          <br />\n          When the list looks correct, hit{\" \"}\n          <span className=\"font-semibold text-emerald-200\">Start Game</span>. The app{\" \"}\n          <span className=\"text-emerald-200\">shuffles</span>, draws your{\" \"}\n          <span className=\"text-emerald-200\">starting hand</span>, and chooses{\" \"}\n          <span className=\"text-emerald-200\">6 prizes</span>.\n        </p>\n\n        <p>\n          <span className=\"font-semibold text-emerald-300\">3. Scan your deck</span>\n          <br />\n          On the game screen, scroll through your deck and mentally track what should be\n          there. Try to spot patterns of what might be in your prizes. Reorganize your\n          cards using{\" \"}\n          <span className=\"font-semibold text-emerald-200\">keys</span> or{\" \"}\n          <span className=\"font-semibold text-emerald-200\">clicking</span> to help visually.\n        </p>\n\n        <p>\n          <span className=\"font-semibold text-emerald-300\">4. Guess your prizes</span>\n          <br />\n          When the timer ends or you click{\" \"}\n          <span className=\"font-semibold text-emerald-200\">Guess Prizes</span>, select the{\" \"}\n          <span className=\"font-semibold text-emerald-200\">6 cards</span> you think are prized.\n          The results screen shows your{\" \"}\n          <span className=\"text-emerald-200\">accuracy</span>,{\" \"}\n          <span className=\"text-emerald-200\">score</span>, and{\" \"}\n          <span className=\"text-emerald-200\">rank progress</span>.\n        </p>\n\n        <div className=\"mt-2 border-t border-slate-800 pt-3 text-xs text-slate-300 space-y-1\">\n          <p className=\"font-semibold text-emerald-300\">Controls (in game):</p>\n          <p>\n            • <span className=\"font-semibold text-emerald-200\">Arrow keys / mouse wheel</span>:{\" \"}\n            move through the deck\n          </p>\n          <p>\n            • <span className=\"font-semibold text-emerald-200\">Left click / A</span>: bring a\n            card to the front\n          </p>\n          <p>\n            • <span className=\"font-semibold text-emerald-200\">Right click / D</span>: send a\n            card to the back\n          </p>\n        </div>\n\n        <p className=\"pt-2 text-[11px] text-slate-400\">\n          <span className=\"text-emerald-300 font-semibold\">Tip:</span>{\" \"}\n          Don&apos;t write anything down so you can build your deck memorization and visualization skills.\n        </p>\n      </div>\n    </Card>\n  </div>\n)}\n\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1554, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/progress.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\", className)}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,kEAAkE;QAC/E,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIhE,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 1591, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/deck-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useCallback } from \"react\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Progress } from \"@/components/ui/progress\"\nimport { Clock, ChevronLeft, ChevronRight } from \"lucide-react\"\nimport type { PokemonCard } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\ninterface DeckViewProps {\n  deck: PokemonCard[]\n  hand: PokemonCard[]\n  onTimeUp: () => void\n  onEndEarly: () => void\n  onRestartGame?: () => void\n}\n\nconst GAME_DURATION = 120\nconst MAX_VISIBLE_DISTANCE = 3\n\n// Single-color emerald panel used for header + help bar\nconst panelClasses =\n  \"rounded-3xl border-0 ring-1 ring-emerald-500/20 \" +\n  \"bg-emerald-900/70 shadow-[0_20px_45px_rgba(0,0,0,0.85)] overflow-hidden\"\n\nexport function DeckView({\n  deck,\n  hand,\n  onTimeUp,\n  onEndEarly,\n  onRestartGame,\n}: DeckViewProps) {\n  const [centerIndex, setCenterIndex] = useState(0)\n  const [timeRemaining, setTimeRemaining] = useState(GAME_DURATION)\n  const [deckOrder, setDeckOrder] = useState<PokemonCard[]>(deck)\n\n  // keep in sync when a new deck is imported\n  useEffect(() => {\n    setDeckOrder(deck)\n    setCenterIndex(0)\n    setTimeRemaining(GAME_DURATION)\n  }, [deck])\n\n  const progress = ((GAME_DURATION - timeRemaining) / GAME_DURATION) * 100\n\n  // Timer countdown\n  useEffect(() => {\n    if (timeRemaining <= 0) {\n      onTimeUp()\n      return\n    }\n\n    const timer = setInterval(() => {\n      setTimeRemaining((prev) => Math.max(0, prev - 1))\n    }, 1000)\n\n    return () => clearInterval(timer)\n  }, [timeRemaining, onTimeUp])\n\n  // Navigation handlers\n  const goNext = useCallback(() => {\n    setCenterIndex((prev) => Math.min(prev + 1, deckOrder.length - 1))\n  }, [deckOrder.length])\n\n  const goPrevious = useCallback(() => {\n    setCenterIndex((prev) => Math.max(0, prev - 1))\n  }, [])\n\n  const moveCardToFront = useCallback(\n    (cardIndex: number) => {\n      const newDeck = [...deckOrder]\n      const [card] = newDeck.splice(cardIndex, 1)\n      newDeck.unshift(card)\n      setDeckOrder(newDeck)\n\n      setCenterIndex((prev) => {\n        if (cardIndex < prev) return Math.max(prev - 1, 0)\n        return prev\n      })\n    },\n    [deckOrder],\n  )\n\n  const moveCardToBack = useCallback(\n    (cardIndex: number) => {\n      const newDeck = [...deckOrder]\n      const [card] = newDeck.splice(cardIndex, 1)\n      newDeck.push(card)\n      setDeckOrder(newDeck)\n\n      setCenterIndex((prev) => {\n        if (cardIndex < prev) return Math.max(prev - 1, 0)\n        return Math.min(prev, newDeck.length - 1)\n      })\n    },\n    [deckOrder],\n  )\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      const key = e.key.toLowerCase()\n\n      if ([\"arrowleft\", \"arrowright\", \"a\", \"d\"].includes(key)) {\n        e.preventDefault()\n      }\n\n      if (key === \"arrowleft\") {\n        goPrevious()\n      } else if (key === \"arrowright\") {\n        goNext()\n      } else if (key === \"a\") {\n        moveCardToFront(centerIndex)\n      } else if (key === \"d\") {\n        moveCardToBack(centerIndex)\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [goNext, goPrevious, moveCardToFront, moveCardToBack, centerIndex])\n\n  // Mouse wheel navigation\n  useEffect(() => {\n    const handleWheel = (e: WheelEvent) => {\n      e.preventDefault()\n      if (e.deltaY > 0) goNext()\n      else if (e.deltaY < 0) goPrevious()\n    }\n\n    window.addEventListener(\"wheel\", handleWheel, { passive: false })\n    return () => window.removeEventListener(\"wheel\", handleWheel)\n  }, [goNext, goPrevious])\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`\n  }\n\n  const handleRestartClick = () => {\n    setTimeRemaining(GAME_DURATION)\n    setCenterIndex(0)\n    setDeckOrder(deck)\n    onRestartGame?.()\n  }\n\n  return (\n    <div className=\"relative container mx-auto max-w-7xl p-6 h-screen flex flex-col gap-4 text-slate-50\">\n      {/* Header with timer + end button */}\n      <Card className={cn(\"p-4\", panelClasses)}>\n        <div className=\"flex items-center justify-between gap-4\">\n          {/* Timer */}\n          <div className=\"flex items-center gap-3\">\n            <Clock\n              className={cn(\n                \"h-6 w-6\",\n                timeRemaining <= 20\n                  ? \"text-rose-400 animate-pulse\"\n                  : \"text-emerald-300\",\n              )}\n            />\n            <div>\n              <div\n                className={cn(\n                  \"text-3xl sm:text-4xl font-semibold tabular-nums tracking-[0.18em]\",\n                  timeRemaining <= 20 ? \"text-rose-400\" : \"text-emerald-50\",\n                )}\n              >\n                {formatTime(timeRemaining)}\n              </div>\n              <div className=\"text-[11px] uppercase tracking-[0.22em] text-emerald-200/80\">\n                Time Remaining\n              </div>\n            </div>\n          </div>\n\n          {/* Progress */}\n          <div className=\"flex-1 max-w-md\">\n            <Progress\n              value={progress}\n              className={cn(\n                \"h-2 rounded-full\",\n                \"bg-emerald-900/40 shadow-inner shadow-emerald-500/20\",\n                \"[&>div]:bg-emerald-400\",\n              )}\n            />\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center justify-end gap-2\">\n            {onRestartGame && (\n              <Button\n                type=\"button\"\n                size=\"sm\"\n                onClick={handleRestartClick}\n                className={cn(\n                  \"rounded-full px-5 font-semibold shadow-md shadow-emerald-500/40\",\n                  \"bg-emerald-500 text-slate-950 hover:bg-emerald-400\",\n                  \"transition-transform duration-150 active:scale-95 active:translate-y-[1px]\",\n                )}\n              >\n                Restart\n              </Button>\n            )}\n\n            <Button\n              type=\"button\"\n              size=\"sm\"\n              onClick={onEndEarly}\n              className={cn(\n                \"rounded-full px-5 font-semibold shadow-md shadow-emerald-500/40\",\n                \"bg-emerald-500 text-slate-950 hover:bg-emerald-400\",\n                \"transition-transform duration-150 active:scale-95 active:translate-y-[1px]\",\n              )}\n            >\n              Guess Prizes\n            </Button>\n          </div>\n        </div>\n      </Card>\n\n      \n\n      {/* Carousel */}\n      <div className=\"flex-1 flex items-start justify-center overflow-hidden pt-2\">\n        <div className=\"relative w-full max-w-5xl h-[520px] flex items-center justify-center\">\n          {/* Background glow behind cards (blue again) */}\n          <div\n            className=\"\n              pointer-events-none\n              absolute\n              inset-x-16\n              top-16\n              h-64\n              rounded-[999px]\n              bg-sky-400/18\n              blur-3xl\n              opacity-80\n            \"\n          />\n\n          {/* Left arrow */}\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className={cn(\n              \"absolute left-0 z-40 h-12 w-12 rounded-full border border-slate-700/70\",\n              \"bg-slate-950/90 text-slate-100 shadow-md shadow-emerald-500/20\",\n              \"!hover:bg-slate-800-* !hover:text-emerald-100-*\",\n              \"transition-transform duration-150 active:scale-95 active:translate-y-[1px]\",\n              centerIndex === 0 && \"opacity-40 cursor-default hover:bg-slate-950\",\n            )}\n            onClick={goPrevious}\n            disabled={centerIndex === 0}\n          >\n            <ChevronLeft className=\"h-6 w-6\" />\n          </Button>\n\n          {/* Right arrow */}\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            className={cn(\n              \"absolute right-0 z-40 h-12 w-12 rounded-full border border-slate-700/70\",\n              \"bg-slate-950/90 text-slate-100 shadow-md shadow-emerald-500/20\",\n              \"!hover:bg-slate-900-* !hover:text-emerald-100-*\",\n              \"transition-transform duration-150 active:scale-95 active:translate-y-[1px]\",\n              centerIndex === deckOrder.length - 1 &&\n                \"opacity-40 cursor-default hover:bg-slate-950\",\n            )}\n            onClick={goNext}\n            disabled={centerIndex === deckOrder.length - 1}\n          >\n            <ChevronRight className=\"h-6 w-6\" />\n          </Button>\n\n          {deckOrder.map((card, index) => {\n            const relativeIndex = index - centerIndex // 0 = center\n            const distance = Math.abs(relativeIndex)\n\n            const isCenter = distance === 0\n\n            // Slightly less spacing & only a *little* larger than old version\n            const xTranslate = relativeIndex * 195\n\n            const centerScale = 0.96\n            const scale = isCenter\n              ? centerScale\n              : Math.max(0.84, centerScale - distance * 0.06)\n\n            let baseOpacity = 1\n            if (distance === 2) baseOpacity = 0.88\n            if (distance === 3) baseOpacity = 0.7\n            if (distance > MAX_VISIBLE_DISTANCE) baseOpacity = 0\n\n            const hidden = distance > MAX_VISIBLE_DISTANCE\n\n            const zClass =\n              distance === 0 ? \"z-30\" : distance === 1 ? \"z-20\" : \"z-10\"\n\n            const name = card.name ?? \"\"\n            const isExCard = /\\bex\\b/i.test(name) // matches \"Charizard ex\", \"Gardevoir ex\", etc.\n\n          return (\n  <div\n    key={`${card.id}-${index}`}\n    className={cn(\n      \"absolute cursor-pointer transition-all duration-500 ease-out will-change-transform\",\n      zClass,\n      hidden && \"pointer-events-none\",\n    )}\n    style={{\n      transform: `translateX(${xTranslate}px) scale(${scale})`,\n      opacity: baseOpacity,\n    }}\n    onContextMenu={(e) => {\n      e.preventDefault()\n      moveCardToBack(index)\n    }}\n    onClick={() => {\n      if (isCenter) {\n        moveCardToFront(index)\n      } else {\n        setCenterIndex(index)\n      }\n    }}\n  >\n    <div\n      className={cn(\n        \"w-[235px] transition-shadow duration-500 rounded-xl\", // 🔹 outer wrapper now rounded\n        isCenter\n          ? \"shadow-[0_0_80px_rgba(56,189,248,0.9)]\"\n          : \"shadow-[0_0_40px_rgba(15,23,42,0.9)]\",\n      )}\n    >\n      <div\n        className={cn(\n          \"aspect-[2.5/3.5] relative overflow-hidden rounded-xl\", // 🔹 clip to radius\n          \"bg-slate-900\" // subtle base color behind the image\n        )}\n      >\n        {card.image ? (\n          <img\n            src={card.image || \"/placeholder.svg\"}\n            alt={card.name}\n            className=\"absolute inset-0 w-full h-full object-cover select-none\"\n            draggable={false}\n          />\n        ) : (\n          <div className=\"w-full h-full bg-slate-800 flex items-center justify-center p-4\">\n            <p className=\"text-lg text-center text-slate-50 font-bold text-balance\">\n              {card.name}\n            </p>\n          </div>\n        )}\n          {isExCard && <div className=\"holo-overlay\" />}\n      </div>\n    </div>\n  </div>\n)\n\n          })}\n        </div>\n      </div>\n\n            {/* Bottom instructions + starting hand overlay */}\n      <div className=\"relative mt-6\">\n        {hand.length > 0 && (\n          <div className=\"pointer-events-none absolute inset-x-16 bottom-6 h-16 rounded-full bg-emerald-500/18 blur-3xl opacity-80 z-10\" />\n        )}\n\n        {/* Starting hand */}\n        {hand.length > 0 && (\n          <div\n            className={cn(\n              \"absolute inset-x-0 bottom-6 flex justify-center transition-transform duration-300 ease-out z-20\",\n              \"translate-y-8 hover:translate-y-3\",\n              \"peer\", // 👈 make this the peer that controls the help bar\n            )}\n          >\n            <div className=\"flex gap-3 px-8 pb-2\">\n              {hand.map((card, index) => (\n                <div\n                  key={`${card.id}-hand-${index}`}\n                  className=\"w-[90px] sm:w-[100px] md:w-[110px]\"\n                >\n                  <div className=\"aspect-[2.5/3.5] overflow-hidden rounded-md bg-slate-950 shadow-[0_0_25px_rgba(15,23,42,0.9)]\">\n                    {card.image ? (\n                      // eslint-disable-next-line @next/next/no-img-element\n                      <img\n                        src={card.image || \"/placeholder.svg\"}\n                        alt={card.name}\n                        className=\"w-full h-full object-cover select-none\"\n                        draggable={false}\n                      />\n                    ) : (\n                      <div className=\"w-full h-full bg-slate-800 flex items-center justify-center p-2\">\n                        <p className=\"text-xs text-center text-slate-50 font-medium\">\n                          {card.name}\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Help bar */}\n        <Card\n          className={cn(\n            \"relative z-30 p-4 text-slate-200 transition-opacity duration-300\", // 👈 add transition\n            panelClasses,\n            hand.length > 0 && \"peer-hover:opacity-10\", // 👈 fade when hand is hovered\n          )}\n        >\n          <div className=\"text-center text-sm space-y-1\">\n            <p className=\"font-medium\">\n              <span className=\"text-emerald-300\">Left Click or Press A:</span>{\" \"}\n              Center card (or move to front if centered) •{\" \"}\n              <span className=\"text-emerald-300\">Right Click or Press D:</span>{\" \"}\n              Move card to back\n            </p>\n            <p>\n              <span className=\"text-emerald-300\">Arrow Keys / Mouse Wheel:</span>{\" \"}\n              Scroll through deck •{\" \"}\n              <span className=\"text-emerald-300\">Side Arrows:</span> Step one\n              card at a time\n            </p>\n            <p className=\"text-xs mt-2 text-slate-100\">\n              Viewing card {centerIndex + 1} of {deckOrder.length}\n            </p>\n          </div>\n        </Card>\n      </div>\n\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2177, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/ui/badge.tsx"],"sourcesContent":["import type * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E"}},
    {"offset": {"line": 2219, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/lib/rank.ts"],"sourcesContent":["// lib/rank.ts\nexport type TierId = \"pokeball\" | \"greatball\" | \"ultraball\" | \"masterball\";\n\nexport interface RankState {\n  tier: TierId;\n  /** 0–100 for Poké/Great/Ultra; ignored for Master Ball */\n  progress: number;\n  /** Only used in Master Ball tier */\n  elo: number;\n}\n\nexport const TIER_ORDER: TierId[] = [\n  \"pokeball\",\n  \"greatball\",\n  \"ultraball\",\n  \"masterball\",\n];\n\n// lib/rank.ts\n\nconst TIER_CONFIG: Record<\n  \"pokeball\" | \"greatball\" | \"ultraball\",\n  { expected: number; scale: number }\n> = {\n  // Much easier to climb out of Poké Ball\n  pokeball:  { expected: 0.15, scale: 80 },\n  greatball: { expected: 0.35, scale: 70 },\n  ultraball: { expected: 0.55, scale: 60 },\n};\n\n\nconst MASTER_EXPECTED = 0.8;\nconst MASTER_K = 40;\n\nexport const initialRankState: RankState = {\n  tier: \"pokeball\",\n  progress: 0,\n  elo: 1200,\n};\n\nexport function updateRank(\n  current: RankState,\n  overallScore: number,\n  maxScore: number,\n): RankState {\n  const normalized = Math.max(0, Math.min(1, overallScore / maxScore));\n\n  // Master Ball → Elo mode only\n  if (current.tier === \"masterball\") {\n    const deltaElo = MASTER_K * (normalized - MASTER_EXPECTED);\n    return {\n      ...current,\n      elo: Math.max(0, Math.round(current.elo + deltaElo)),\n      progress: 0,\n    };\n  }\n\n  // Progress-bar tiers\n  const { expected, scale } = TIER_CONFIG[current.tier];\n  const delta = (normalized - expected) * scale;\n  let nextProgress = current.progress + delta;\n  let nextTier = current.tier;\n\n  const idx = TIER_ORDER.indexOf(current.tier);\n\n  // Promotion\n  if (nextProgress >= 100) {\n    const promotedTier = TIER_ORDER[idx + 1] ?? \"masterball\";\n\n    if (promotedTier === \"masterball\") {\n      const overflow = nextProgress - 100;\n      const bonus = Math.max(0, overflow) * 2; // tiny Elo head start\n      return {\n        tier: \"masterball\",\n        progress: 0,\n        elo: Math.round(1200 + bonus),\n      };\n    } else {\n      nextTier = promotedTier;\n      // keep some overflow, but cap at 40% in new tier\n      nextProgress = Math.min(40, nextProgress - 100);\n    }\n  }\n\n  // Demotion (can’t go below Poké Ball)\n  if (nextProgress <= 0 && current.tier !== \"pokeball\") {\n    const demotedTier = TIER_ORDER[idx - 1] ?? \"pokeball\";\n    nextTier = demotedTier;\n    // fall back to 80% of the lower tier so it’s easy to bounce back\n    nextProgress = 80;\n  }\n\n  nextProgress = Math.max(0, Math.min(100, nextProgress));\n\n  return {\n    ...current,\n    tier: nextTier,\n    progress: Math.round(nextProgress),\n  };\n}\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;;;;AAWP,MAAM,aAAuB;IAClC;IACA;IACA;IACA;CACD;AAED,cAAc;AAEd,MAAM,cAGF;IACF,wCAAwC;IACxC,UAAW;QAAE,UAAU;QAAM,OAAO;IAAG;IACvC,WAAW;QAAE,UAAU;QAAM,OAAO;IAAG;IACvC,WAAW;QAAE,UAAU;QAAM,OAAO;IAAG;AACzC;AAGA,MAAM,kBAAkB;AACxB,MAAM,WAAW;AAEV,MAAM,mBAA8B;IACzC,MAAM;IACN,UAAU;IACV,KAAK;AACP;AAEO,SAAS,WACd,OAAkB,EAClB,YAAoB,EACpB,QAAgB;IAEhB,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,eAAe;IAE1D,8BAA8B;IAC9B,IAAI,QAAQ,IAAI,KAAK,cAAc;QACjC,MAAM,WAAW,WAAW,CAAC,aAAa,eAAe;QACzD,OAAO;YACL,GAAG,OAAO;YACV,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC,QAAQ,GAAG,GAAG;YAC1C,UAAU;QACZ;IACF;IAEA,qBAAqB;IACrB,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC,QAAQ,IAAI,CAAC;IACrD,MAAM,QAAQ,CAAC,aAAa,QAAQ,IAAI;IACxC,IAAI,eAAe,QAAQ,QAAQ,GAAG;IACtC,IAAI,WAAW,QAAQ,IAAI;IAE3B,MAAM,MAAM,WAAW,OAAO,CAAC,QAAQ,IAAI;IAE3C,YAAY;IACZ,IAAI,gBAAgB,KAAK;QACvB,MAAM,eAAe,UAAU,CAAC,MAAM,EAAE,IAAI;QAE5C,IAAI,iBAAiB,cAAc;YACjC,MAAM,WAAW,eAAe;YAChC,MAAM,QAAQ,KAAK,GAAG,CAAC,GAAG,YAAY,GAAG,sBAAsB;YAC/D,OAAO;gBACL,MAAM;gBACN,UAAU;gBACV,KAAK,KAAK,KAAK,CAAC,OAAO;YACzB;QACF,OAAO;YACL,WAAW;YACX,iDAAiD;YACjD,eAAe,KAAK,GAAG,CAAC,IAAI,eAAe;QAC7C;IACF;IAEA,sCAAsC;IACtC,IAAI,gBAAgB,KAAK,QAAQ,IAAI,KAAK,YAAY;QACpD,MAAM,cAAc,UAAU,CAAC,MAAM,EAAE,IAAI;QAC3C,WAAW;QACX,iEAAiE;QACjE,eAAe;IACjB;IAEA,eAAe,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK;IAEzC,OAAO;QACL,GAAG,OAAO;QACV,MAAM;QACN,UAAU,KAAK,KAAK,CAAC;IACvB;AACF"}},
    {"offset": {"line": 2309, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/rank-display.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport type { RankState } from \"@/lib/rank\"\nimport { cn } from \"@/lib/utils\"\n\ninterface RankDisplayProps {\n  previous: RankState\n  current: RankState\n  maxScore: number\n  lastScore: number\n}\n\nconst TIER_ORDER: RankState[\"tier\"][] = [\n  \"pokeball\",\n  \"greatball\",\n  \"ultraball\",\n  \"masterball\",\n]\n\n// adjust to your actual file paths\nconst ICONS: Record<RankState[\"tier\"], string> = {\n  pokeball: \"/pokeball.png\",\n  greatball: \"/greatball.png\",\n  ultraball: \"/ultraball.png\",\n  masterball: \"/masterball.png\",\n}\n\n// brighter glow colors\nconst GLOW_COLOR: Record<RankState[\"tier\"], string> = {\n  pokeball: \"bg-rose-500/70\",\n  greatball: \"bg-sky-500/70\",\n  ultraball: \"bg-amber-300/75\",\n  masterball: \"bg-violet-500/70\",\n}\n\nfunction tierLabel(tier: RankState[\"tier\"]) {\n  switch (tier) {\n    case \"pokeball\":\n      return \"Poké Ball\"\n    case \"greatball\":\n      return \"Great Ball\"\n    case \"ultraball\":\n      return \"Ultra Ball\"\n    case \"masterball\":\n      return \"Master Ball\"\n    default:\n      return tier\n  }\n}\n\nexport function RankDisplay({\n  previous,\n  current,\n  maxScore,\n  lastScore,\n}: RankDisplayProps) {\n  const [visible, setVisible] = useState(false)\n\n  useEffect(() => {\n    const t = setTimeout(() => setVisible(true), 60)\n    return () => clearTimeout(t)\n  }, [current.tier, current.progress])\n\n  const prevIndex = TIER_ORDER.indexOf(previous.tier)\n  const currIndex = TIER_ORDER.indexOf(current.tier)\n  const promoted = currIndex > prevIndex\n  const demoted = currIndex < prevIndex\n\n  // ---------- Master Ball (Elo mode) ----------\n  if (current.tier === \"masterball\") {\n    const baseElo = Math.round((lastScore / maxScore) * 2000 + 2000)\n    const elo = current.elo ?? baseElo\n    const prevElo = previous.elo ?? elo\n    const delta = elo - prevElo\n    const hasDelta = delta !== 0\n\n    return (\n      <div\n        className={cn(\n          \"flex flex-col items-center gap-1 transition-opacity duration-700\",\n          visible ? \"opacity-100\" : \"opacity-0\",\n        )}\n      >\n        <div className=\"relative flex items-center justify-center\">\n          {/* smaller, softer glow */}\n          <div\n            className={cn(\n              \"absolute w-28 h-28 rounded-full blur-2xl opacity-80 animate-pulse\",\n              GLOW_COLOR.masterball,\n            )}\n          />\n          {/* steady icon */}\n          {/* eslint-disable-next-line @next/next/no-img-element */}\n          <img\n            src={ICONS.masterball}\n            alt=\"Master Ball rank\"\n            className=\"relative h-16 w-16\"\n          />\n        </div>\n\n        <div className=\"text-[10px] uppercase tracking-[0.22em] text-slate-400\">\n          Rank\n        </div>\n        <div className=\"text-sm font-semibold text-slate-100\">\n          Master Ball\n        </div>\n\n        <div className=\"mt-1 text-3xl font-bold text-violet-200\">\n          {elo}\n        </div>\n        {hasDelta && (\n          <div\n            className={cn(\n              \"text-xs\",\n              delta > 0 ? \"text-emerald-400\" : \"text-rose-400\",\n            )}\n          >\n            {delta > 0 ? \"+\" : \"\"}\n            {delta}\n          </div>\n        )}\n      </div>\n    )\n  }\n\n  // ---------- Normal tiers (Poké / Great / Ultra) ----------\n  // We no longer show the bar or delta here; just icon + label\n\n  return (\n    <div\n      className={cn(\n        \"flex flex-col items-center gap-1 transition-opacity duration-700\",\n        visible ? \"opacity-100\" : \"opacity-0\",\n      )}\n    >\n      {/* larger ball with strong, slow pulsing glow */}\n      <div className=\"relative flex items-center justify-center mt-1\">\n        <div\n          className={cn(\n            \"absolute w-28 h-28 rounded-full blur-2xl opacity-75 animate-pulse\",\n            GLOW_COLOR[current.tier],\n          )}\n        />\n        {/* eslint-disable-next-line @next/next/no-img-element */}\n        <img\n          src={ICONS[current.tier]}\n          alt={`${tierLabel(current.tier)} rank`}\n          className=\"relative h-19 w-19\"\n        />\n      </div>\n\n      <div className=\"text-[10px] uppercase tracking-[0.22em] text-slate-400\">\n        Rank\n      </div>\n      <div className=\"text-sm font-semibold text-slate-100\">\n        {tierLabel(current.tier)}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAaA,MAAM,aAAkC;IACtC;IACA;IACA;IACA;CACD;AAED,mCAAmC;AACnC,MAAM,QAA2C;IAC/C,UAAU;IACV,WAAW;IACX,WAAW;IACX,YAAY;AACd;AAEA,uBAAuB;AACvB,MAAM,aAAgD;IACpD,UAAU;IACV,WAAW;IACX,WAAW;IACX,YAAY;AACd;AAEA,SAAS,UAAU,IAAuB;IACxC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAEO,SAAS,YAAY,EAC1B,QAAQ,EACR,OAAO,EACP,QAAQ,EACR,SAAS,EACQ;IACjB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,IAAI,WAAW,IAAM,WAAW,OAAO;QAC7C,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC,QAAQ,IAAI;QAAE,QAAQ,QAAQ;KAAC;IAEnC,MAAM,YAAY,WAAW,OAAO,CAAC,SAAS,IAAI;IAClD,MAAM,YAAY,WAAW,OAAO,CAAC,QAAQ,IAAI;IACjD,MAAM,WAAW,YAAY;IAC7B,MAAM,UAAU,YAAY;IAE5B,+CAA+C;IAC/C,IAAI,QAAQ,IAAI,KAAK,cAAc;QACjC,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,YAAY,WAAY,OAAO;QAC3D,MAAM,MAAM,QAAQ,GAAG,IAAI;QAC3B,MAAM,UAAU,SAAS,GAAG,IAAI;QAChC,MAAM,QAAQ,MAAM;QACpB,MAAM,WAAW,UAAU;QAE3B,qBACE,8OAAC;YACC,WAAW,IAAA,kHAAE,EACX,oEACA,UAAU,gBAAgB;;8BAG5B,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BACC,WAAW,IAAA,kHAAE,EACX,qEACA,WAAW,UAAU;;;;;;sCAKzB,8OAAC;4BACC,KAAK,MAAM,UAAU;4BACrB,KAAI;4BACJ,WAAU;;;;;;;;;;;;8BAId,8OAAC;oBAAI,WAAU;8BAAyD;;;;;;8BAGxE,8OAAC;oBAAI,WAAU;8BAAuC;;;;;;8BAItD,8OAAC;oBAAI,WAAU;8BACZ;;;;;;gBAEF,0BACC,8OAAC;oBACC,WAAW,IAAA,kHAAE,EACX,WACA,QAAQ,IAAI,qBAAqB;;wBAGlC,QAAQ,IAAI,MAAM;wBAClB;;;;;;;;;;;;;IAKX;IAEA,4DAA4D;IAC5D,6DAA6D;IAE7D,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,oEACA,UAAU,gBAAgB;;0BAI5B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,WAAW,IAAA,kHAAE,EACX,qEACA,UAAU,CAAC,QAAQ,IAAI,CAAC;;;;;;kCAI5B,8OAAC;wBACC,KAAK,KAAK,CAAC,QAAQ,IAAI,CAAC;wBACxB,KAAK,GAAG,UAAU,QAAQ,IAAI,EAAE,KAAK,CAAC;wBACtC,WAAU;;;;;;;;;;;;0BAId,8OAAC;gBAAI,WAAU;0BAAyD;;;;;;0BAGxE,8OAAC;gBAAI,WAAU;0BACZ,UAAU,QAAQ,IAAI;;;;;;;;;;;;AAI/B"}},
    {"offset": {"line": 2501, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/results-view.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Trophy, CheckCircle2, XCircle, RotateCcw, Timer } from \"lucide-react\"\nimport type { PokemonCard } from \"@/lib/types\"\nimport { cn } from \"@/lib/utils\"\n\nimport type { RankState } from \"@/lib/rank\"\nimport { initialRankState, updateRank } from \"@/lib/rank\"\nimport { RankDisplay } from \"@/components/rank-display\"\n\ninterface ResultsViewProps {\n  allCards: PokemonCard[]\n  prizeCards: PokemonCard[]\n  onRestart: () => void\n  timeLeft: number | null\n  totalTime: number\n}\n\ntype Status =\n  | \"selected\"\n  | \"unselected\"\n  | \"correct\"\n  | \"incorrect\"\n  | \"missed\"\n  | \"normal\"\n\n/* ---------- Rank progress helpers ---------- */\n\nconst RANK_TIER_ORDER: RankState[\"tier\"][] = [\n  \"pokeball\",\n  \"greatball\",\n  \"ultraball\",\n  \"masterball\",\n]\n\nconst RANK_BAR_COLOR: Record<RankState[\"tier\"], string> = {\n  pokeball: \"bg-rose-400\",\n  greatball: \"bg-sky-400\",\n  ultraball: \"bg-amber-300\",\n  masterball: \"bg-violet-400\",\n}\n\nfunction computeProgressDelta(\n  previous: RankState | null,\n  current: RankState | null,\n): number | null {\n  if (!previous || !current) return null\n  if (current.tier === \"masterball\") return null\n\n  const prevIndex = RANK_TIER_ORDER.indexOf(previous.tier)\n  const currIndex = RANK_TIER_ORDER.indexOf(current.tier)\n  if (prevIndex === -1 || currIndex === -1) return null\n\n  const currentProgress = current.progress ?? 0\n\n  // Promotion: 0 → current.progress\n  if (currIndex > prevIndex) {\n    return currentProgress\n  }\n\n  // Demotion: compare to 100 of previous tier\n  if (currIndex < prevIndex) {\n    return currentProgress - 100\n  }\n\n  // Same tier: diff from previous.progress\n  return currentProgress - (previous.progress ?? 0)\n}\n\n/* ---------- Shared panel styles ---------- */\n\n// Matches the “emerald bar” feel from the game screen\nconst resultsPanelClasses =\n  \"rounded-3xl border-0 ring-1 ring-emerald-500/30 \" +\n  \"bg-emerald-900/75 shadow-[0_20px_45px_rgba(0,0,0,0.9)]\"\n\n// Neutral dark container behind the card grid (no green tint)\nconst gridPanelClasses =\n  \"rounded-3xl bg-slate-950/85 border border-slate-800/80 \" +\n  \"shadow-[0_18px_40px_rgba(0,0,0,0.9)]\"\n\nexport function ResultsView({\n  allCards,\n  prizeCards,\n  onRestart,\n  timeLeft,\n  totalTime,\n}: ResultsViewProps) {\n  const router = useRouter()\n  const [selectedCards, setSelectedCards] = useState<Set<string>>(new Set())\n  const [showResults, setShowResults] = useState(false)\n  const [personalBest, setPersonalBest] = useState<number | null>(null)\n\n  // Rank state\n  const [rank, setRank] = useState<RankState | null>(null)\n  const [previousRank, setPreviousRank] = useState<RankState | null>(null)\n\n  const totalPrizes = prizeCards.length || 6\n\n  // Load personal best once\n  useEffect(() => {\n    if (typeof window === \"undefined\") return\n    const stored = window.localStorage.getItem(\"prizeCheckerPersonalBest\")\n    if (stored) {\n      const value = Number(stored)\n      if (!Number.isNaN(value)) setPersonalBest(value)\n    }\n  }, [])\n\n  // Load rank once\n  useEffect(() => {\n    if (typeof window === \"undefined\") return\n    const stored = window.localStorage.getItem(\"prizeCheckerRankState\")\n    if (stored) {\n      try {\n        const parsed = JSON.parse(stored) as RankState\n        setRank(parsed)\n      } catch {\n        setRank(initialRankState)\n      }\n    } else {\n      setRank(initialRankState)\n    }\n  }, [])\n\n  // Expand meta & sort so duplicates are grouped together\n  const cardsWithMeta = useMemo(\n    () =>\n      allCards\n        .map((card) => ({\n          ...card,\n          instanceId: card.id,\n          baseId: card.id.split(\"#\")[0],\n        }))\n        .sort((a, b) => {\n          if (a.baseId === b.baseId) {\n            return a.instanceId.localeCompare(b.instanceId)\n          }\n          return a.baseId.localeCompare(b.baseId)\n        }),\n    [allCards],\n  )\n\n  // prize counts per base card (handles duplicates)\n  const prizeCountByBase = useMemo(() => {\n    const map = new Map<string, number>()\n    for (const c of prizeCards) {\n      const baseId = c.id.split(\"#\")[0]\n      map.set(baseId, (map.get(baseId) || 0) + 1)\n    }\n    return map\n  }, [prizeCards])\n\n  const toggleCard = (cardId: string) => {\n    if (showResults) return\n\n    const next = new Set(selectedCards)\n    if (next.has(cardId)) {\n      next.delete(cardId)\n    } else if (next.size < 6) {\n      next.add(cardId)\n    }\n    setSelectedCards(next)\n  }\n\n  const [statusMap, correctGuesses, incorrectGuesses, missedPrizes] = useMemo(() => {\n    if (!showResults) return [new Map<string, Status>(), 0, 0, 0] as const\n\n    const status = new Map<string, Status>()\n\n    // group instances by baseId\n    const cardsByBase = new Map<string, string[]>()\n    for (const c of cardsWithMeta) {\n      const ids = cardsByBase.get(c.baseId) || []\n      ids.push(c.instanceId)\n      cardsByBase.set(c.baseId, ids)\n    }\n\n    let correct = 0\n    let incorrect = 0\n    let missed = 0\n\n    for (const [baseId, instanceIds] of cardsByBase.entries()) {\n      const prizeCount = prizeCountByBase.get(baseId) || 0\n      if (prizeCount === 0) {\n        // nothing prized for this card: only mark selected as incorrect\n        for (const id of instanceIds) {\n          if (selectedCards.has(id)) {\n            status.set(id, \"incorrect\")\n            incorrect++\n          }\n        }\n        continue\n      }\n\n      const selectedIds = instanceIds.filter((id) => selectedCards.has(id))\n      const correctCount = Math.min(prizeCount, selectedIds.length)\n\n      // mark correct selected\n      for (let i = 0; i < correctCount; i++) {\n        const id = selectedIds[i]\n        status.set(id, \"correct\")\n        correct++\n      }\n\n      // extra selected -> incorrect\n      for (let i = correctCount; i < selectedIds.length; i++) {\n        const id = selectedIds[i]\n        status.set(id, \"incorrect\")\n        incorrect++\n      }\n\n      // remaining prized copies that were never selected -> missed\n      const remainingPrizes = prizeCount - correctCount\n      if (remainingPrizes > 0) {\n        const unselectedIds = instanceIds.filter((id) => !selectedCards.has(id))\n        for (let i = 0; i < Math.min(remainingPrizes, unselectedIds.length); i++) {\n          const id = unselectedIds[i]\n          status.set(id, \"missed\")\n          missed++\n        }\n      }\n    }\n\n    return [status, correct, incorrect, missed] as const\n  }, [showResults, cardsWithMeta, prizeCountByBase, selectedCards])\n\n  const handleSubmit = () => {\n    setShowResults(true)\n  }\n\n  const handleImportNewList = () => {\n    if (typeof window !== \"undefined\") {\n      window.location.href = \"/\"\n    }\n  }\n\n  const accuracy =\n    totalPrizes > 0 ? Math.round((correctGuesses / totalPrizes) * 100) : 0\n\n  // If timeLeft is null, assume 0 seconds used (fastest case)\n  const usedTime = timeLeft == null ? 0 : Math.max(0, totalTime - timeLeft)\n\n  const timePercent =\n    totalTime === 0\n      ? 0\n      : Math.max(0, Math.min(1, (totalTime - usedTime) / totalTime))\n\n  // scoring: 70% accuracy, 30% speed, scaled to 0–1000\n  const score = (() => {\n    const accScore = accuracy / 100\n    const raw = accScore * 0.7 + timePercent * 0.3\n    return Math.round(raw * 1000)\n  })()\n\n  // PB update\n  useEffect(() => {\n    if (!showResults) return\n    if (typeof window === \"undefined\") return\n\n    setPersonalBest((prev) => {\n      const currentBest =\n        prev ??\n        (() => {\n          const stored = window.localStorage.getItem(\"prizeCheckerPersonalBest\")\n          const n = stored ? Number(stored) : 0\n          return Number.isNaN(n) ? 0 : n\n        })()\n\n      const newBest = score > currentBest ? score : currentBest\n      if (newBest !== currentBest) {\n        window.localStorage.setItem(\"prizeCheckerPersonalBest\", String(newBest))\n      }\n      return newBest\n    })\n  }, [showResults, score])\n\n  // rank update when results show\n  useEffect(() => {\n    if (!showResults) return\n    if (typeof window === \"undefined\") return\n\n    setRank((current) => {\n      const currentRank = current ?? initialRankState\n      const nextRank = updateRank(currentRank, score, 1000)\n      setPreviousRank(currentRank)\n      window.localStorage.setItem(\n        \"prizeCheckerRankState\",\n        JSON.stringify(nextRank),\n      )\n      return nextRank\n    })\n  }, [showResults, score])\n\n  const isNewPB =\n    showResults && (personalBest === null || score >= personalBest)\n\n  const scoreColor = (() => {\n    if (score >= 800) return \"text-emerald-400\"\n    if (score >= 600) return \"text-lime-400\"\n    if (score >= 400) return \"text-amber-400\"\n    return \"text-rose-400\"\n  })()\n\nconst scoreBadgeBg = (() => {\n  if (score >= 800) {\n    return \"bg-emerald-600/60 border-emerald-900 \"\n  }\n  if (score >= 600) {\n    return \"bg-lime-600/60 border-lime-900 \"\n  }\n  if (score >= 400) {\n    return \"bg-amber-600/60 border-amber-900 \"\n  }\n  return \"bg-rose-600/60 border-rose-900 \"\n})()\n\n\n  const getCardStatus = (cardId: string): Status => {\n    if (!showResults) {\n      return selectedCards.has(cardId) ? \"selected\" : \"unselected\"\n    }\n    return statusMap.get(cardId) ?? \"normal\"\n  }\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins}:${secs.toString().padStart(2, \"0\")}`\n  }\n\n  return (\n    <div className=\"container mx-auto max-w-7xl p-6 space-y-6 text-slate-50\">\n      {/* Header with inline submit button */}\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between\">\n        <div className=\"space-y-2 text-center sm:text-left\">\n          <h1\n      className={cn(\n        \"text-[32px] sm:text-[40px] font-semibold text-emerald-200/90\",\n        \"tracking-tight\"\n      )}\n    >\n      Select the Prize Cards\n    </h1>\n          <p className=\"text-slate-400 text-sm sm:text-base\">\n            {showResults\n              ? \"Here are your results.\"\n              : \"Select the 6 cards you believe were prizes.\"}\n          </p>\n        </div>\n\n        {!showResults && (\n          <div className=\"flex items-center justify-center sm:justify-end gap-3\">\n            <span className=\"text-xs sm:text-sm text-slate-400\">\n              Selected{\" \"}\n              <span className=\"font-semibold text-emerald-200\">\n                {selectedCards.size}\n              </span>{\" \"}\n              of{\" \"}\n              <span className=\"font-semibold text-emerald-200\">\n                {totalPrizes}\n              </span>\n            </span>\n            <Button\n              onClick={handleSubmit}\n              disabled={selectedCards.size !== totalPrizes}\n              size=\"sm\"\n              className=\"rounded-full px-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30 transition-transform duration-150 active:scale-95 disabled:bg-emerald-900 disabled:text-slate-500 disabled:cursor-not-allowed disabled:shadow-none\"\n            >\n              Submit Guesses\n            </Button>\n          </div>\n        )}\n      </div>\n\n      {/* Score + rank + stats + legend + bar */}\n      {showResults && (\n        <Card\n          className={cn(\n            \"px-6 py-6 sm:px-8 sm:py-7 text-slate-50 space-y-4\",\n            resultsPanelClasses,\n          )}\n        >\n          {/* Top row: Score + Rank + Stats */}\n          <div className=\"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between\">\n            {/* Left: Score + PB */}\n            <div className=\"flex items-center gap-4\">\n              <div\n                className={cn(\n                  \"flex items-center gap-3 rounded-2xl px-4 py-2 border\",\n                  scoreBadgeBg,\n                )}\n              >\n                <Trophy className=\"h-6 w-6 text-amber-300\" />\n                <div className=\"flex flex-col items-start\">\n                  <span\n                    className={cn(\n                      \"text-2xl sm:text-3xl font-semibold\",\n                      scoreColor,\n                    )}\n                  >\n                    {score}\n                  </span>\n                  <span className=\"text-[11px] uppercase tracking-wide text-slate-300\">\n                    Overall score\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"flex flex-col gap-1 text-xs sm:text-sm text-slate-300\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-slate-400\">Personal Best:</span>\n                  <span className=\"font-semibold\">\n                    {personalBest ?? \"—\"}\n                  </span>\n                  {isNewPB && (\n                    <Badge className=\"bg-emerald-500 text-white text-[10px] uppercase tracking-wide\">\n                      New PB\n                    </Badge>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Center: Rank */}\n            {rank && previousRank && (\n              <div className=\"flex justify-center flex-1 mt-4 lg:mt-2\">\n                <div className=\"scale-[1.3] drop-shadow-[0_0_16px_rgba(16,185,129,0.4)]\">\n                  <RankDisplay\n                    previous={previousRank}\n                    current={rank}\n                    maxScore={1000}\n                    lastScore={score}\n                  />\n                </div>\n              </div>\n            )}\n\n            {/* Right: Stats */}\n            <div className=\"flex flex-wrap gap-4 text-xs sm:text-sm text-slate-300 justify-end\">\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <CheckCircle2 className=\"h-4 w-4 text-emerald-400\" />\n                  {correctGuesses} / {totalPrizes}\n                </span>\n                <span className=\"text-slate-400\">Correct ({accuracy}%)</span>\n              </div>\n\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <XCircle className=\"h-4 w-4 text-rose-400\" />\n                  {incorrectGuesses}\n                </span>\n                <span className=\"text-slate-400\">Wrong</span>\n              </div>\n\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <XCircle className=\"h-4 w-4 text-orange-400\" />\n                  {missedPrizes}\n                </span>\n                <span className=\"text-slate-400\">Missed</span>\n              </div>\n\n              <div className=\"flex flex-col items-start\">\n                <span className=\"font-semibold flex items-center gap-1\">\n                  <Timer className=\"h-4 w-4 text-sky-400\" />\n                  {formatTime(usedTime)}\n                </span>\n                <span className=\"text-slate-400\">\n                  of {formatTime(totalTime)} used\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Legend + Play Again + bottom progress bar */}\n          <div className=\"pt-3 space-y-3\">\n            <div className=\"flex flex-wrap items-center justify-between gap-4\">\n              <div className=\"flex flex-wrap items-center gap-4 text-xs sm:text-sm text-slate-200\">\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-4 h-4 rounded border-4 border-emerald-400\" />\n                  <span>Correct guess</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-4 h-4 rounded border-4 border-rose-500\" />\n                  <span>Wrong guess</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"w-4 h-4 rounded border-4 border-orange-400\" />\n                  <span>Missed prize</span>\n                </div>\n              </div>\n\n              {/* Right-side buttons */}\n              <div className=\"flex gap-2\">\n                <Button\n                  type=\"button\"\n                  size=\"sm\"\n                  onClick={handleImportNewList}\n                  className=\"rounded-full px-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30 transition-transform duration-150 active:scale-95\"\n                >\n                  Import New List\n                </Button>\n\n                <Button\n                  onClick={onRestart}\n                  size=\"sm\"\n                  className=\"rounded-full px-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-semibold shadow-md shadow-emerald-500/30 transition-transform duration-150 active:scale-95\"\n                >\n                  <RotateCcw className=\"mr-2 h-4 w-4\" />\n                  Play Again\n                </Button>\n              </div>\n            </div>\n\n            {/* Full-width bottom bar */}\n            {rank && rank.tier !== \"masterball\" && (\n              <div className=\"w-full\">\n                {(() => {\n                  const clamped = Math.max(\n                    0,\n                    Math.min(100, rank.progress ?? 0),\n                  )\n                  const toNext = Math.max(0, 100 - clamped)\n                  const delta = computeProgressDelta(previousRank, rank)\n\n                  return (\n                    <>\n                      <div className=\"w-full h-1 rounded-full bg-slate-800 overflow-hidden\">\n                        <div\n                          className={cn(\n                            \"h-full transition-all duration-800\",\n                            RANK_BAR_COLOR[rank.tier],\n                          )}\n                          style={{ width: `${clamped}%` }}\n                        />\n                      </div>\n                      <div className=\"mt-1 text-center text-[11px] text-slate-400\">\n                        {toNext}% to next rank\n                        {delta !== null && delta !== 0 && (\n                          <span\n                            className={cn(\n                              \"ml-1\",\n                              delta > 0 ? \"text-emerald-400\" : \"text-rose-400\",\n                            )}\n                          >\n                            ({delta > 0 ? \"+\" : \"\"}\n                            {Math.round(delta)})\n                          </span>\n                        )}\n                      </div>\n                    </>\n                  )\n                })()}\n              </div>\n            )}\n          </div>\n        </Card>\n      )}\n\n      {/* Card grid */}\n     <Card\n  className={cn(\n    \"p-5 rounded-3xl\",\n    // dark neutral background so the cards pop\n    \"bg-teal-900/40 shadow-[0_20px_45px_rgba(0,0,0,0.9)]\",\n    // emerald-tinted border & shadow for results\n    \"border-transparent\"\n  )}\n>\n  <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3\">\n          {cardsWithMeta.map((card, index) => {\n            const status = getCardStatus(card.instanceId)\n            const isClickable = !showResults\n\n            return (\n              <div\n                key={`${card.instanceId}-${index}`}\n                onClick={() => isClickable && toggleCard(card.instanceId)}\n                className={cn(\n                  \"group relative aspect-[2.5/3.5] rounded-xl overflow-hidden transition-all\",\n                  isClickable && \"cursor-pointer\",\n                  status === \"selected\" && \"ring-3 ring-sky-400 scale-[0.97]\",\n                  status === \"correct\" && \"ring-3 ring-emerald-400\",\n                  status === \"incorrect\" && \"ring-3 ring-rose-500\",\n                  status === \"missed\" && \"ring-3 ring-orange-400 opacity-90\",\n                  status === \"normal\" && showResults && \"opacity-40\",\n                  !showResults && \"hover:scale-105\",\n                )}\n              >\n                {card.image ? (\n                  // eslint-disable-next-line @next/next/no-img-element\n                  <img\n                    src={card.image || \"/placeholder.svg\"}\n                    alt={card.name}\n                    className=\"w-full h-full object-cover\"\n                  />\n                ) : (\n                  <div className=\"w-full h-full bg-slate-800 flex items-center justify-center p-2\">\n                    <p className=\"text-xs text-center text-slate-50 font-medium\">\n                      {card.name}\n                    </p>\n                  </div>\n                )}\n\n                {/* Status badge */}\n                {showResults && status !== \"normal\" && (\n                  <div className=\"absolute top-2 right-2\">\n                    {status === \"correct\" && (\n                      <Badge className=\"bg-emerald-500 text-white shadow-md shadow-emerald-500/40\">\n                        <CheckCircle2 className=\"h-3 w-3\" />\n                      </Badge>\n                    )}\n                    {status === \"incorrect\" && (\n                      <Badge className=\"bg-rose-500 text-white shadow-md shadow-rose-500/40\">\n                        <XCircle className=\"h-3 w-3\" />\n                      </Badge>\n                    )}\n                    {status === \"missed\" && (\n                      <Badge className=\"bg-orange-500 text-white shadow-md shadow-orange-500/40\">\n                        Prize\n                      </Badge>\n                    )}\n                  </div>\n                )}\n\n                {/* Hover / selection overlay before submit */}\n                {!showResults && (\n                  <div\n                    className={cn(\n                      \"absolute inset-0 transition-opacity flex items-center justify-center p-2\",\n                      status === \"selected\"\n                        ? \"bg-sky-500/25 backdrop-blur-sm opacity-100\"\n                        : \"bg-black/70 opacity-0 group-hover:opacity-100\",\n                    )}\n                  >\n                    {status === \"selected\" ? (\n                      <div className=\"flex flex-col items-center gap-1\">\n                        <span className=\"text-2xl sm:text-3xl font-extrabold tracking-[0.18em] text-emerald-200/90 drop-shadow-[0_0_14px_rgba(45,212,191,0.85)]\">\n                          {selectedCards.size}/{totalPrizes}\n                        </span>\n                        <span className=\"text-[10px] sm:text-xs uppercase tracking-[0.22em] text-sky-100/80\">\n                          Selected\n                        </span>\n                      </div>\n                    ) : (\n                      <p className=\"text-xs text-white text-center font-medium\">\n                        {card.name}\n                      </p>\n                    )}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </Card>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AAbA;;;;;;;;;;;AA+BA,+CAA+C,GAE/C,MAAM,kBAAuC;IAC3C;IACA;IACA;IACA;CACD;AAED,MAAM,iBAAoD;IACxD,UAAU;IACV,WAAW;IACX,WAAW;IACX,YAAY;AACd;AAEA,SAAS,qBACP,QAA0B,EAC1B,OAAyB;IAEzB,IAAI,CAAC,YAAY,CAAC,SAAS,OAAO;IAClC,IAAI,QAAQ,IAAI,KAAK,cAAc,OAAO;IAE1C,MAAM,YAAY,gBAAgB,OAAO,CAAC,SAAS,IAAI;IACvD,MAAM,YAAY,gBAAgB,OAAO,CAAC,QAAQ,IAAI;IACtD,IAAI,cAAc,CAAC,KAAK,cAAc,CAAC,GAAG,OAAO;IAEjD,MAAM,kBAAkB,QAAQ,QAAQ,IAAI;IAE5C,kCAAkC;IAClC,IAAI,YAAY,WAAW;QACzB,OAAO;IACT;IAEA,4CAA4C;IAC5C,IAAI,YAAY,WAAW;QACzB,OAAO,kBAAkB;IAC3B;IAEA,yCAAyC;IACzC,OAAO,kBAAkB,CAAC,SAAS,QAAQ,IAAI,CAAC;AAClD;AAEA,6CAA6C,GAE7C,sDAAsD;AACtD,MAAM,sBACJ,qDACA;AAEF,8DAA8D;AAC9D,MAAM,mBACJ,4DACA;AAEK,SAAS,YAAY,EAC1B,QAAQ,EACR,UAAU,EACV,SAAS,EACT,QAAQ,EACR,SAAS,EACQ;IACjB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAc,IAAI;IACpE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB;IAEhE,aAAa;IACb,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAmB;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAmB;IAEnE,MAAM,cAAc,WAAW,MAAM,IAAI;IAEzC,0BAA0B;IAC1B,IAAA,kNAAS,EAAC;QACR,wCAAmC;;;QACnC,MAAM;IAKR,GAAG,EAAE;IAEL,iBAAiB;IACjB,IAAA,kNAAS,EAAC;QACR,wCAAmC;;;QACnC,MAAM;IAWR,GAAG,EAAE;IAEL,wDAAwD;IACxD,MAAM,gBAAgB,IAAA,gNAAO,EAC3B,IACE,SACG,GAAG,CAAC,CAAC,OAAS,CAAC;gBACd,GAAG,IAAI;gBACP,YAAY,KAAK,EAAE;gBACnB,QAAQ,KAAK,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YAC/B,CAAC,GACA,IAAI,CAAC,CAAC,GAAG;YACR,IAAI,EAAE,MAAM,KAAK,EAAE,MAAM,EAAE;gBACzB,OAAO,EAAE,UAAU,CAAC,aAAa,CAAC,EAAE,UAAU;YAChD;YACA,OAAO,EAAE,MAAM,CAAC,aAAa,CAAC,EAAE,MAAM;QACxC,IACJ;QAAC;KAAS;IAGZ,kDAAkD;IAClD,MAAM,mBAAmB,IAAA,gNAAO,EAAC;QAC/B,MAAM,MAAM,IAAI;QAChB,KAAK,MAAM,KAAK,WAAY;YAC1B,MAAM,SAAS,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YACjC,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI;QAC3C;QACA,OAAO;IACT,GAAG;QAAC;KAAW;IAEf,MAAM,aAAa,CAAC;QAClB,IAAI,aAAa;QAEjB,MAAM,OAAO,IAAI,IAAI;QACrB,IAAI,KAAK,GAAG,CAAC,SAAS;YACpB,KAAK,MAAM,CAAC;QACd,OAAO,IAAI,KAAK,IAAI,GAAG,GAAG;YACxB,KAAK,GAAG,CAAC;QACX;QACA,iBAAiB;IACnB;IAEA,MAAM,CAAC,WAAW,gBAAgB,kBAAkB,aAAa,GAAG,IAAA,gNAAO,EAAC;QAC1E,IAAI,CAAC,aAAa,OAAO;YAAC,IAAI;YAAuB;YAAG;YAAG;SAAE;QAE7D,MAAM,SAAS,IAAI;QAEnB,4BAA4B;QAC5B,MAAM,cAAc,IAAI;QACxB,KAAK,MAAM,KAAK,cAAe;YAC7B,MAAM,MAAM,YAAY,GAAG,CAAC,EAAE,MAAM,KAAK,EAAE;YAC3C,IAAI,IAAI,CAAC,EAAE,UAAU;YACrB,YAAY,GAAG,CAAC,EAAE,MAAM,EAAE;QAC5B;QAEA,IAAI,UAAU;QACd,IAAI,YAAY;QAChB,IAAI,SAAS;QAEb,KAAK,MAAM,CAAC,QAAQ,YAAY,IAAI,YAAY,OAAO,GAAI;YACzD,MAAM,aAAa,iBAAiB,GAAG,CAAC,WAAW;YACnD,IAAI,eAAe,GAAG;gBACpB,gEAAgE;gBAChE,KAAK,MAAM,MAAM,YAAa;oBAC5B,IAAI,cAAc,GAAG,CAAC,KAAK;wBACzB,OAAO,GAAG,CAAC,IAAI;wBACf;oBACF;gBACF;gBACA;YACF;YAEA,MAAM,cAAc,YAAY,MAAM,CAAC,CAAC,KAAO,cAAc,GAAG,CAAC;YACjE,MAAM,eAAe,KAAK,GAAG,CAAC,YAAY,YAAY,MAAM;YAE5D,wBAAwB;YACxB,IAAK,IAAI,IAAI,GAAG,IAAI,cAAc,IAAK;gBACrC,MAAM,KAAK,WAAW,CAAC,EAAE;gBACzB,OAAO,GAAG,CAAC,IAAI;gBACf;YACF;YAEA,8BAA8B;YAC9B,IAAK,IAAI,IAAI,cAAc,IAAI,YAAY,MAAM,EAAE,IAAK;gBACtD,MAAM,KAAK,WAAW,CAAC,EAAE;gBACzB,OAAO,GAAG,CAAC,IAAI;gBACf;YACF;YAEA,6DAA6D;YAC7D,MAAM,kBAAkB,aAAa;YACrC,IAAI,kBAAkB,GAAG;gBACvB,MAAM,gBAAgB,YAAY,MAAM,CAAC,CAAC,KAAO,CAAC,cAAc,GAAG,CAAC;gBACpE,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,GAAG,CAAC,iBAAiB,cAAc,MAAM,GAAG,IAAK;oBACxE,MAAM,KAAK,aAAa,CAAC,EAAE;oBAC3B,OAAO,GAAG,CAAC,IAAI;oBACf;gBACF;YACF;QACF;QAEA,OAAO;YAAC;YAAQ;YAAS;YAAW;SAAO;IAC7C,GAAG;QAAC;QAAa;QAAe;QAAkB;KAAc;IAEhE,MAAM,eAAe;QACnB,eAAe;IACjB;IAEA,MAAM,sBAAsB;QAC1B;;IAGF;IAEA,MAAM,WACJ,cAAc,IAAI,KAAK,KAAK,CAAC,AAAC,iBAAiB,cAAe,OAAO;IAEvE,4DAA4D;IAC5D,MAAM,WAAW,YAAY,OAAO,IAAI,KAAK,GAAG,CAAC,GAAG,YAAY;IAEhE,MAAM,cACJ,cAAc,IACV,IACA,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC,YAAY,QAAQ,IAAI;IAEvD,qDAAqD;IACrD,MAAM,QAAQ,CAAC;QACb,MAAM,WAAW,WAAW;QAC5B,MAAM,MAAM,WAAW,MAAM,cAAc;QAC3C,OAAO,KAAK,KAAK,CAAC,MAAM;IAC1B,CAAC;IAED,YAAY;IACZ,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa;QAClB,wCAAmC;;;IAiBrC,GAAG;QAAC;QAAa;KAAM;IAEvB,gCAAgC;IAChC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,aAAa;QAClB,wCAAmC;;;IAYrC,GAAG;QAAC;QAAa;KAAM;IAEvB,MAAM,UACJ,eAAe,CAAC,iBAAiB,QAAQ,SAAS,YAAY;IAEhE,MAAM,aAAa,CAAC;QAClB,IAAI,SAAS,KAAK,OAAO;QACzB,IAAI,SAAS,KAAK,OAAO;QACzB,IAAI,SAAS,KAAK,OAAO;QACzB,OAAO;IACT,CAAC;IAEH,MAAM,eAAe,CAAC;QACpB,IAAI,SAAS,KAAK;YAChB,OAAO;QACT;QACA,IAAI,SAAS,KAAK;YAChB,OAAO;QACT;QACA,IAAI,SAAS,KAAK;YAChB,OAAO;QACT;QACA,OAAO;IACT,CAAC;IAGC,MAAM,gBAAgB,CAAC;QACrB,IAAI,CAAC,aAAa;YAChB,OAAO,cAAc,GAAG,CAAC,UAAU,aAAa;QAClD;QACA,OAAO,UAAU,GAAG,CAAC,WAAW;IAClC;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;QAClC,MAAM,OAAO,UAAU;QACvB,OAAO,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IACtD;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACL,WAAW,IAAA,kHAAE,EACX,gEACA;0CAEH;;;;;;0CAGK,8OAAC;gCAAE,WAAU;0CACV,cACG,2BACA;;;;;;;;;;;;oBAIP,CAAC,6BACA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;;oCAAoC;oCACzC;kDACT,8OAAC;wCAAK,WAAU;kDACb,cAAc,IAAI;;;;;;oCACb;oCAAI;oCACT;kDACH,8OAAC;wCAAK,WAAU;kDACb;;;;;;;;;;;;0CAGL,8OAAC,qIAAM;gCACL,SAAS;gCACT,UAAU,cAAc,IAAI,KAAK;gCACjC,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;YAQN,6BACC,8OAAC,iIAAI;gBACH,WAAW,IAAA,kHAAE,EACX,qDACA;;kCAIF,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,WAAW,IAAA,kHAAE,EACX,wDACA;;0DAGF,8OAAC,gNAAM;gDAAC,WAAU;;;;;;0DAClB,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDACC,WAAW,IAAA,kHAAE,EACX,sCACA;kEAGD;;;;;;kEAEH,8OAAC;wDAAK,WAAU;kEAAqD;;;;;;;;;;;;;;;;;;kDAMzE,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAK,WAAU;8DAAiB;;;;;;8DACjC,8OAAC;oDAAK,WAAU;8DACb,gBAAgB;;;;;;gDAElB,yBACC,8OAAC,mIAAK;oDAAC,WAAU;8DAAgE;;;;;;;;;;;;;;;;;;;;;;;4BASxF,QAAQ,8BACP,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,6IAAW;wCACV,UAAU;wCACV,SAAS;wCACT,UAAU;wCACV,WAAW;;;;;;;;;;;;;;;;0CAOnB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;;kEACd,8OAAC,qOAAY;wDAAC,WAAU;;;;;;oDACvB;oDAAe;oDAAI;;;;;;;0DAEtB,8OAAC;gDAAK,WAAU;;oDAAiB;oDAAU;oDAAS;;;;;;;;;;;;;kDAGtD,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;;kEACd,8OAAC,uNAAO;wDAAC,WAAU;;;;;;oDAClB;;;;;;;0DAEH,8OAAC;gDAAK,WAAU;0DAAiB;;;;;;;;;;;;kDAGnC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;;kEACd,8OAAC,uNAAO;wDAAC,WAAU;;;;;;oDAClB;;;;;;;0DAEH,8OAAC;gDAAK,WAAU;0DAAiB;;;;;;;;;;;;kDAGnC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;;kEACd,8OAAC,6MAAK;wDAAC,WAAU;;;;;;oDAChB,WAAW;;;;;;;0DAEd,8OAAC;gDAAK,WAAU;;oDAAiB;oDAC3B,WAAW;oDAAW;;;;;;;;;;;;;;;;;;;;;;;;;kCAOlC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;;;;;;kEACf,8OAAC;kEAAK;;;;;;;;;;;;0DAER,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;;;;;;kEACf,8OAAC;kEAAK;;;;;;;;;;;;0DAER,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;;;;;;kEACf,8OAAC;kEAAK;;;;;;;;;;;;;;;;;;kDAKV,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,qIAAM;gDACL,MAAK;gDACL,MAAK;gDACL,SAAS;gDACT,WAAU;0DACX;;;;;;0DAID,8OAAC,qIAAM;gDACL,SAAS;gDACT,MAAK;gDACL,WAAU;;kEAEV,8OAAC,6NAAS;wDAAC,WAAU;;;;;;oDAAiB;;;;;;;;;;;;;;;;;;;4BAO3C,QAAQ,KAAK,IAAI,KAAK,8BACrB,8OAAC;gCAAI,WAAU;0CACZ,CAAC;oCACA,MAAM,UAAU,KAAK,GAAG,CACtB,GACA,KAAK,GAAG,CAAC,KAAK,KAAK,QAAQ,IAAI;oCAEjC,MAAM,SAAS,KAAK,GAAG,CAAC,GAAG,MAAM;oCACjC,MAAM,QAAQ,qBAAqB,cAAc;oCAEjD,qBACE;;0DACE,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDACC,WAAW,IAAA,kHAAE,EACX,sCACA,cAAc,CAAC,KAAK,IAAI,CAAC;oDAE3B,OAAO;wDAAE,OAAO,GAAG,QAAQ,CAAC,CAAC;oDAAC;;;;;;;;;;;0DAGlC,8OAAC;gDAAI,WAAU;;oDACZ;oDAAO;oDACP,UAAU,QAAQ,UAAU,mBAC3B,8OAAC;wDACC,WAAW,IAAA,kHAAE,EACX,QACA,QAAQ,IAAI,qBAAqB;;4DAEpC;4DACG,QAAQ,IAAI,MAAM;4DACnB,KAAK,KAAK,CAAC;4DAAO;;;;;;;;;;;;;;;gCAM/B,CAAC;;;;;;;;;;;;;;;;;;0BAQZ,8OAAC,iIAAI;gBACR,WAAW,IAAA,kHAAE,EACX,mBACA,2CAA2C;gBAC3C,uDACA,6CAA6C;gBAC7C;0BAGF,cAAA,8OAAC;oBAAI,WAAU;8BACN,cAAc,GAAG,CAAC,CAAC,MAAM;wBACxB,MAAM,SAAS,cAAc,KAAK,UAAU;wBAC5C,MAAM,cAAc,CAAC;wBAErB,qBACE,8OAAC;4BAEC,SAAS,IAAM,eAAe,WAAW,KAAK,UAAU;4BACxD,WAAW,IAAA,kHAAE,EACX,6EACA,eAAe,kBACf,WAAW,cAAc,oCACzB,WAAW,aAAa,2BACxB,WAAW,eAAe,wBAC1B,WAAW,YAAY,qCACvB,WAAW,YAAY,eAAe,cACtC,CAAC,eAAe;;gCAGjB,KAAK,KAAK,GACT,qDAAqD;8CACrD,8OAAC;oCACC,KAAK,KAAK,KAAK,IAAI;oCACnB,KAAK,KAAK,IAAI;oCACd,WAAU;;;;;yDAGZ,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAE,WAAU;kDACV,KAAK,IAAI;;;;;;;;;;;gCAMf,eAAe,WAAW,0BACzB,8OAAC;oCAAI,WAAU;;wCACZ,WAAW,2BACV,8OAAC,mIAAK;4CAAC,WAAU;sDACf,cAAA,8OAAC,qOAAY;gDAAC,WAAU;;;;;;;;;;;wCAG3B,WAAW,6BACV,8OAAC,mIAAK;4CAAC,WAAU;sDACf,cAAA,8OAAC,uNAAO;gDAAC,WAAU;;;;;;;;;;;wCAGtB,WAAW,0BACV,8OAAC,mIAAK;4CAAC,WAAU;sDAA0D;;;;;;;;;;;;gCAQhF,CAAC,6BACA,8OAAC;oCACC,WAAW,IAAA,kHAAE,EACX,4EACA,WAAW,aACP,+CACA;8CAGL,WAAW,2BACV,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;;oDACb,cAAc,IAAI;oDAAC;oDAAE;;;;;;;0DAExB,8OAAC;gDAAK,WAAU;0DAAqE;;;;;;;;;;;6DAKvF,8OAAC;wCAAE,WAAU;kDACV,KAAK,IAAI;;;;;;;;;;;;2BAtEb,GAAG,KAAK,UAAU,CAAC,CAAC,EAAE,OAAO;;;;;oBA6ExC;;;;;;;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 3474, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/lib/shuffle.ts"],"sourcesContent":["// lib/shuffle.ts\nimport type { PokemonCard } from \"./types\"\n\nfunction shuffle<T>(arr: T[]): T[] {\n  const copy = [...arr]\n  for (let i = copy.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1))\n    ;[copy[i], copy[j]] = [copy[j], copy[i]]\n  }\n  return copy\n}\n\nexport function dealCards(fullDeck: PokemonCard[]) {\n  // defensive: work with a shuffled copy of whatever we receive\n  const shuffled = shuffle(fullDeck)\n\n  // 6 prize cards, 8-card opening hand, rest is draw deck\n  const prizes = shuffled.slice(0, 6)\n  const hand = shuffled.slice(6, 14)\n  const deck = shuffled.slice(14)\n\n  return {\n    deck,     // 46 cards shown in the carousel\n    prizes,   // 6 prize cards\n    hand,     // 8-card starting hand\n  }\n}\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;AAGjB,SAAS,QAAW,GAAQ;IAC1B,MAAM,OAAO;WAAI;KAAI;IACrB,IAAK,IAAI,IAAI,KAAK,MAAM,GAAG,GAAG,IAAI,GAAG,IAAK;QACxC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC;QAC1C,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG;YAAC,IAAI,CAAC,EAAE;YAAE,IAAI,CAAC,EAAE;SAAC;IAC1C;IACA,OAAO;AACT;AAEO,SAAS,UAAU,QAAuB;IAC/C,8DAA8D;IAC9D,MAAM,WAAW,QAAQ;IAEzB,wDAAwD;IACxD,MAAM,SAAS,SAAS,KAAK,CAAC,GAAG;IACjC,MAAM,OAAO,SAAS,KAAK,CAAC,GAAG;IAC/B,MAAM,OAAO,SAAS,KAAK,CAAC;IAE5B,OAAO;QACL;QACA;QACA;IACF;AACF"}},
    {"offset": {"line": 3509, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/loading-overlay.tsx"],"sourcesContent":["\"use client\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface LoadingOverlayProps {\n  visible: boolean\n  progress: number\n  message?: string\n}\n\nexport function LoadingOverlay({ visible, progress, message }: LoadingOverlayProps) {\n  return (\n    <div\n      className={cn(\n        \"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm transition-opacity duration-300\",\n        visible ? \"opacity-100 pointer-events-auto\" : \"opacity-0 pointer-events-none\"\n      )}\n    >\n      <div className=\"flex flex-col items-center gap-6\">\n        {/* Circular sun-glow aura around the gif */}\n        <div className=\"relative inline-flex items-center justify-center\">\n          {/* Radial glow */}\n          <div className=\"absolute w-[140%] h-[140%] rounded-full bg-emerald-400/14 blur-3xl\" />\n          {/* Gif at natural size with a soft halo */}\n          <img\n            src=\"/pokemon_riffle_shuffle.gif\"\n            alt=\"Shuffling deck...\"\n            className=\"relative block max-w-full h-auto drop-shadow-[0_0_28px_rgba(45,212,191,0.55)]\"\n          />\n        </div>\n\n        {message && (\n          <p className=\"text-slate-100 text-sm md:text-base tracking-wide\">\n            {message}\n          </p>\n        )}\n\n        {/* Progress bar */}\n        <div className=\"w-64 max-w-[80vw]\">\n          <div className=\"h-2 rounded-full bg-slate-800 overflow-hidden\">\n            <div\n              className=\"h-full rounded-full bg-emerald-400 transition-all duration-100\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n          <p className=\"mt-2 text-xs text-slate-400 text-center\">\n            {progress < 100 ? \"Shuffling and importing...\" : \"Ready!\"}\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,SAAS,eAAe,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAuB;IAChF,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wHACA,UAAU,oCAAoC;kBAGhD,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;;;;;sCAEf,8OAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;;;;;;;gBAIb,yBACC,8OAAC;oBAAE,WAAU;8BACV;;;;;;8BAKL,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,OAAO,GAAG,SAAS,CAAC,CAAC;gCAAC;;;;;;;;;;;sCAGnC,8OAAC;4BAAE,WAAU;sCACV,WAAW,MAAM,+BAA+B;;;;;;;;;;;;;;;;;;;;;;;AAM7D"}},
    {"offset": {"line": 3607, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/countdown-overlay.tsx"],"sourcesContent":["// components/countdown-overlay.tsx\n\"use client\"\n\nimport { cn } from \"@/lib/utils\"\n\ninterface CountdownOverlayProps {\n  visible: boolean\n  count: number | null\n}\n\nexport function CountdownOverlay({ visible, count }: CountdownOverlayProps) {\n  return (\n    <div\n      className={cn(\n        \"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur-sm transition-opacity duration-300\",\n        visible ? \"opacity-100 pointer-events-auto\" : \"opacity-0 pointer-events-none\"\n      )}\n    >\n      <div className=\"flex flex-col items-center gap-4\">\n        <img\n          src=\"/pokeball.gif\"\n          alt=\"Get ready...\"\n          className=\"w-40 h-auto md:w-52 drop-shadow-[0_0_28px_rgba(45,212,191,0.55)]\"\n        />\n        {count != null && (\n          <div className=\"text-slate-50 text-6xl md:text-6xl font-semibold tracking-widest font-TimesNewRoman\">\n            {count}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"AAAA,mCAAmC;;;;;;AAGnC;AAFA;;;AASO,SAAS,iBAAiB,EAAE,OAAO,EAAE,KAAK,EAAyB;IACxE,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wHACA,UAAU,oCAAoC;kBAGhD,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBACC,KAAI;oBACJ,KAAI;oBACJ,WAAU;;;;;;gBAEX,SAAS,sBACR,8OAAC;oBAAI,WAAU;8BACZ;;;;;;;;;;;;;;;;;AAMb"}},
    {"offset": {"line": 3656, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/components/site-footer.tsx"],"sourcesContent":["\"use client\"\n\nimport Link from \"next/link\"\nimport { FooterMusicControls } from \"@/components/music-player\" // or MusicControls if that's what you're using\n\nexport function SiteFooter() {\n  return (\n    <footer className=\"border-t border-emerald-200/60 bg-emerald-100/90 backdrop-blur-sm\">\n      <div className=\"mx-auto flex max-w-7xl flex-col gap-6 px-4 py-4 md:flex-row md:items-center md:justify-between\">\n        {/* Left: title + links */}\n        <div className=\"space-y-2\">\n          <p className=\"text-xs font-semibold tracking-[0.16em] uppercase text-emerald-900\">\n            PrizeCheckDrillr.io\n          </p>\n          <p className=\"text-xs text-emerald-900/80\">\n            Use this and the tools below to become a better player.\n          </p>\n\n          <nav className=\"mt-2 flex flex-wrap gap-x-4 gap-y-1 text-[11px] text-emerald-900/80\">\n           \n            <Link\n              href=\"https://dragapultist.vercel.app\"\n              target=\"_blank\"\n              className=\"hover:underline\"\n            >\n              Dragapultist (Pokémon TCG Analyzer)\n            </Link>\n            <Link\n              href=\"https://tcgmasters.net\"\n              target=\"_blank\"\n              className=\"hover:underline\"\n            >\n              TCG Masters (Matchup Simulator)\n            </Link>\n            <Link\n              href=\"https://limitlesstcg.com/decks/lists\"\n              target=\"_blank\"\n              className=\"hover:underline\"\n            >\n              LimitlessTCG (Deck Database)\n            </Link>\n             <Link href=\"mailto:chriszcodes@gmail.com\" className=\"hover:underline\">\n              Contact\n            </Link>\n          </nav>\n        </div>\n\n        {/* Middle: disclaimer */}\n        <p className=\"max-w-xl text-[10px] leading-relaxed text-emerald-900/80\">\n          The literal and graphical information presented on this website about the Pokémon\n          Trading Card Game, including card images and text, is © The Pokémon Company, Nintendo,\n          Game Freak, and/or Creatures. This website is not produced by, endorsed by, supported by,\n          or affiliated with those companies.\n        </p>\n\n        {/* Right: volume slider only */}\n        <div className=\"flex items-center justify-end gap-3\">\n          <FooterMusicControls />\n        </div>\n      </div>\n    </footer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA,8NAAgE,+CAA+C;AAH/G;;;;AAKO,SAAS;IACd,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAqE;;;;;;sCAGlF,8OAAC;4BAAE,WAAU;sCAA8B;;;;;;sCAI3C,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC,uKAAI;oCACH,MAAK;oCACL,QAAO;oCACP,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,QAAO;oCACP,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,QAAO;oCACP,WAAU;8CACX;;;;;;8CAGA,8OAAC,uKAAI;oCAAC,MAAK;oCAA+B,WAAU;8CAAkB;;;;;;;;;;;;;;;;;;8BAO3E,8OAAC;oBAAE,WAAU;8BAA2D;;;;;;8BAQxE,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,qJAAmB;;;;;;;;;;;;;;;;;;;;;AAK9B"}},
    {"offset": {"line": 3782, "column": 0}, "map": {"version":3,"sources":["file:///Users/admin/Desktop/projects/pokemon-tcg-prize-checker/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { DeckImport } from \"@/components/deck-import\"\nimport { DeckView } from \"@/components/deck-view\"\nimport { ResultsView } from \"@/components/results-view\"\nimport type { PokemonCard } from \"@/lib/types\"\nimport { dealCards } from \"@/lib/shuffle\"\nimport { LoadingOverlay } from \"@/components/loading-overlay\"\nimport { CountdownOverlay } from \"@/components/countdown-overlay\"\nimport { SiteFooter } from \"@/components/site-footer\"\nimport { FloatingGameVolume } from \"@/components/music-player\"\nimport { cn } from \"@/lib/utils\" \n\n\ntype Stage = \"import\" | \"game\" | \"results\"\n\nconst GAME_DURATION = 120 // seconds – keep in sync with DeckView\n\n// 🔹 Featured deck text that should be auto-imported on load\nconst DEFAULT_FEATURED_DECK_TEXT = `Pokémon: 26\n2 Charmander PAF 7\n1 Charmander PFL 11\n1 Charmeleon PFL 12\n2 Charizard ex OBF 125\n3 Hoothoot SCR 114\n3 Noctowl SCR 115\n1 Pidgey MEW 16\n1 Pidgey OBF 162\n2 Pidgeot ex OBF 164\n2 Duskull PRE 35\n1 Dusclops PRE 36\n1 Dusknoir PRE 37\n2 Terapagos ex SCR 128\n2 Fan Rotom SCR 118\n1 Fezandipiti ex SFA 38\n1 Klefki SVI 96\n\nTrainer: 27\n4 Dawn PFL 87\n2 Iono PAL 185\n2 Boss's Orders MEG 114\n1 Briar SCR 132\n4 Buddy-Buddy Poffin TEF 144\n4 Nest Ball SVI 181\n4 Rare Candy MEG 125\n1 Ultra Ball MEG 131\n1 Super Rod PAL 188\n1 Night Stretcher SFA 61\n1 Prime Catcher TEF 157\n2 Area Zero Underdepths SCR 131\n\nEnergy: 7\n5 Fire Energy MEE 2\n2 Jet Energy PAL 190`\n\nexport default function HomePage() {\n  const [stage, setStage] = useState<Stage>(\"import\")\n  // Track if user has seen initial import (to avoid repeating auto-import)\n  const [hasSeenInitialImport, setHasSeenInitialImport] = useState(false)\n\n\n  // Full imported deck (52) so we can reshuffle new combos\n  const [fullDeck, setFullDeck] = useState<PokemonCard[]>([])\n\n  // Current game state\n  const [playDeck, setPlayDeck] = useState<PokemonCard[]>([])\n  const [hand, setHand] = useState<PokemonCard[]>([])\n  const [prizeCards, setPrizeCards] = useState<PokemonCard[]>([])\n\n  // Shuffle overlay (riffle + progress bar)\n  const [isShuffling, setIsShuffling] = useState(false)\n  const [shuffleProgress, setShuffleProgress] = useState(0)\n\n  // Pre-game countdown overlay (pokeball + 3-2-1)\n  const [preGameCount, setPreGameCount] = useState<number | null>(null)\n\n  const startShuffleAnimation = () => {\n    setIsShuffling(true)\n    setShuffleProgress(0)\n\n    const totalDuration = 3000 // ~3 seconds\n    const tick = 50\n    let elapsed = 0\n\n    const timer = window.setInterval(() => {\n      elapsed += tick\n      const ratio = Math.min(1, elapsed / totalDuration)\n      const next = Math.round(ratio * 100)\n\n      setShuffleProgress(next)\n\n      if (ratio >= 1) {\n        window.clearInterval(timer)\n        setIsShuffling(false)\n      }\n    }, tick)\n  }\n\n  // Deal a fresh game (deck / hand / prizes) from a given full deck\n  const setupNewGameFromDeck = (sourceDeck: PokemonCard[]) => {\n    const { deck, prizes, hand } = dealCards(sourceDeck)\n    setPlayDeck(deck) // 46 in deck\n    setHand(hand) // 8 in hand\n    setPrizeCards(prizes) // 6 prizes\n  }\n\n  // Shared 3-2-1 pokeball countdown\n  const startPreGameCountdown = () => {\n    if (preGameCount !== null) return // already counting\n\n    let current = 3\n    setPreGameCount(current)\n\n    const timer = window.setInterval(() => {\n      current -= 1\n\n      if (current <= 0) {\n        window.clearInterval(timer)\n        setPreGameCount(null)\n        setStage(\"game\")\n      } else {\n        setPreGameCount(current)\n      }\n    }, 1000)\n  }\n\n  // When a deck is first imported from text\n  const handleDeckImported = (importedFullDeck: PokemonCard[]) => {\n    setFullDeck(importedFullDeck)\n\n    // Create initial game state from this deck\n    setupNewGameFromDeck(importedFullDeck)\n\n    // Show riffle shuffle overlay\n    if (hasSeenInitialImport) {\n    startShuffleAnimation()\n  } else {\n    setHasSeenInitialImport(true)\n  }\n}\n\n  // When user presses Start Game from the import screen\n  const handleStartGame = () => {\n    if (playDeck.length === 0) return\n    startPreGameCountdown()\n  }\n\n  // When timer ends or user hits \"End game\"\n  const handleTimeUp = () => {\n    setStage(\"results\")\n  }\n\n  // New: restart the game (from in-game or results)\n  const handleRestartGame = () => {\n    if (fullDeck.length === 0) return\n\n    setupNewGameFromDeck(fullDeck)\n    startPreGameCountdown()\n  }\n\n  // Go back to import screen (for \"Import new list\" button on results)\n  const handleGoToImport = () => {\n    setStage(\"import\")\n  }\n\n  return (\n  <div\n    className={cn(\n      \"min-h-screen flex flex-col text-slate-50\",\n      stage === \"results\"\n        // lighter background just for the Select-the-Prize-Cards page\n        ? \"bg-gradient-to-b from-slate-600/40 via-slate-900 to-slate-700\"\n        // rest of app theme color\n        : \"bg-gradient-to-b from-slate-850 via-slate-800 to-slate-850\",\n    )}\n  >\n    {/* Main content area */}\n    <div className=\"flex-1 relative\">\n      {/* Riffle shuffle overlay */}\n      <LoadingOverlay\n        visible={isShuffling}\n        progress={shuffleProgress}\n        message=\"Shuffling & importing your deck\"\n      />\n\n      {/* 3-2-1 countdown */}\n      <CountdownOverlay visible={preGameCount !== null} count={preGameCount} />\n\n      {stage === \"import\" && (\n        <DeckImport\n          onDeckImported={handleDeckImported}\n          canStartGame={playDeck.length > 0}\n          onStartGame={handleStartGame}\n          initialText={DEFAULT_FEATURED_DECK_TEXT}\n          autoImportOnMount\n          deckTitle=\"Charizard Noctowl\"\n          deckPlayer=\"Nicolai Stiborg\"\n        />\n      )}\n\n      {stage === \"game\" && (\n        <>\n          <DeckView\n            deck={playDeck}\n            hand={hand}\n            onTimeUp={handleTimeUp}\n            onEndEarly={handleTimeUp}\n            onRestartGame={handleRestartGame}\n          />\n          <FloatingGameVolume />\n        </>\n      )}\n\n      {stage === \"results\" && (\n        <ResultsView\n          allCards={[...playDeck, ...hand, ...prizeCards]}\n          prizeCards={prizeCards}\n          onRestart={handleRestartGame}\n          onImportNewList={handleGoToImport}\n          timeLeft={null}\n          totalTime={GAME_DURATION}\n        />\n      )}\n    </div>\n\n    {stage !== \"game\" && <SiteFooter />}\n  </div>\n)\n\n}\n"],"names":[],"mappings":"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"}}]
}